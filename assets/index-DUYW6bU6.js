(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function e(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}var t={},n=[],r=()=>{},i=()=>!1,a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),o=e=>e.startsWith(`onUpdate:`),s=Object.assign,c=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},l=Object.prototype.hasOwnProperty,u=(e,t)=>l.call(e,t),d=Array.isArray,f=e=>x(e)===`[object Map]`,p=e=>x(e)===`[object Set]`,m=e=>x(e)===`[object Date]`,h=e=>typeof e==`function`,g=e=>typeof e==`string`,_=e=>typeof e==`symbol`,v=e=>typeof e==`object`&&!!e,y=e=>(v(e)||h(e))&&h(e.then)&&h(e.catch),b=Object.prototype.toString,x=e=>b.call(e),ee=e=>x(e).slice(8,-1),S=e=>x(e)===`[object Object]`,te=e=>g(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,ne=e(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),re=e=>{let t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ie=/-\w/g,ae=re(e=>e.replace(ie,e=>e.slice(1).toUpperCase())),oe=/\B([A-Z])/g,se=re(e=>e.replace(oe,`-$1`).toLowerCase()),ce=re(e=>e.charAt(0).toUpperCase()+e.slice(1)),le=re(e=>e?`on${ce(e)}`:``),ue=(e,t)=>!Object.is(e,t),de=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fe=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},pe=e=>{let t=parseFloat(e);return isNaN(t)?e:t},me,he=()=>me||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function ge(e){if(d(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=g(r)?be(r):ge(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(g(e)||v(e))return e}var _e=/;(?![^(]*\))/g,ve=/:([^]+)/,ye=/\/\*[^]*?\*\//g;function be(e){let t={};return e.replace(ye,``).split(_e).forEach(e=>{if(e){let n=e.split(ve);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function xe(e){let t=``;if(g(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){let r=xe(e[n]);r&&(t+=r+` `)}else if(v(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}var Se=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,Ce=e(Se);Se+``;function we(e){return!!e||e===``}function Te(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ee(e[r],t[r]);return n}function Ee(e,t){if(e===t)return!0;let n=m(e),r=m(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=_(e),r=_(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return n&&r?Te(e,t):!1;if(n=v(e),r=v(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!Ee(e[n],t[n]))return!1}}return String(e)===String(t)}function De(e,t){return e.findIndex(e=>Ee(e,t))}var Oe=e=>!!(e&&e.__v_isRef===!0),C=e=>g(e)?e:e==null?``:d(e)||v(e)&&(e.toString===b||!h(e.toString))?Oe(e)?C(e.value):JSON.stringify(e,ke,2):String(e),ke=(e,t)=>Oe(t)?ke(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Ae(t,r)+` =>`]=n,e),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ae(e))}:_(t)?Ae(t):v(t)&&!d(t)&&!S(t)?String(t):t,Ae=(e,t=``)=>_(e)?`Symbol(${e.description??t})`:e,je,Me=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=je;try{return je=this,e()}finally{je=t}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function Ne(e){return new Me(e)}function Pe(){return je}var w,Fe=new WeakSet,Ie=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fe.has(this)&&(Fe.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Be(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$e(this),Ue(this);let e=w,t=Ye;w=this,Ye=!0;try{return this.fn()}finally{We(this),w=e,Ye=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qe(e);this.deps=this.depsTail=void 0,$e(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fe.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ge(this)&&this.run()}get dirty(){return Ge(this)}},Le=0,Re,ze;function Be(e,t=!1){if(e.flags|=8,t){e.next=ze,ze=e;return}e.next=Re,Re=e}function Ve(){Le++}function He(){if(--Le>0)return;if(ze){let e=ze;for(ze=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Re;){let t=Re;for(Re=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function Ue(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function We(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),qe(r),Je(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function Ge(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ke(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ke(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===et)||(e.globalVersion=et,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ge(e))))return;e.flags|=2;let t=e.dep,n=w,r=Ye;w=e,Ye=!0;try{Ue(e);let n=e.fn(e._value);(t.version===0||ue(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{w=n,Ye=r,We(e),e.flags&=-3}}function qe(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)qe(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Je(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Ye=!0,Xe=[];function Ze(){Xe.push(Ye),Ye=!1}function Qe(){let e=Xe.pop();Ye=e===void 0?!0:e}function $e(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=w;w=void 0;try{t()}finally{w=e}}}var et=0,tt=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},nt=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!w||!Ye||w===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==w)t=this.activeLink=new tt(w,this),w.deps?(t.prevDep=w.depsTail,w.depsTail.nextDep=t,w.depsTail=t):w.deps=w.depsTail=t,rt(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=w.depsTail,t.nextDep=void 0,w.depsTail.nextDep=t,w.depsTail=t,w.deps===t&&(w.deps=e)}return t}trigger(e){this.version++,et++,this.notify(e)}notify(e){Ve();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{He()}}};function rt(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)rt(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var it=new WeakMap,at=Symbol(``),ot=Symbol(``),st=Symbol(``);function ct(e,t,n){if(Ye&&w){let t=it.get(e);t||it.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new nt),r.map=t,r.key=n),r.track()}}function lt(e,t,n,r,i,a){let o=it.get(e);if(!o){et++;return}let s=e=>{e&&e.trigger()};if(Ve(),t===`clear`)o.forEach(s);else{let i=d(e),a=i&&te(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===st||!_(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(st)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(at)),f(e)&&s(o.get(ot)));break;case`delete`:i||(s(o.get(at)),f(e)&&s(o.get(ot)));break;case`set`:f(e)&&s(o.get(at));break}}He()}function ut(e){let t=E(e);return t===e?t:(ct(t,`iterate`,st),Yt(e)?t:t.map(Qt))}function dt(e){return ct(e=E(e),`iterate`,st),e}function ft(e,t){return Jt(e)?qt(e)?$t(Qt(t)):$t(t):Qt(t)}var pt={__proto__:null,[Symbol.iterator](){return mt(this,Symbol.iterator,e=>ft(this,e))},concat(...e){return ut(this).concat(...e.map(e=>d(e)?ut(e):e))},entries(){return mt(this,`entries`,e=>(e[1]=ft(this,e[1]),e))},every(e,t){return gt(this,`every`,e,t,void 0,arguments)},filter(e,t){return gt(this,`filter`,e,t,e=>e.map(e=>ft(this,e)),arguments)},find(e,t){return gt(this,`find`,e,t,e=>ft(this,e),arguments)},findIndex(e,t){return gt(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return gt(this,`findLast`,e,t,e=>ft(this,e),arguments)},findLastIndex(e,t){return gt(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return gt(this,`forEach`,e,t,void 0,arguments)},includes(...e){return vt(this,`includes`,e)},indexOf(...e){return vt(this,`indexOf`,e)},join(e){return ut(this).join(e)},lastIndexOf(...e){return vt(this,`lastIndexOf`,e)},map(e,t){return gt(this,`map`,e,t,void 0,arguments)},pop(){return yt(this,`pop`)},push(...e){return yt(this,`push`,e)},reduce(e,...t){return _t(this,`reduce`,e,t)},reduceRight(e,...t){return _t(this,`reduceRight`,e,t)},shift(){return yt(this,`shift`)},some(e,t){return gt(this,`some`,e,t,void 0,arguments)},splice(...e){return yt(this,`splice`,e)},toReversed(){return ut(this).toReversed()},toSorted(e){return ut(this).toSorted(e)},toSpliced(...e){return ut(this).toSpliced(...e)},unshift(...e){return yt(this,`unshift`,e)},values(){return mt(this,`values`,e=>ft(this,e))}};function mt(e,t,n){let r=dt(e),i=r[t]();return r!==e&&!Yt(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.done||(e.value=n(e.value)),e}),i}var ht=Array.prototype;function gt(e,t,n,r,i,a){let o=dt(e),s=o!==e&&!Yt(e),c=o[t];if(c!==ht[t]){let t=c.apply(e,a);return s?Qt(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,ft(e,t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function _t(e,t,n,r){let i=dt(e),a=n;return i!==e&&(Yt(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,ft(e,r),i,e)}),i[t](a,...r)}function vt(e,t,n){let r=E(e);ct(r,`iterate`,st);let i=r[t](...n);return(i===-1||i===!1)&&Xt(n[0])?(n[0]=E(n[0]),r[t](...n)):i}function yt(e,t,n=[]){Ze(),Ve();let r=E(e)[t].apply(e,n);return He(),Qe(),r}var bt=e(`__proto__,__v_isRef,__isVue`),xt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(_));function St(e){_(e)||(e=String(e));let t=E(this);return ct(t,`has`,e),t.hasOwnProperty(e)}var Ct=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Vt:Bt:i?zt:Rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=d(e);if(!r){let e;if(a&&(e=pt[t]))return e;if(t===`hasOwnProperty`)return St}let o=Reflect.get(e,t,D(e)?e:n);if((_(t)?xt.has(t):bt(t))||(r||ct(e,`get`,t),i))return o;if(D(o)){let e=a&&te(t)?o:o.value;return r&&v(e)?Gt(e):e}return v(o)?r?Gt(o):Wt(o):o}},wt=class extends Ct{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t],a=d(e)&&te(t);if(!this._isShallow){let e=Jt(i);if(!Yt(n)&&!Jt(n)&&(i=E(i),n=E(n)),!a&&D(i)&&!D(n))return e||(i.value=n),!0}let o=a?Number(t)<e.length:u(e,t),s=Reflect.set(e,t,n,D(e)?e:r);return e===E(r)&&(o?ue(n,i)&&lt(e,`set`,t,n,i):lt(e,`add`,t,n)),s}deleteProperty(e,t){let n=u(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&lt(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!_(t)||!xt.has(t))&&ct(e,`has`,t),n}ownKeys(e){return ct(e,`iterate`,d(e)?`length`:at),Reflect.ownKeys(e)}},Tt=class extends Ct{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},Et=new wt,Dt=new Tt,Ot=new wt(!0),kt=e=>e,At=e=>Reflect.getPrototypeOf(e);function jt(e,t,n){return function(...r){let i=this.__v_raw,a=E(i),o=f(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?kt:t?$t:Qt;return!t&&ct(a,`iterate`,c?ot:at),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function Nt(e,t){let n={get(n){let r=this.__v_raw,i=E(r),a=E(n);e||(ue(n,a)&&ct(i,`get`,n),ct(i,`get`,a));let{has:o}=At(i),s=t?kt:e?$t:Qt;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&ct(E(t),`iterate`,at),t.size},has(t){let n=this.__v_raw,r=E(n),i=E(t);return e||(ue(t,i)&&ct(r,`has`,t),ct(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=E(a),s=t?kt:e?$t:Qt;return!e&&ct(o,`iterate`,at),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};return s(n,e?{add:Mt(`add`),set:Mt(`set`),delete:Mt(`delete`),clear:Mt(`clear`)}:{add(e){!t&&!Yt(e)&&!Jt(e)&&(e=E(e));let n=E(this);return At(n).has.call(n,e)||(n.add(e),lt(n,`add`,e,e)),this},set(e,n){!t&&!Yt(n)&&!Jt(n)&&(n=E(n));let r=E(this),{has:i,get:a}=At(r),o=i.call(r,e);o||=(e=E(e),i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?ue(n,s)&&lt(r,`set`,e,n,s):lt(r,`add`,e,n),this},delete(e){let t=E(this),{has:n,get:r}=At(t),i=n.call(t,e);i||=(e=E(e),n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&lt(t,`delete`,e,void 0,a),o},clear(){let e=E(this),t=e.size!==0,n=e.clear();return t&&lt(e,`clear`,void 0,void 0,void 0),n}}),[`keys`,`values`,`entries`,Symbol.iterator].forEach(r=>{n[r]=jt(r,e,t)}),n}function Pt(e,t){let n=Nt(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(u(n,r)&&r in t?n:t,r,i)}var Ft={get:Pt(!1,!1)},It={get:Pt(!1,!0)},Lt={get:Pt(!0,!1)},Rt=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap;function Ht(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function Ut(e){return e.__v_skip||!Object.isExtensible(e)?0:Ht(ee(e))}function Wt(e){return Jt(e)?e:Kt(e,!1,Et,Ft,Rt)}function T(e){return Kt(e,!1,Ot,It,zt)}function Gt(e){return Kt(e,!0,Dt,Lt,Bt)}function Kt(e,t,n,r,i){if(!v(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=Ut(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function qt(e){return Jt(e)?qt(e.__v_raw):!!(e&&e.__v_isReactive)}function Jt(e){return!!(e&&e.__v_isReadonly)}function Yt(e){return!!(e&&e.__v_isShallow)}function Xt(e){return e?!!e.__v_raw:!1}function E(e){let t=e&&e.__v_raw;return t?E(t):e}function Zt(e){return!u(e,`__v_skip`)&&Object.isExtensible(e)&&fe(e,`__v_skip`,!0),e}var Qt=e=>v(e)?Wt(e):e,$t=e=>v(e)?Gt(e):e;function D(e){return e?e.__v_isRef===!0:!1}function O(e){return tn(e,!1)}function en(e){return tn(e,!0)}function tn(e,t){return D(e)?e:new nn(e,t)}var nn=class{constructor(e,t){this.dep=new nt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:E(e),this._value=t?e:Qt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Yt(e)||Jt(e);e=n?e:E(e),ue(e,t)&&(this._rawValue=e,this._value=n?e:Qt(e),this.dep.trigger())}};function rn(e){return D(e)?e.value:e}var an={get:(e,t,n)=>t===`__v_raw`?e:rn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return D(i)&&!D(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function on(e){return qt(e)?e:new Proxy(e,an)}var sn=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new nt(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=et-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&w!==this)return Be(this,!0),!0}get value(){let e=this.dep.track();return Ke(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function cn(e,t,n=!1){let r,i;return h(e)?r=e:(r=e.get,i=e.set),new sn(r,i,n)}var ln={},un=new WeakMap,dn=void 0;function fn(e,t=!1,n=dn){if(n){let t=un.get(n);t||un.set(n,t=[]),t.push(e)}}function pn(e,n,i=t){let{immediate:a,deep:o,once:s,scheduler:l,augmentJob:u,call:f}=i,p=e=>o?e:Yt(e)||o===!1||o===0?mn(e,1):mn(e),m,g,_,v,y=!1,b=!1;if(D(e)?(g=()=>e.value,y=Yt(e)):qt(e)?(g=()=>p(e),y=!0):d(e)?(b=!0,y=e.some(e=>qt(e)||Yt(e)),g=()=>e.map(e=>{if(D(e))return e.value;if(qt(e))return p(e);if(h(e))return f?f(e,2):e()})):g=h(e)?n?f?()=>f(e,2):e:()=>{if(_){Ze();try{_()}finally{Qe()}}let t=dn;dn=m;try{return f?f(e,3,[v]):e(v)}finally{dn=t}}:r,n&&o){let e=g,t=o===!0?1/0:o;g=()=>mn(e(),t)}let x=Pe(),ee=()=>{m.stop(),x&&x.active&&c(x.effects,m)};if(s&&n){let e=n;n=(...t)=>{e(...t),ee()}}let S=b?Array(e.length).fill(ln):ln,te=e=>{if(!(!(m.flags&1)||!m.dirty&&!e))if(n){let e=m.run();if(o||y||(b?e.some((e,t)=>ue(e,S[t])):ue(e,S))){_&&_();let t=dn;dn=m;try{let t=[e,S===ln?void 0:b&&S[0]===ln?[]:S,v];S=e,f?f(n,3,t):n(...t)}finally{dn=t}}}else m.run()};return u&&u(te),m=new Ie(g),m.scheduler=l?()=>l(te,!1):te,v=e=>fn(e,!1,m),_=m.onStop=()=>{let e=un.get(m);if(e){if(f)f(e,4);else for(let t of e)t();un.delete(m)}},n?a?te(!0):S=m.run():l?l(te.bind(null,!0),!0):m.run(),ee.pause=m.pause.bind(m),ee.resume=m.resume.bind(m),ee.stop=ee,ee}function mn(e,t=1/0,n){if(t<=0||!v(e)||e.__v_skip||(n||=new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,D(e))mn(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)mn(e[r],t,n);else if(p(e)||f(e))e.forEach(e=>{mn(e,t,n)});else if(S(e)){for(let r in e)mn(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&mn(e[r],t,n)}return e}function hn(e,t,n,r){try{return r?e(...r):e()}catch(e){_n(e,t,n)}}function gn(e,t,n,r){if(h(e)){let i=hn(e,t,n,r);return i&&y(i)&&i.catch(e=>{_n(e,t,n)}),i}if(d(e)){let i=[];for(let a=0;a<e.length;a++)i.push(gn(e[a],t,n,r));return i}}function _n(e,n,r,i=!0){let a=n?n.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=n&&n.appContext.config||t;if(n){let t=n.parent,i=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){let n=t.ec;if(n){for(let t=0;t<n.length;t++)if(n[t](e,i,a)===!1)return}t=t.parent}if(o){Ze(),hn(o,null,10,[e,i,a]),Qe();return}}k(e,r,a,i,s)}function k(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}var vn=[],yn=-1,bn=[],xn=null,Sn=0,Cn=Promise.resolve(),wn=null;function Tn(e){let t=wn||Cn;return e?t.then(this?e.bind(this):e):t}function En(e){let t=yn+1,n=vn.length;for(;t<n;){let r=t+n>>>1,i=vn[r],a=Mn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function Dn(e){if(!(e.flags&1)){let t=Mn(e),n=vn[vn.length-1];!n||!(e.flags&2)&&t>=Mn(n)?vn.push(e):vn.splice(En(t),0,e),e.flags|=1,On()}}function On(){wn||=Cn.then(Nn)}function kn(e){d(e)?bn.push(...e):xn&&e.id===-1?xn.splice(Sn+1,0,e):e.flags&1||(bn.push(e),e.flags|=1),On()}function An(e,t,n=yn+1){for(;n<vn.length;n++){let t=vn[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;vn.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function jn(e){if(bn.length){let e=[...new Set(bn)].sort((e,t)=>Mn(e)-Mn(t));if(bn.length=0,xn){xn.push(...e);return}for(xn=e,Sn=0;Sn<xn.length;Sn++){let e=xn[Sn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}xn=null,Sn=0}}var Mn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Nn(e){try{for(yn=0;yn<vn.length;yn++){let e=vn[yn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yn<vn.length;yn++){let e=vn[yn];e&&(e.flags&=-2)}yn=-1,vn.length=0,jn(e),wn=null,(vn.length||bn.length)&&Nn(e)}}var Pn=null,Fn=null;function In(e){let t=Pn;return Pn=e,Fn=e&&e.type.__scopeId||null,t}function Ln(e,t=Pn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&Ki(-1);let i=In(t),a;try{a=e(...n)}finally{In(i),r._d&&Ki(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function A(e,n){if(Pn===null)return e;let r=Oa(Pn),i=e.dirs||=[];for(let e=0;e<n.length;e++){let[a,o,s,c=t]=n[e];a&&(h(a)&&(a={mounted:a,updated:a}),a.deep&&mn(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:c}))}return e}function Rn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&(Ze(),gn(c,n,8,[e.el,s,e,t]),Qe())}}function zn(e,t){if(fa){let n=fa.provides,r=fa.parent&&fa.parent.provides;r===n&&(n=fa.provides=Object.create(r)),n[e]=t}}function Bn(e,t,n=!1){let r=pa();if(r||Yr){let i=Yr?Yr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&h(t)?t.call(r&&r.proxy):t}}var Vn=Symbol.for(`v-scx`),Hn=()=>Bn(Vn);function Un(e,t,n){return Wn(e,t,n)}function Wn(e,n,i=t){let{immediate:a,deep:o,flush:c,once:l}=i,u=s({},i),d=n&&a||!n&&c!==`post`,f;if(ya){if(c===`sync`){let e=Hn();f=e.__watcherHandles||=[]}else if(!d){let e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}}let p=fa;u.call=(e,t,n)=>gn(e,p,t,n);let m=!1;c===`post`?u.scheduler=e=>{Ti(e,p&&p.suspense)}:c!==`sync`&&(m=!0,u.scheduler=(e,t)=>{t?e():Dn(e)}),u.augmentJob=e=>{n&&(e.flags|=4),m&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};let h=pn(e,n,u);return ya&&(f?f.push(h):d&&h()),h}function Gn(e,t,n){let r=this.proxy,i=g(e)?e.includes(`.`)?Kn(r,e):()=>r[e]:e.bind(r,r),a;h(t)?a=t:(a=t.handler,n=t);let o=ga(this),s=Wn(i,a.bind(r),n);return o(),s}function Kn(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}var qn=Symbol(`_vte`),Jn=e=>e.__isTeleport,Yn=Symbol(`_leaveCb`);function Xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zn(e,t){return h(e)?(()=>s({name:e.name},t,{setup:e}))():e}function Qn(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}var $n=new WeakMap;function er(e,n,r,a,o=!1){if(d(e)){e.forEach((e,t)=>er(e,n&&(d(n)?n[t]:n),r,a,o));return}if(nr(a)&&!o){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&er(e,n,r,a.component.subTree);return}let s=a.shapeFlag&4?Oa(a.component):a.el,l=o?null:s,{i:f,r:p}=e,m=n&&n.r,_=f.refs===t?f.refs={}:f.refs,v=f.setupState,y=E(v),b=v===t?i:e=>u(y,e),x=e=>!0;if(m!=null&&m!==p){if(tr(n),g(m))_[m]=null,b(m)&&(v[m]=null);else if(D(m)){x(m)&&(m.value=null);let e=n;e.k&&(_[e.k]=null)}}if(h(p))hn(p,f,12,[l,_]);else{let t=g(p),n=D(p);if(t||n){let i=()=>{if(e.f){let n=t?b(p)?v[p]:_[p]:x(p)||!e.k?p.value:_[e.k];if(o)d(n)&&c(n,s);else if(d(n))n.includes(s)||n.push(s);else if(t)_[p]=[s],b(p)&&(v[p]=_[p]);else{let t=[s];x(p)&&(p.value=t),e.k&&(_[e.k]=t)}}else t?(_[p]=l,b(p)&&(v[p]=l)):n&&(x(p)&&(p.value=l),e.k&&(_[e.k]=l))};if(l){let t=()=>{i(),$n.delete(e)};t.id=-1,$n.set(e,t),Ti(t,r)}else tr(e),i()}}}function tr(e){let t=$n.get(e);t&&(t.flags|=8,$n.delete(e))}he().requestIdleCallback,he().cancelIdleCallback;var nr=e=>!!e.type.__asyncLoader,rr=e=>e.type.__isKeepAlive;function ir(e,t){or(e,`a`,t)}function ar(e,t){or(e,`da`,t)}function or(e,t,n=fa){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(cr(t,r,n),n){let e=n.parent;for(;e&&e.parent;)rr(e.parent.vnode)&&sr(r,t,n,e),e=e.parent}}function sr(e,t,n,r){let i=cr(t,e,r,!0);hr(()=>{c(r[t],i)},n)}function cr(e,t,n=fa,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{Ze();let i=ga(n),a=gn(t,n,e,r);return i(),Qe(),a};return r?i.unshift(a):i.push(a),a}}var lr=e=>(t,n=fa)=>{(!ya||e===`sp`)&&cr(e,(...e)=>t(...e),n)},ur=lr(`bm`),dr=lr(`m`),fr=lr(`bu`),pr=lr(`u`),mr=lr(`bum`),hr=lr(`um`),gr=lr(`sp`),_r=lr(`rtg`),vr=lr(`rtc`);function yr(e,t=fa){cr(`ec`,e,t)}var br=`components`;function xr(e,t){return Cr(br,e,!0,t)||e}var Sr=Symbol.for(`v-ndc`);function Cr(e,t,n=!0,r=!1){let i=Pn||fa;if(i){let n=i.type;if(e===br){let e=ka(n,!1);if(e&&(e===t||e===ae(t)||e===ce(ae(t))))return n}let a=wr(i[e]||n[e],t)||wr(i.appContext[e],t);return!a&&r?n:a}}function wr(e,t){return e&&(e[t]||e[ae(t)]||e[ce(ae(t))])}function Tr(e,t,n,r){let i,a=n&&n[r],o=d(e);if(o||g(e)){let n=o&&qt(e),r=!1,s=!1;n&&(r=!Yt(e),s=Jt(e),e=dt(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?$t(Qt(e[n])):Qt(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(v(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}var Er=e=>e?va(e)?Oa(e):Er(e.parent):null,Dr=s(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Er(e.parent),$root:e=>Er(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ir(e),$forceUpdate:e=>e.f||=()=>{Dn(e.update)},$nextTick:e=>e.n||=Tn.bind(e.proxy),$watch:e=>Gn.bind(e)}),Or=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),kr={get({_:e},n){if(n===`__v_skip`)return!0;let{ctx:r,setupState:i,data:a,props:o,accessCache:s,type:c,appContext:l}=e;if(n[0]!==`$`){let e=s[n];if(e!==void 0)switch(e){case 1:return i[n];case 2:return a[n];case 4:return r[n];case 3:return o[n]}else if(Or(i,n))return s[n]=1,i[n];else if(a!==t&&u(a,n))return s[n]=2,a[n];else if(u(o,n))return s[n]=3,o[n];else if(r!==t&&u(r,n))return s[n]=4,r[n];else jr&&(s[n]=0)}let d=Dr[n],f,p;if(d)return n===`$attrs`&&ct(e.attrs,`get`,``),d(e);if((f=c.__cssModules)&&(f=f[n]))return f;if(r!==t&&u(r,n))return s[n]=4,r[n];if(p=l.config.globalProperties,u(p,n))return p[n]},set({_:e},n,r){let{data:i,setupState:a,ctx:o}=e;return Or(a,n)?(a[n]=r,!0):i!==t&&u(i,n)?(i[n]=r,!0):u(e.props,n)||n[0]===`$`&&n.slice(1)in e?!1:(o[n]=r,!0)},has({_:{data:e,setupState:n,accessCache:r,ctx:i,appContext:a,props:o,type:s}},c){let l;return!!(r[c]||e!==t&&c[0]!==`$`&&u(e,c)||Or(n,c)||u(o,c)||u(i,c)||u(Dr,c)||u(a.config.globalProperties,c)||(l=s.__cssModules)&&l[c])},defineProperty(e,t,n){return n.get==null?u(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function Ar(e){return d(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}var jr=!0;function Mr(e){let t=Ir(e),n=e.proxy,i=e.ctx;jr=!1,t.beforeCreate&&Pr(t.beforeCreate,e,`bc`);let{data:a,computed:o,methods:s,watch:c,provide:l,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:g,updated:_,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:ee,destroyed:S,unmounted:te,render:ne,renderTracked:re,renderTriggered:ie,errorCaptured:ae,serverPrefetch:oe,expose:se,inheritAttrs:ce,components:le,directives:ue,filters:de}=t;if(u&&Nr(u,i,null),s)for(let e in s){let t=s[e];h(t)&&(i[e]=t.bind(n))}if(a){let t=a.call(n,n);v(t)&&(e.data=Wt(t))}if(jr=!0,o)for(let e in o){let t=o[e],a=ja({get:h(t)?t.bind(n,n):h(t.get)?t.get.bind(n,n):r,set:!h(t)&&h(t.set)?t.set.bind(n):r});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(c)for(let e in c)Fr(c[e],i,n,e);if(l){let e=h(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{zn(t,e[t])})}f&&Pr(f,e,`c`);function fe(e,t){d(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(fe(ur,p),fe(dr,m),fe(fr,g),fe(pr,_),fe(ir,y),fe(ar,b),fe(yr,ae),fe(vr,re),fe(_r,ie),fe(mr,ee),fe(hr,te),fe(gr,oe),d(se))if(se.length){let t=e.exposed||={};se.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};ne&&e.render===r&&(e.render=ne),ce!=null&&(e.inheritAttrs=ce),le&&(e.components=le),ue&&(e.directives=ue),oe&&Qn(e)}function Nr(e,t,n=r){for(let n in d(e)&&(e=Vr(e)),e){let r=e[n],i;i=v(r)?`default`in r?Bn(r.from||n,r.default,!0):Bn(r.from||n):Bn(r),D(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function Pr(e,t,n){gn(d(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Fr(e,t,n,r){let i=r.includes(`.`)?Kn(n,r):()=>n[r];if(g(e)){let n=t[e];h(n)&&Un(i,n)}else if(h(e))Un(i,e.bind(n));else if(v(e))if(d(e))e.forEach(e=>Fr(e,t,n,r));else{let r=h(e.handler)?e.handler.bind(n):t[e.handler];h(r)&&Un(i,r,e)}}function Ir(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>Lr(c,e,o,!0)),Lr(c,t,o)),v(t)&&a.set(t,c),c}function Lr(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&Lr(e,a,n,!0),i&&i.forEach(t=>Lr(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=Rr[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}var Rr={data:zr,props:Wr,emits:Wr,methods:Ur,computed:Ur,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:Ur,directives:Ur,watch:Gr,provide:zr,inject:Br};function zr(e,t){return t?e?function(){return s(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:t:e}function Br(e,t){return Ur(Vr(e),Vr(t))}function Vr(e){if(d(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Hr(e,t){return e?[...new Set([].concat(e,t))]:t}function Ur(e,t){return e?s(Object.create(null),e,t):t}function Wr(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:s(Object.create(null),Ar(e),Ar(t??{})):t}function Gr(e,t){if(!e)return t;if(!t)return e;let n=s(Object.create(null),e);for(let r in t)n[r]=Hr(e[r],t[r]);return n}function Kr(){return{app:null,config:{isNativeTag:i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var qr=0;function Jr(e,t){return function(n,r=null){h(n)||(n=s({},n)),r!=null&&!v(r)&&(r=null);let i=Kr(),a=new WeakSet,o=[],c=!1,l=i.app={_uid:qr++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Na,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&h(e.install)?(a.add(e),e.install(l,...t)):h(e)&&(a.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(a,o,s){if(!c){let u=l._ceVNode||P(n,r);return u.appContext=i,s===!0?s=`svg`:s===!1&&(s=void 0),o&&t?t(u,a):e(u,a,s),c=!0,l._container=a,a.__vue_app__=l,Oa(u.component)}},onUnmount(e){o.push(e)},unmount(){c&&(gn(o,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l},runWithContext(e){let t=Yr;Yr=l;try{return e()}finally{Yr=t}}};return l}}var Yr=null,Xr=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${ae(t)}Modifiers`]||e[`${se(t)}Modifiers`];function Zr(e,n,...r){if(e.isUnmounted)return;let i=e.vnode.props||t,a=r,o=n.startsWith(`update:`),s=o&&Xr(i,n.slice(7));s&&(s.trim&&(a=r.map(e=>g(e)?e.trim():e)),s.number&&(a=r.map(pe)));let c,l=i[c=le(n)]||i[c=le(ae(n))];!l&&o&&(l=i[c=le(se(n))]),l&&gn(l,e,6,a);let u=i[c+`Once`];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,gn(u,e,6,a)}}var Qr=new WeakMap;function $r(e,t,n=!1){let r=n?Qr:t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},c=!1;if(!h(e)){let r=e=>{let n=$r(e,t,!0);n&&(c=!0,s(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!c?(v(e)&&r.set(e,null),null):(d(a)?a.forEach(e=>o[e]=null):s(o,a),v(e)&&r.set(e,o),o)}function ei(e,t){return!e||!a(t)?!1:(t=t.slice(2).replace(/Once$/,``),u(e,t[0].toLowerCase()+t.slice(1))||u(e,se(t))||u(e,t))}function ti(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:s,attrs:c,emit:l,render:u,renderCache:d,props:f,data:p,setupState:m,ctx:h,inheritAttrs:g}=e,_=In(e),v,y;try{if(n.shapeFlag&4){let e=i||r,t=e;v=ia(u.call(t,e,d,f,m,p,h)),y=c}else{let e=t;v=ia(e.length>1?e(f,{attrs:c,slots:s,emit:l}):e(f,null)),y=t.props?c:ni(c)}}catch(t){Hi.length=0,_n(t,e,1),v=P(Bi)}let b=v;if(y&&g!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(o)&&(y=ri(y,a)),b=ta(b,y,!1,!0))}return n.dirs&&(b=ta(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Xn(b,n.transition),v=b,In(_),v}var ni=e=>{let t;for(let n in e)(n===`class`||n===`style`||a(n))&&((t||={})[n]=e[n]);return t},ri=(e,t)=>{let n={};for(let r in e)(!o(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ii(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ai(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!ei(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?ai(r,o,l):!0:!!o;return!1}function ai(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!ei(n,a))return!0}return!1}function oi({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}var si={},ci=()=>Object.create(si),li=e=>Object.getPrototypeOf(e)===si;function ui(e,t,n,r=!1){let i={},a=ci();for(let n in e.propsDefaults=Object.create(null),fi(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:T(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function di(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=E(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(ei(e.emitsOptions,o))continue;let d=t[o];if(c)if(u(a,o))d!==a[o]&&(a[o]=d,l=!0);else{let t=ae(o);i[t]=pi(c,s,t,d,e,!1)}else d!==a[o]&&(a[o]=d,l=!0)}}}else{fi(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!u(t,a)&&((r=se(a))===a||!u(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=pi(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!u(t,e))&&(delete a[e],l=!0)}l&&lt(e.attrs,`set`,``)}function fi(e,n,r,i){let[a,o]=e.propsOptions,s=!1,c;if(n)for(let t in n){if(ne(t))continue;let l=n[t],d;a&&u(a,d=ae(t))?!o||!o.includes(d)?r[d]=l:(c||={})[d]=l:ei(e.emitsOptions,t)||(!(t in i)||l!==i[t])&&(i[t]=l,s=!0)}if(o){let n=E(r),i=c||t;for(let t=0;t<o.length;t++){let s=o[t];r[s]=pi(a,n,s,i[s],e,!u(i,s))}}return s}function pi(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=u(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&h(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=ga(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===se(n))&&(r=!0))}return r}var mi=new WeakMap;function hi(e,r,i=!1){let a=i?mi:r.propsCache,o=a.get(e);if(o)return o;let c=e.props,l={},f=[],p=!1;if(!h(e)){let t=e=>{p=!0;let[t,n]=hi(e,r,!0);s(l,t),n&&f.push(...n)};!i&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!c&&!p)return v(e)&&a.set(e,n),n;if(d(c))for(let e=0;e<c.length;e++){let n=ae(c[e]);gi(n)&&(l[n]=t)}else if(c)for(let e in c){let t=ae(e);if(gi(t)){let n=c[e],r=l[t]=d(n)||h(n)?{type:n}:s({},n),i=r.type,a=!1,o=!0;if(d(i))for(let e=0;e<i.length;++e){let t=i[e],n=h(t)&&t.name;if(n===`Boolean`){a=!0;break}else n===`String`&&(o=!1)}else a=h(i)&&i.name===`Boolean`;r[0]=a,r[1]=o,(a||u(r,`default`))&&f.push(t)}}let m=[l,f];return v(e)&&a.set(e,m),m}function gi(e){return e[0]!==`$`&&!ne(e)}var _i=e=>e===`_`||e===`_ctx`||e===`$stable`,vi=e=>d(e)?e.map(ia):[ia(e)],yi=(e,t,n)=>{if(t._n)return t;let r=Ln((...e)=>vi(t(...e)),n);return r._c=!1,r},bi=(e,t,n)=>{let r=e._ctx;for(let n in e){if(_i(n))continue;let i=e[n];if(h(i))t[n]=yi(n,i,r);else if(i!=null){let e=vi(i);t[n]=()=>e}}},xi=(e,t)=>{let n=vi(t);e.slots.default=()=>n},Si=(e,t,n)=>{for(let r in t)(n||!_i(r))&&(e[r]=t[r])},Ci=(e,t,n)=>{let r=e.slots=ci();if(e.vnode.shapeFlag&32){let e=t._;e?(Si(r,t,n),n&&fe(r,`_`,e,!0)):bi(t,r)}else t&&xi(e,t)},wi=(e,n,r)=>{let{vnode:i,slots:a}=e,o=!0,s=t;if(i.shapeFlag&32){let e=n._;e?r&&e===1?o=!1:Si(a,n,r):(o=!n.$stable,bi(n,a)),s=n}else n&&(xi(e,n),s={default:1});if(o)for(let e in a)!_i(e)&&s[e]==null&&delete a[e]},Ti=Li;function Ei(e){return Di(e)}function Di(e,i){let a=he();a.__VUE__=!0;let{insert:o,remove:s,patchProp:c,createElement:l,createText:u,createComment:d,setText:f,setElementText:p,parentNode:m,nextSibling:h,setScopeId:g=r,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Xi(e,t)&&(r=Ee(e),xe(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case zi:y(e,t,n,r);break;case Bi:b(e,t,n,r);break;case Vi:e??x(t,n,r,o);break;case Ri:le(e,t,n,r,i,a,o,s,c);break;default:d&1?te(e,t,n,r,i,a,o,s,c):d&6?ue(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,C)}u!=null&&i?er(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&er(e.ref,null,a,e,!0)},y=(e,t,n,r)=>{if(e==null)o(t.el=u(t.children),n,r);else{let n=t.el=e.el;t.children!==e.children&&f(n,t.children)}},b=(e,t,n,r)=>{e==null?o(t.el=d(t.children||``),n,r):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},ee=({el:e,anchor:t},n,r)=>{let i;for(;e&&e!==t;)i=h(e),o(e,n,r),e=i;o(t,n,r)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),s(e),e=n;s(t)},te=(e,t,n,r,i,a,o,s,c)=>{if(t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null)re(t,n,r,i,a,o,s,c);else{let n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),oe(e,t,i,a,o,s,c)}finally{n&&n._endPatch()}}},re=(e,t,n,r,i,a,s,u)=>{let d,f,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(d=e.el=l(e.type,a,m&&m.is,m),h&8?p(d,e.children):h&16&&ae(e.children,d,null,r,i,Oi(e,a),s,u),_&&Rn(e,null,r,`created`),ie(d,e,e.scopeId,s,r),m){for(let e in m)e!==`value`&&!ne(e)&&c(d,e,null,m[e],a,r);`value`in m&&c(d,`value`,null,m.value,a),(f=m.onVnodeBeforeMount)&&ca(f,r,e)}_&&Rn(e,null,r,`beforeMount`);let v=Ai(i,g);v&&g.beforeEnter(d),o(d,t,n),((f=m&&m.onVnodeMounted)||v||_)&&Ti(()=>{f&&ca(f,r,e),v&&g.enter(d),_&&Rn(e,null,r,`mounted`)},i)},ie=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||Ii(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;ie(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},ae=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++)v(null,e[l]=s?aa(e[l]):ia(e[l]),t,n,r,i,a,o,s)},oe=(e,n,r,i,a,o,s)=>{let l=n.el=e.el,{patchFlag:u,dynamicChildren:d,dirs:f}=n;u|=e.patchFlag&16;let m=e.props||t,h=n.props||t,g;if(r&&ki(r,!1),(g=h.onVnodeBeforeUpdate)&&ca(g,r,n,e),f&&Rn(n,e,r,`beforeUpdate`),r&&ki(r,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&p(l,``),d?se(e.dynamicChildren,d,l,r,i,Oi(n,a),o):s||_e(e,n,l,null,r,i,Oi(n,a),o,!1),u>0){if(u&16)ce(l,m,h,r,a);else if(u&2&&m.class!==h.class&&c(l,`class`,null,h.class,a),u&4&&c(l,`style`,m.style,h.style,a),u&8){let e=n.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t],i=m[n],o=h[n];(o!==i||n===`value`)&&c(l,n,i,o,a,r)}}u&1&&e.children!==n.children&&p(l,n.children)}else !s&&d==null&&ce(l,m,h,r,a);((g=h.onVnodeUpdated)||f)&&Ti(()=>{g&&ca(g,r,n,e),f&&Rn(n,e,r,`updated`)},i)},se=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s];v(c,l,c.el&&(c.type===Ri||!Xi(c,l)||c.shapeFlag&198)?m(c.el):n,null,r,i,a,o,!0)}},ce=(e,n,r,i,a)=>{if(n!==r){if(n!==t)for(let t in n)!ne(t)&&!(t in r)&&c(e,t,n[t],null,a,i);for(let t in r){if(ne(t))continue;let o=r[t],s=n[t];o!==s&&t!==`value`&&c(e,t,s,o,a,i)}`value`in r&&c(e,`value`,n.value,r.value,a)}},le=(e,t,n,r,i,a,s,c,l)=>{let d=t.el=e?e.el:u(``),f=t.anchor=e?e.anchor:u(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(c=c?c.concat(h):h),e==null?(o(d,n,r),o(f,n,r),ae(t.children||[],n,f,i,a,s,c,l)):p>0&&p&64&&m&&e.dynamicChildren&&e.dynamicChildren.length===m.length?(se(e.dynamicChildren,m,n,i,a,s,c),(t.key!=null||i&&t===i.subTree)&&ji(e,t,!0)):_e(e,t,n,f,i,a,s,c,l)},ue=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):fe(t,n,r,i,a,o,c):pe(e,t,c)},fe=(e,t,n,r,i,a,o)=>{let s=e.component=da(e,r,i);if(rr(e)&&(s.ctx.renderer=C),ba(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,me,o),!e.el){let r=s.subTree=P(Bi);b(null,r,t,n),e.placeholder=r.el}}else me(s,e,t,n,i,a,o)},pe=(e,t,n)=>{let r=t.component=e.component;if(ii(e,t,n))if(r.asyncDep&&!r.asyncResolved){ge(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},me=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=Ni(e);if(n){t&&(t.el=l.el,ge(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,d;ki(e,!1),t?(t.el=l.el,ge(e,t,o)):t=l,n&&de(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&ca(d,c,t,l),ki(e,!0);let f=ti(e),p=e.subTree;e.subTree=f,v(p,f,m(p.el),Ee(p),e,i,a),t.el=f.el,u===null&&oi(e,f.el),r&&Ti(r,i),(d=t.props&&t.props.onVnodeUpdated)&&Ti(()=>ca(d,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=nr(t);if(ki(e,!1),l&&de(l),!m&&(o=c&&c.onVnodeBeforeMount)&&ca(o,d,t),ki(e,!0),s&&Ae){let t=()=>{e.subTree=ti(e),Ae(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=ti(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&Ti(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;Ti(()=>ca(o,d,e),i)}(t.shapeFlag&256||d&&nr(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&Ti(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new Ie(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>Dn(u),ki(e,!0),l()},ge=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,di(e,t.props,r,n),wi(e,t.children,n),Ze(),An(e),Qe()},_e=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:m}=t;if(f>0){if(f&128){ye(l,d,n,r,i,a,o,s,c);return}else if(f&256){ve(l,d,n,r,i,a,o,s,c);return}}m&8?(u&16&&Te(l,i,a),d!==l&&p(n,d)):u&16?m&16?ye(l,d,n,r,i,a,o,s,c):Te(l,i,a,!0):(u&8&&p(n,``),m&16&&ae(d,n,r,i,a,o,s,c))},ve=(e,t,r,i,a,o,s,c,l)=>{e||=n,t||=n;let u=e.length,d=t.length,f=Math.min(u,d),p;for(p=0;p<f;p++){let n=t[p]=l?aa(t[p]):ia(t[p]);v(e[p],n,r,null,a,o,s,c,l)}u>d?Te(e,a,o,!0,!1,f):ae(t,r,i,a,o,s,c,l,f)},ye=(e,t,r,i,a,o,s,c,l)=>{let u=0,d=t.length,f=e.length-1,p=d-1;for(;u<=f&&u<=p;){let n=e[u],i=t[u]=l?aa(t[u]):ia(t[u]);if(Xi(n,i))v(n,i,r,null,a,o,s,c,l);else break;u++}for(;u<=f&&u<=p;){let n=e[f],i=t[p]=l?aa(t[p]):ia(t[p]);if(Xi(n,i))v(n,i,r,null,a,o,s,c,l);else break;f--,p--}if(u>f){if(u<=p){let e=p+1,n=e<d?t[e].el:i;for(;u<=p;)v(null,t[u]=l?aa(t[u]):ia(t[u]),r,n,a,o,s,c,l),u++}}else if(u>p)for(;u<=f;)xe(e[u],a,o,!0),u++;else{let m=u,h=u,g=new Map;for(u=h;u<=p;u++){let e=t[u]=l?aa(t[u]):ia(t[u]);e.key!=null&&g.set(e.key,u)}let _,y=0,b=p-h+1,x=!1,ee=0,S=Array(b);for(u=0;u<b;u++)S[u]=0;for(u=m;u<=f;u++){let n=e[u];if(y>=b){xe(n,a,o,!0);continue}let i;if(n.key!=null)i=g.get(n.key);else for(_=h;_<=p;_++)if(S[_-h]===0&&Xi(n,t[_])){i=_;break}i===void 0?xe(n,a,o,!0):(S[i-h]=u+1,i>=ee?ee=i:x=!0,v(n,t[i],r,null,a,o,s,c,l),y++)}let te=x?Mi(S):n;for(_=te.length-1,u=b-1;u>=0;u--){let e=h+u,n=t[e],f=t[e+1],p=e+1<d?f.el||Fi(f):i;S[u]===0?v(null,n,r,p,a,o,s,c,l):x&&(_<0||u!==te[_]?be(n,r,p,2):_--)}}},be=(e,t,n,r,i=null)=>{let{el:a,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){be(e.component.subTree,t,n,r);return}if(d&128){e.suspense.move(t,n,r);return}if(d&64){c.move(e,t,n,C);return}if(c===Ri){o(a,t,n);for(let e=0;e<u.length;e++)be(u[e],t,n,r);o(e.anchor,t,n);return}if(c===Vi){ee(e,t,n);return}if(r!==2&&d&1&&l)if(r===0)l.beforeEnter(a),o(a,t,n),Ti(()=>l.enter(a),i);else{let{leave:r,delayLeave:i,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?s(a):o(a,t,n)},d=()=>{a._isLeaving&&a[Yn](!0),r(a,()=>{u(),c&&c()})};i?i(a,u,d):d()}else o(a,t,n)},xe=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&(Ze(),er(s,null,n,e,!0),Qe()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!nr(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&ca(g,t,e),u&6)we(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&Rn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,C,r):l&&!l.hasOnce&&(a!==Ri||d>0&&d&64)?Te(l,t,n,!1,!0):(a===Ri&&d&384||!i&&u&16)&&Te(c,t,n),r&&Se(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&Ti(()=>{g&&ca(g,t,e),m&&Rn(e,null,t,`unmounted`)},n)},Se=e=>{let{type:t,el:n,anchor:r,transition:i}=e;if(t===Ri){Ce(n,r);return}if(t===Vi){S(e);return}let a=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(e.shapeFlag&1&&i&&!i.persisted){let{leave:t,delayLeave:r}=i,o=()=>t(n,a);r?r(e.el,a,o):o()}else a()},Ce=(e,t)=>{let n;for(;e!==t;)n=h(e),s(e),e=n;s(t)},we=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l}=e;Pi(c),Pi(l),r&&de(r),i.stop(),a&&(a.flags|=8,xe(o,e,t,n)),s&&Ti(s,t),Ti(()=>{e.isUnmounted=!0},t)},Te=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)xe(e[o],t,n,r,i)},Ee=e=>{if(e.shapeFlag&6)return Ee(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=h(e.anchor||e.el),n=t&&t[qn];return n?h(n):t},De=!1,Oe=(e,t,n)=>{let r;e==null?t._vnode&&(xe(t._vnode,null,null,!0),r=t._vnode.component):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,De||=(De=!0,An(r),jn(),!1)},C={p:v,um:xe,m:be,r:Se,mt:fe,mc:ae,pc:_e,pbc:se,n:Ee,o:e},ke,Ae;return i&&([ke,Ae]=i(C)),{render:Oe,hydrate:ke,createApp:Jr(Oe,ke)}}function Oi({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function ki({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ai(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ji(e,t,n=!1){let r=e.children,i=t.children;if(d(r)&&d(i))for(let t=0;t<r.length;t++){let a=r[t],o=i[t];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[t]=aa(i[t]),o.el=a.el),!n&&o.patchFlag!==-2&&ji(a,o)),o.type===zi&&(o.patchFlag===-1?o.__elIndex=t+(e.type===Ri?1:0):o.el=a.el),o.type===Bi&&!o.el&&(o.el=a.el)}}function Mi(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function Ni(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ni(t)}function Pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Fi(e){if(e.placeholder)return e.placeholder;let t=e.component;return t?Fi(t.subTree):null}var Ii=e=>e.__isSuspense;function Li(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):kn(e)}var Ri=Symbol.for(`v-fgt`),zi=Symbol.for(`v-txt`),Bi=Symbol.for(`v-cmt`),Vi=Symbol.for(`v-stc`),Hi=[],Ui=null;function j(e=!1){Hi.push(Ui=e?null:[])}function Wi(){Hi.pop(),Ui=Hi[Hi.length-1]||null}var Gi=1;function Ki(e,t=!1){Gi+=e,e<0&&Ui&&t&&(Ui.hasOnce=!0)}function qi(e){return e.dynamicChildren=Gi>0?Ui||n:null,Wi(),Gi>0&&Ui&&Ui.push(e),e}function M(e,t,n,r,i,a){return qi(N(e,t,n,r,i,a,!0))}function Ji(e,t,n,r,i){return qi(P(e,t,n,r,i,!0))}function Yi(e){return e?e.__v_isVNode===!0:!1}function Xi(e,t){return e.type===t.type&&e.key===t.key}var Zi=({key:e})=>e??null,Qi=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:g(e)||D(e)||h(e)?{i:Pn,r:e,k:t,f:!!n}:e);function N(e,t=null,n=null,r=0,i=null,a=e===Ri?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zi(t),ref:t&&Qi(t),scopeId:Fn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pn};return s?(oa(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=g(n)?8:16),Gi>0&&!o&&Ui&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ui.push(c),c}var P=$i;function $i(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Sr)&&(e=Bi),Yi(e)){let r=ta(e,t,!0);return n&&oa(r,n),Gi>0&&!a&&Ui&&(r.shapeFlag&6?Ui[Ui.indexOf(e)]=r:Ui.push(r)),r.patchFlag=-2,r}if(Aa(e)&&(e=e.__vccOpts),t){t=ea(t);let{class:e,style:n}=t;e&&!g(e)&&(t.class=xe(e)),v(n)&&(Xt(n)&&!d(n)&&(n=s({},n)),t.style=ge(n))}let o=g(e)?1:Ii(e)?128:Jn(e)?64:v(e)?4:h(e)?2:0;return N(e,t,n,r,i,o,a,!0)}function ea(e){return e?Xt(e)||li(e)?s({},e):e:null}function ta(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?sa(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Zi(l),ref:t&&t.ref?n&&a?d(a)?a.concat(Qi(t)):[a,Qi(t)]:Qi(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ri?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ta(e.ssContent),ssFallback:e.ssFallback&&ta(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Xn(u,c.clone(u)),u}function F(e=` `,t=0){return P(zi,null,e,t)}function na(e,t){let n=P(Vi,null,e);return n.staticCount=t,n}function ra(e=``,t=!1){return t?(j(),Ji(Bi,null,e)):P(Bi,null,e)}function ia(e){return e==null||typeof e==`boolean`?P(Bi):d(e)?P(Ri,null,e.slice()):Yi(e)?aa(e):P(zi,null,String(e))}function aa(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ta(e)}function oa(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(d(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),oa(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!li(t)?t._ctx=Pn:r===3&&Pn&&(Pn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else h(t)?(t={default:t,_ctx:Pn},n=32):(t=String(t),r&64?(n=16,t=[F(t)]):n=8);e.children=t,e.shapeFlag|=n}function sa(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=xe([t.class,r.class]));else if(e===`style`)t.style=ge([t.style,r.style]);else if(a(e)){let n=t[e],i=r[e];i&&n!==i&&!(d(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function ca(e,t,n,r=null){gn(e,t,7,[n,r])}var la=Kr(),ua=0;function da(e,n,r){let i=e.type,a=(n?n.appContext:e.appContext)||la,o={uid:ua++,vnode:e,type:i,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Me(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),ids:n?n.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hi(i,a),emitsOptions:$r(i,a),emit:null,emitted:null,propsDefaults:t,inheritAttrs:i.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=n?n.root:o,o.emit=Zr.bind(null,o),e.ce&&e.ce(o),o}var fa=null,pa=()=>fa||Pn,ma,ha;{let e=he(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};ma=t(`__VUE_INSTANCE_SETTERS__`,e=>fa=e),ha=t(`__VUE_SSR_SETTERS__`,e=>ya=e)}var ga=e=>{let t=fa;return ma(e),e.scope.on(),()=>{e.scope.off(),ma(t)}},_a=()=>{fa&&fa.scope.off(),ma(null)};function va(e){return e.vnode.shapeFlag&4}var ya=!1;function ba(e,t=!1,n=!1){t&&ha(t);let{props:r,children:i}=e.vnode,a=va(e);ui(e,r,a,t),Ci(e,i,n||t);let o=a?xa(e,t):void 0;return t&&ha(!1),o}function xa(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,kr);let{setup:r}=n;if(r){Ze();let n=e.setupContext=r.length>1?Da(e):null,i=ga(e),a=hn(r,e,0,[e.props,n]),o=y(a);if(Qe(),i(),(o||e.sp)&&!nr(e)&&Qn(e),o){if(a.then(_a,_a),t)return a.then(n=>{Sa(e,n,t)}).catch(t=>{_n(t,e,0)});e.asyncDep=a}else Sa(e,a,t)}else Ta(e,t)}function Sa(e,t,n){h(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:v(t)&&(e.setupState=on(t)),Ta(e,n)}var Ca,wa;function Ta(e,t,n){let i=e.type;if(!e.render){if(!t&&Ca&&!i.render){let t=i.template||Ir(e).template;if(t){let{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:o}=i;i.render=Ca(t,s(s({isCustomElement:n,delimiters:a},r),o))}}e.render=i.render||r,wa&&wa(e)}{let t=ga(e);Ze();try{Mr(e)}finally{Qe(),t()}}}var Ea={get(e,t){return ct(e,`get`,``),e[t]}};function Da(e){return{attrs:new Proxy(e.attrs,Ea),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function Oa(e){return e.exposed?e.exposeProxy||=new Proxy(on(Zt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Dr)return Dr[n](e)},has(e,t){return t in e||t in Dr}}):e.proxy}function ka(e,t=!0){return h(e)?e.displayName||e.name:e.name||t&&e.__name}function Aa(e){return h(e)&&`__vccOpts`in e}var ja=(e,t)=>cn(e,t,ya);function Ma(e,t,n){try{Ki(-1);let r=arguments.length;return r===2?v(t)&&!d(t)?Yi(t)?P(e,null,[t]):P(e,t):P(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Yi(n)&&(n=[n]),P(e,t,n))}finally{Ki(1)}}var Na=`3.5.26`,Pa=void 0,Fa=typeof window<`u`&&window.trustedTypes;if(Fa)try{Pa=Fa.createPolicy(`vue`,{createHTML:e=>e})}catch{}var Ia=Pa?e=>Pa.createHTML(e):e=>e,La=`http://www.w3.org/2000/svg`,Ra=`http://www.w3.org/1998/Math/MathML`,za=typeof document<`u`?document:null,Ba=za&&za.createElement(`template`),Va={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?za.createElementNS(La,e):t===`mathml`?za.createElementNS(Ra,e):n?za.createElement(e,{is:n}):za.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>za.createTextNode(e),createComment:e=>za.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>za.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Ba.innerHTML=Ia(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=Ba.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ha=Symbol(`_vtc`);function Ua(e,t,n){let r=e[Ha];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}var Wa=Symbol(`_vod`),Ga=Symbol(`_vsh`),Ka=Symbol(``),qa=/(?:^|;)\s*display\s*:/;function Ja(e,t,n){let r=e.style,i=g(n),a=!1;if(n&&!i){if(t)if(g(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??Xa(r,t,``)}else for(let e in t)n[e]??Xa(r,e,``);for(let e in n)e===`display`&&(a=!0),Xa(r,e,n[e])}else if(i){if(t!==n){let e=r[Ka];e&&(n+=`;`+e),r.cssText=n,a=qa.test(n)}}else t&&e.removeAttribute(`style`);Wa in e&&(e[Wa]=a?r.display:``,e[Ga]&&(r.display=`none`))}var Ya=/\s*!important$/;function Xa(e,t,n){if(d(n))n.forEach(n=>Xa(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=$a(e,t);Ya.test(n)?e.setProperty(se(r),n.replace(Ya,``),`important`):e[r]=n}}var Za=[`Webkit`,`Moz`,`ms`],Qa={};function $a(e,t){let n=Qa[t];if(n)return n;let r=ae(t);if(r!==`filter`&&r in e)return Qa[t]=r;r=ce(r);for(let n=0;n<Za.length;n++){let i=Za[n]+r;if(i in e)return Qa[t]=i}return t}var eo=`http://www.w3.org/1999/xlink`;function to(e,t,n,r,i,a=Ce(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(eo,t.slice(6,t.length)):e.setAttributeNS(eo,t,n):n==null||a&&!we(n)?e.removeAttribute(t):e.setAttribute(t,a?``:_(n)?String(n):n)}function no(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?Ia(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=we(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function ro(e,t,n,r){e.addEventListener(t,n,r)}function io(e,t,n,r){e.removeEventListener(t,n,r)}var ao=Symbol(`_vei`);function oo(e,t,n,r,i=null){let a=e[ao]||(e[ao]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=co(t);r?ro(e,n,a[t]=po(r,i),s):o&&(io(e,n,o,s),a[t]=void 0)}}var so=/(?:Once|Passive|Capture)$/;function co(e){let t;if(so.test(e)){t={};let n;for(;n=e.match(so);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===`:`?e.slice(3):se(e.slice(2)),t]}var lo=0,uo=Promise.resolve(),fo=()=>lo||=(uo.then(()=>lo=0),Date.now());function po(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;gn(mo(e,n.value),t,5,[e])};return n.value=e,n.attached=fo(),n}function mo(e,t){if(d(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}var ho=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,go=(e,t,n,r,i,s)=>{let c=i===`svg`;t===`class`?Ua(e,r,c):t===`style`?Ja(e,n,r):a(t)?o(t)||oo(e,t,n,r,s):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):_o(e,t,r,c))?(no(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&to(e,t,r,c,s,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!g(r))?no(e,ae(t),r,s,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),to(e,t,r,c))};function _o(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&ho(t)&&h(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`sandbox`&&e.tagName===`IFRAME`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return ho(t)&&g(n)?!1:t in e}var vo=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return d(t)?e=>de(t,e):t};function yo(e){e.target.composing=!0}function bo(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}var xo=Symbol(`_assign`);function So(e,t,n){return t&&(e=e.trim()),n&&(e=pe(e)),e}var I={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[xo]=vo(i);let a=r||i.props&&i.props.type===`number`;ro(e,t?`change`:`input`,t=>{t.target.composing||e[xo](So(e.value,n,a))}),(n||a)&&ro(e,`change`,()=>{e.value=So(e.value,n,a)}),t||(ro(e,`compositionstart`,yo),ro(e,`compositionend`,bo),ro(e,`change`,bo))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[xo]=vo(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?pe(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},Co={deep:!0,created(e,t,n){e[xo]=vo(n),ro(e,`change`,()=>{let t=e._modelValue,n=Oo(e),r=e.checked,i=e[xo];if(d(t)){let e=De(t,n),a=e!==-1;if(r&&!a)i(t.concat(n));else if(!r&&a){let n=[...t];n.splice(e,1),i(n)}}else if(p(t)){let e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(ko(e,r))})},mounted:wo,beforeUpdate(e,t,n){e[xo]=vo(n),wo(e,t,n)}};function wo(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(d(t))i=De(t,r.props.value)>-1;else if(p(t))i=t.has(r.props.value);else{if(t===n)return;i=Ee(t,ko(e,!0))}e.checked!==i&&(e.checked=i)}var To={created(e,{value:t},n){e.checked=Ee(t,n.props.value),e[xo]=vo(n),ro(e,`change`,()=>{e[xo](Oo(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[xo]=vo(r),t!==n&&(e.checked=Ee(t,r.props.value))}},Eo={deep:!0,created(e,{value:t,modifiers:{number:n}},r){let i=p(t);ro(e,`change`,()=>{let t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?pe(Oo(e)):Oo(e));e[xo](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Tn(()=>{e._assigning=!1})}),e[xo]=vo(r)},mounted(e,{value:t}){Do(e,t)},beforeUpdate(e,t,n){e[xo]=vo(n)},updated(e,{value:t}){e._assigning||Do(e,t)}};function Do(e,t){let n=e.multiple,r=d(t);if(!(n&&!r&&!p(t))){for(let i=0,a=e.options.length;i<a;i++){let a=e.options[i],o=Oo(a);if(n)if(r){let e=typeof o;e===`string`||e===`number`?a.selected=t.some(e=>String(e)===String(o)):a.selected=De(t,o)>-1}else a.selected=t.has(o);else if(Ee(Oo(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Oo(e){return`_value`in e?e._value:e.value}function ko(e,t){let n=t?`_trueValue`:`_falseValue`;return n in e?e[n]:t}var Ao=[`ctrl`,`shift`,`alt`,`meta`],jo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>`button`in e&&e.button!==0,middle:e=>`button`in e&&e.button!==1,right:e=>`button`in e&&e.button!==2,exact:(e,t)=>Ao.some(n=>e[`${n}Key`]&&!t.includes(n))},Mo=(e,t)=>{let n=e._withMods||={},r=t.join(`.`);return n[r]||(n[r]=((n,...r)=>{for(let e=0;e<t.length;e++){let r=jo[t[e]];if(r&&r(n,t))return}return e(n,...r)}))},No=s({patchProp:go},Va),Po;function Fo(){return Po||=Ei(No)}var Io=((...e)=>{let t=Fo().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=Ro(e);if(!r)return;let i=t._component;!h(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,Lo(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t});function Lo(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function Ro(e){return g(e)?document.querySelector(e):e}var zo=typeof window<`u`,Bo=Symbol(),Vo;(function(e){e.direct=`direct`,e.patchObject=`patch object`,e.patchFunction=`patch function`})(Vo||={});var Ho=(()=>typeof window==`object`&&window.window===window?window:typeof self==`object`&&self.self===self?self:typeof global==`object`&&global.global===global?global:typeof globalThis==`object`?globalThis:{HTMLElement:null})();function Uo(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([``,e],{type:e.type}):e}function Wo(e,t,n){let r=new XMLHttpRequest;r.open(`GET`,e),r.responseType=`blob`,r.onload=function(){Yo(r.response,t,n)},r.onerror=function(){console.error(`could not download file`)},r.send()}function Go(e){let t=new XMLHttpRequest;t.open(`HEAD`,e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ko(e){try{e.dispatchEvent(new MouseEvent(`click`))}catch{let t=new MouseEvent(`click`,{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}}var qo=typeof navigator==`object`?navigator:{userAgent:``},Jo=(()=>/Macintosh/.test(qo.userAgent)&&/AppleWebKit/.test(qo.userAgent)&&!/Safari/.test(qo.userAgent))(),Yo=zo?typeof HTMLAnchorElement<`u`&&`download`in HTMLAnchorElement.prototype&&!Jo?Xo:`msSaveOrOpenBlob`in qo?Zo:Qo:()=>{};function Xo(e,t=`download`,n){let r=document.createElement(`a`);r.download=t,r.rel=`noopener`,typeof e==`string`?(r.href=e,r.origin===location.origin?Ko(r):Go(r.href)?Wo(e,t,n):(r.target=`_blank`,Ko(r))):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ko(r)},0))}function Zo(e,t=`download`,n){if(typeof e==`string`)if(Go(e))Wo(e,t,n);else{let t=document.createElement(`a`);t.href=e,t.target=`_blank`,setTimeout(function(){Ko(t)})}else navigator.msSaveOrOpenBlob(Uo(e,n),t)}function Qo(e,t,n,r){if(r||=open(``,`_blank`),r&&(r.document.title=r.document.body.innerText=`downloading...`),typeof e==`string`)return Wo(e,t,n);let i=e.type===`application/octet-stream`,a=/constructor/i.test(String(Ho.HTMLElement))||`safari`in Ho,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a||Jo)&&typeof FileReader<`u`){let t=new FileReader;t.onloadend=function(){let e=t.result;if(typeof e!=`string`)throw r=null,Error(`Wrong reader.result type`);e=o?e:e.replace(/^data:[^;]*;/,`data:attachment/file;`),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{let t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}var{assign:$o}=Object;function es(){let e=Ne(!0),t=e.run(()=>O({})),n=[],r=[],i=Zt({install(e){i._a=e,e.provide(Bo,i),e.config.globalProperties.$pinia=i,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}var{assign:ts}=Object,ns=()=>void 0,rs=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},is=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},as={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):is(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new os;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},os=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},ss=function(e){let t=rs(e);return as.encodeByteArray(t,!0)},cs=function(e){return ss(e).replace(/\./g,``)},ls=function(e){try{return as.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function us(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var ds=()=>us().__FIREBASE_DEFAULTS__,fs=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ps=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&ls(e[1]);return t&&JSON.parse(t)},ms=()=>{try{return ns()||ds()||fs()||ps()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hs=e=>ms()?.emulatorHosts?.[e],gs=e=>{let t=hs(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},_s=()=>ms()?.config,vs=e=>ms()?.[`_${e}`],ys=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function bs(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function xs(e){return(await fetch(e,{credentials:`include`})).ok}function Ss(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[cs(JSON.stringify(n)),cs(JSON.stringify(o)),``].join(`.`)}var Cs={};function ws(){let e={prod:[],emulator:[]};for(let t of Object.keys(Cs))Cs[t]?e.emulator.push(t):e.prod.push(t);return e}function Ts(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Es=!1;function Ds(e,t){if(typeof window>`u`||typeof document>`u`||!bs(window.location.host)||Cs[e]===t||Cs[e]||Es)return;Cs[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=ws().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Es=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=Ts(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function Os(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function ks(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Os())}function As(){let e=ms()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function js(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function Ms(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function Ns(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function Ps(){let e=Os();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function Fs(){return!As()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function Is(){try{return typeof indexedDB==`object`}catch{return!1}}function Ls(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}function Rs(){return!(typeof navigator>`u`||!navigator.cookieEnabled)}var zs=`FirebaseError`,Bs=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=zs,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vs.prototype.create)}},Vs=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Hs(i,n):`Error`;return new Bs(r,`${this.serviceName}: ${a} (${r}).`,n)}};function Hs(e,t){return e.replace(Us,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Us=/\{\$([^}]+)}/g;function Ws(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gs(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Ks(n)&&Ks(a)){if(!Gs(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Ks(e){return typeof e==`object`&&!!e}function qs(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Js(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Ys(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Xs(e,t){let n=new Zs(e,t);return n.subscribe.bind(n)}var Zs=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Qs(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=$s),r.error===void 0&&(r.error=$s),r.complete===void 0&&(r.complete=$s);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Qs(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function $s(){}var ec=1e3,tc=2,nc=14400*1e3,rc=.5;function ic(e,t=ec,n=tc){let r=t*n**+e,i=Math.round(rc*r*(Math.random()-.5)*2);return Math.min(nc,r+i)}function L(e){return e&&e._delegate?e._delegate:e}var ac=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},oc=`[DEFAULT]`,sc=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ys;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(lc(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cc(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function cc(e){return e===oc?void 0:e}function lc(e){return e.instantiationMode===`EAGER`}var uc=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},dc=[],R;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(R||={});var fc={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},pc=R.INFO,mc={[R.DEBUG]:`log`,[R.VERBOSE]:`log`,[R.INFO]:`info`,[R.WARN]:`warn`,[R.ERROR]:`error`},hc=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=mc[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},gc=class{constructor(e){this.name=e,this._logLevel=pc,this._logHandler=hc,this._userLogHandler=null,dc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?fc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}},_c=(e,t)=>t.some(t=>e instanceof t),vc,yc;function bc(){return vc||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function xc(){return yc||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Sc=new WeakMap,Cc=new WeakMap,wc=new WeakMap,Tc=new WeakMap,Ec=new WeakMap;function Dc(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(Nc(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Sc.set(t,e)}).catch(()=>{}),Ec.set(t,e),t}function Oc(e){if(Cc.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Cc.set(e,t)}var kc={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Cc.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||wc.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nc(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Ac(e){kc=e(kc)}function jc(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(Pc(this),t,...n);return wc.set(r,t.sort?t.sort():[t]),Nc(r)}:xc().includes(e)?function(...t){return e.apply(Pc(this),t),Nc(Sc.get(this))}:function(...t){return Nc(e.apply(Pc(this),t))}}function Mc(e){return typeof e==`function`?jc(e):(e instanceof IDBTransaction&&Oc(e),_c(e,bc())?new Proxy(e,kc):e)}function Nc(e){if(e instanceof IDBRequest)return Dc(e);if(Tc.has(e))return Tc.get(e);let t=Mc(e);return t!==e&&(Tc.set(e,t),Ec.set(t,e)),t}var Pc=e=>Ec.get(e);function Fc(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=Nc(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(Nc(o.result),e.oldVersion,e.newVersion,Nc(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Ic=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Lc=[`put`,`add`,`delete`,`clear`],Rc=new Map;function zc(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(Rc.get(t))return Rc.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Lc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ic.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return Rc.set(t,a),a}Ac(e=>({...e,get:(t,n,r)=>zc(t,n)||e.get(t,n,r),has:(t,n)=>!!zc(t,n)||e.has(t,n)}));var Bc=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Vc(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function Vc(e){return e.getComponent()?.type===`VERSION`}var Hc=`@firebase/app`,Uc=`0.14.6`,Wc=new gc(`@firebase/app`),Gc=`@firebase/app-compat`,Kc=`@firebase/analytics-compat`,qc=`@firebase/analytics`,Jc=`@firebase/app-check-compat`,Yc=`@firebase/app-check`,Xc=`@firebase/auth`,Zc=`@firebase/auth-compat`,Qc=`@firebase/database`,$c=`@firebase/data-connect`,el=`@firebase/database-compat`,tl=`@firebase/functions`,nl=`@firebase/functions-compat`,rl=`@firebase/installations`,il=`@firebase/installations-compat`,al=`@firebase/messaging`,ol=`@firebase/messaging-compat`,sl=`@firebase/performance`,cl=`@firebase/performance-compat`,ll=`@firebase/remote-config`,ul=`@firebase/remote-config-compat`,dl=`@firebase/storage`,fl=`@firebase/storage-compat`,pl=`@firebase/firestore`,ml=`@firebase/ai`,hl=`@firebase/firestore-compat`,gl=`firebase`,_l=`12.6.0`,vl=`[DEFAULT]`,yl={[Hc]:`fire-core`,[Gc]:`fire-core-compat`,[qc]:`fire-analytics`,[Kc]:`fire-analytics-compat`,[Yc]:`fire-app-check`,[Jc]:`fire-app-check-compat`,[Xc]:`fire-auth`,[Zc]:`fire-auth-compat`,[Qc]:`fire-rtdb`,[$c]:`fire-data-connect`,[el]:`fire-rtdb-compat`,[tl]:`fire-fn`,[nl]:`fire-fn-compat`,[rl]:`fire-iid`,[il]:`fire-iid-compat`,[al]:`fire-fcm`,[ol]:`fire-fcm-compat`,[sl]:`fire-perf`,[cl]:`fire-perf-compat`,[ll]:`fire-rc`,[ul]:`fire-rc-compat`,[dl]:`fire-gcs`,[fl]:`fire-gcs-compat`,[pl]:`fire-fst`,[hl]:`fire-fst-compat`,[ml]:`fire-vertex`,"fire-js":`fire-js`,[gl]:`fire-js-all`},bl=new Map,xl=new Map,Sl=new Map;function Cl(e,t){try{e.container.addComponent(t)}catch(n){Wc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function wl(e){let t=e.name;if(Sl.has(t))return Wc.debug(`There were multiple attempts to register component ${t}.`),!1;Sl.set(t,e);for(let t of bl.values())Cl(t,e);for(let t of xl.values())Cl(t,e);return!0}function Tl(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function El(e){return e==null?!1:e.settings!==void 0}var Dl=new Vs(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),Ol=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ac(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create(`app-deleted`,{appName:this._name})}},kl=_l;function Al(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:vl,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw Dl.create(`bad-app-name`,{appName:String(i)});if(n||=_s(),!n)throw Dl.create(`no-options`);let a=bl.get(i);if(a){if(Gs(n,a.options)&&Gs(r,a.config))return a;throw Dl.create(`duplicate-app`,{appName:i})}let o=new uc(i);for(let e of Sl.values())o.addComponent(e);let s=new Ol(n,r,o);return bl.set(i,s),s}function jl(e=vl){let t=bl.get(e);if(!t&&e===`[DEFAULT]`&&_s())return Al();if(!t)throw Dl.create(`no-app`,{appName:e});return t}function Ml(e,t,n){let r=yl[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wc.warn(e.join(` `));return}wl(new ac(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var Nl=`firebase-heartbeat-database`,Pl=1,Fl=`firebase-heartbeat-store`,Il=null;function Ll(){return Il||=Fc(Nl,Pl,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Fl)}catch(e){console.warn(e)}}}}).catch(e=>{throw Dl.create(`idb-open`,{originalErrorMessage:e.message})}),Il}async function Rl(e){try{let t=(await Ll()).transaction(Fl),n=await t.objectStore(Fl).get(Bl(e));return await t.done,n}catch(e){if(e instanceof Bs)Wc.warn(e.message);else{let t=Dl.create(`idb-get`,{originalErrorMessage:e?.message});Wc.warn(t.message)}}}async function zl(e,t){try{let n=(await Ll()).transaction(Fl,`readwrite`);await n.objectStore(Fl).put(t,Bl(e)),await n.done}catch(e){if(e instanceof Bs)Wc.warn(e.message);else{let t=Dl.create(`idb-set`,{originalErrorMessage:e?.message});Wc.warn(t.message)}}}function Bl(e){return`${e.name}!${e.options.appId}`}var Vl=1024,Hl=30,Ul=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new Kl(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=Wl();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>Hl){let e=Jl(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=Wl(),{heartbeatsToSend:t,unsentEntries:n}=Gl(this._heartbeatsCache.heartbeats),r=cs(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Wc.warn(e),``}}};function Wl(){return new Date().toISOString().substring(0,10)}function Gl(e,t=Vl){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),ql(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ql(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kl=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Is()?Ls().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await Rl(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return zl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return zl(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function ql(e){return cs(JSON.stringify({version:2,heartbeats:e})).length}function Jl(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Yl(e){wl(new ac(`platform-logger`,e=>new Bc(e),`PRIVATE`)),wl(new ac(`heartbeat`,e=>new Ul(e),`PRIVATE`)),Ml(Hc,Uc,e),Ml(Hc,Uc,`esm2020`),Ml(`fire-js`,``)}Yl(``);function Xl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Zl=Xl,Ql=new Vs(`auth`,`Firebase`,Xl()),$l=new gc(`@firebase/auth`);function eu(e,...t){$l.logLevel<=R.WARN&&$l.warn(`Auth (${kl}): ${e}`,...t)}function tu(e,...t){$l.logLevel<=R.ERROR&&$l.error(`Auth (${kl}): ${e}`,...t)}function nu(e,...t){throw ou(e,...t)}function ru(e,...t){return ou(e,...t)}function iu(e,t,n){return new Vs(`auth`,`Firebase`,{...Zl(),[t]:n}).create(t,{appName:e.name})}function au(e){return iu(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function ou(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ql.create(e,...t)}function z(e,t,...n){if(!e)throw ou(t,...n)}function su(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw tu(t),Error(t)}function cu(e,t){e||su(t)}function lu(){return typeof self<`u`&&self.location?.href||``}function uu(){return du()===`http:`||du()===`https:`}function du(){return typeof self<`u`&&self.location?.protocol||null}function fu(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(uu()||Ms()||`connection`in navigator)?navigator.onLine:!0}function pu(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var mu=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,cu(t>e,`Short delay should be less than long delay!`),this.isMobile=ks()||Ns()}get(){return fu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function hu(e,t){cu(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var gu=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;su(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;su(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;su(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},_u={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},vu=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],yu=new mu(3e4,6e4);function bu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function xu(e,t,n,r,i={}){return Su(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=qs({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return js()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&bs(e.emulatorConfig.host)&&(c.credentials=`include`),gu.fetch()(await wu(e,e.config.apiHost,n,o),c)})}async function Su(e,t,n){e._canInitEmulator=!1;let r={..._u,...t};try{let t=new Eu(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw Du(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw Du(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw Du(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw Du(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw iu(e,o,n);nu(e,o)}}catch(t){if(t instanceof Bs)throw t;nu(e,`network-request-failed`,{message:String(t)})}}async function Cu(e,t,n,r,i={}){let a=await xu(e,t,n,r,i);return`mfaPendingCredential`in a&&nu(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function wu(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?hu(e.config,i):`${e.config.apiScheme}://${i}`;return vu.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function Tu(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var Eu=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ru(this.auth,`network-request-failed`)),yu.get())})}};function Du(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ru(e,t,r);return i.customData._tokenResponse=n,i}function Ou(e){return e!==void 0&&e.enterprise!==void 0}var ku=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Tu(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function Au(e,t){return xu(e,`GET`,`/v2/recaptchaConfig`,bu(e,t))}async function ju(e,t){return xu(e,`POST`,`/v1/accounts:delete`,t)}async function Mu(e,t){return xu(e,`POST`,`/v1/accounts:lookup`,t)}function Nu(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Pu(e,t=!1){let n=L(e),r=await n.getIdToken(t),i=Iu(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:Nu(Fu(i.auth_time)),issuedAtTime:Nu(Fu(i.iat)),expirationTime:Nu(Fu(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Fu(e){return Number(e)*1e3}function Iu(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return tu(`JWT malformed, contained fewer than 3 sections`),null;try{let e=ls(n);return e?JSON.parse(e):(tu(`Failed to decode base64 JWT payload`),null)}catch(e){return tu(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function Lu(e){let t=Iu(e);return z(t,`internal-error`),z(t.exp!==void 0,`internal-error`),z(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function Ru(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Bs&&zu(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function zu({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var Bu=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},Vu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Hu(e){let t=e.auth,n=await Ru(e,Mu(t,{idToken:await e.getIdToken()}));z(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?Gu(r.providerUserInfo):[],a=Wu(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Vu(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function Uu(e){let t=L(e);await Hu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Wu(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function Gu(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Ku(e,t){let n=await Su(e,{},async()=>{let n=qs({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await wu(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&bs(e.emulatorConfig.host)&&(s.credentials=`include`),gu.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qu(e,t){return xu(e,`POST`,`/v2/accounts:revokeToken`,bu(e,t))}var Ju=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,`internal-error`),z(e.idToken!==void 0,`internal-error`),z(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):Lu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){z(e.length!==0,`internal-error`);let t=Lu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await Ku(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(z(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(z(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(z(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return su(`not implemented`)}};function Yu(e,t){z(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var Xu=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new Bu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Vu(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return z(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Pu(this,e)}reload(){return Uu(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Hu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(El(this.auth.app))return Promise.reject(au(this.auth));let e=await this.getIdToken();return await Ru(this,ju(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;z(d&&h,t,`internal-error`);let g=Ju.fromJSON(this.name,h);z(typeof d==`string`,t,`internal-error`),Yu(r,t.name),Yu(i,t.name),z(typeof f==`boolean`,t,`internal-error`),z(typeof p==`boolean`,t,`internal-error`),Yu(a,t.name),Yu(o,t.name),Yu(s,t.name),Yu(c,t.name),Yu(l,t.name),Yu(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new Ju;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Hu(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];z(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:Gu(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new Ju;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},Zu=new Map;function Qu(e){cu(e instanceof Function,`Expected a class definition`);let t=Zu.get(e);return t?(cu(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,Zu.set(e,t),t)}var $u=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};$u.type=`NONE`;var ed=$u;function td(e,t,n){return`firebase:${e}:${t}:${n}`}var nd=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=td(this.userKey,r.apiKey,i),this.fullPersistenceKey=td(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await Mu(this.auth,{idToken:e}).catch(()=>void 0);return t?Xu._fromGetAccountInfoResponse(this.auth,t,e):null}return Xu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(Qu(ed),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||Qu(ed),o=td(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await Mu(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await Xu._fromGetAccountInfoResponse(t,e,n)}else r=Xu._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function rd(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(sd(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(id(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(ld(t))return`Blackberry`;if(ud(t))return`Webos`;if(ad(t))return`Safari`;if((t.includes(`chrome/`)||od(t))&&!t.includes(`edge/`))return`Chrome`;if(cd(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function id(e=Os()){return/firefox\//i.test(e)}function ad(e=Os()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function od(e=Os()){return/crios\//i.test(e)}function sd(e=Os()){return/iemobile/i.test(e)}function cd(e=Os()){return/android/i.test(e)}function ld(e=Os()){return/blackberry/i.test(e)}function ud(e=Os()){return/webos/i.test(e)}function dd(e=Os()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function fd(e=Os()){return dd(e)&&!!window.navigator?.standalone}function pd(){return Ps()&&document.documentMode===10}function md(e=Os()){return dd(e)||cd(e)||ud(e)||ld(e)||/windows phone/i.test(e)||sd(e)}function hd(e,t=[]){let n;switch(e){case`Browser`:n=rd(Os());break;case`Worker`:n=`${rd(Os())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${kl}/${r}`}var gd=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function _d(e,t={}){return xu(e,`GET`,`/v2/passwordPolicy`,bu(e,t))}var vd=6,yd=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vd,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},bd=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sd(this),this.idTokenSubscription=new Sd(this),this.beforeStateQueue=new gd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ql,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qu(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Mu(this,{idToken:e}),n=await Xu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(El(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hu(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pu()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(El(this.app))return Promise.reject(au(this));let t=e?L(e):null;return t&&z(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return El(this.app)?Promise.reject(au(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return El(this.app)?Promise.reject(au(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new yd(await _d(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vs(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await qu(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Qu(e)||this._popupRedirectResolver;z(t,this,`argument-error`),this.redirectPersistenceManager=await nd.create(this,[Qu(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(El(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eu(`Error while retrieving App Check token: ${e.error}`),e?.token}};function xd(e){return L(e)}var Sd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xs(e=>this.observer=e)}get next(){return z(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},Cd={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function wd(e){Cd=e}function Td(e){return Cd.loadJS(e)}function Ed(){return Cd.recaptchaEnterpriseScript}function Dd(){return Cd.gapiScript}function Od(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var kd=class{constructor(){this.enterprise=new Ad}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},Ad=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},jd=`recaptcha-enterprise`,Md=`NO_RECAPTCHA`,Nd=class{constructor(e){this.type=jd,this.auth=xd(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Au(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new ku(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;Ou(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Md)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new kd().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&Ou(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=Ed();t.length!==0&&(t+=n),Td(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function Pd(e,t,n,r=!1,i=!1){let a=new Nd(e),o;if(i)o=Md;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function Fd(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await Pd(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await Pd(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await Pd(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await Pd(e,t,n,!1,!0))):Promise.reject(i)):r(e,await Pd(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function Id(e){let t=xd(e),n=new ku(await Au(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new Nd(t).verify()}function Ld(e,t){let n=Tl(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(Gs(n.getOptions(),t??{}))return e;nu(e,`already-initialized`)}return n.initialize({options:t})}function Rd(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qu);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function zd(e,t,n){let r=xd(e);z(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=Bd(t),{host:o,port:s}=Vd(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),z(Gs(l,r.config.emulator)&&Gs(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,bs(o)?(xs(`${a}//${o}${c}`),Ds(`Auth`,!0)):i||Ud()}function Bd(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function Vd(e){let t=Bd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:Hd(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:Hd(t)}}}function Hd(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function Ud(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var Wd=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return su(`not implemented`)}_getIdTokenResponse(e){return su(`not implemented`)}_linkToIdToken(e,t){return su(`not implemented`)}_getReauthenticationResolver(e){return su(`not implemented`)}};async function Gd(e,t){return xu(e,`POST`,`/v1/accounts:signUp`,t)}async function Kd(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithPassword`,bu(e,t))}async function qd(e,t){return xu(e,`POST`,`/v1/accounts:sendOobCode`,bu(e,t))}async function Jd(e,t){return qd(e,t)}async function Yd(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithEmailLink`,bu(e,t))}async function Xd(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithEmailLink`,bu(e,t))}var Zd=class e extends Wd{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return Fd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,Kd,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Yd(e,{email:this._email,oobCode:this._password});default:nu(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return Fd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Gd,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return Xd(e,{idToken:t,email:this._email,oobCode:this._password});default:nu(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Qd(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithIdp`,bu(e,t))}var $d=`http://localhost`,ef=class e extends Wd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):nu(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Qd(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Qd(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Qd(e,t)}buildRequest(){let e={requestUri:$d,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qs(t)}return e}};async function tf(e,t){return xu(e,`POST`,`/v1/accounts:sendVerificationCode`,bu(e,t))}async function nf(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,bu(e,t))}async function rf(e,t){let n=await Cu(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,bu(e,t));if(n.temporaryProof)throw Du(e,`account-exists-with-different-credential`,n);return n}var af={USER_NOT_FOUND:`user-not-found`};async function of(e,t){return Cu(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,bu(e,{...t,operation:`REAUTH`}),af)}var sf=class e extends Wd{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return nf(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return rf(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return of(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function cf(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function lf(e){let t=Js(Ys(e)).link,n=t?Js(Ys(t)).deep_link_id:null,r=Js(Ys(e)).deep_link_id;return(r?Js(Ys(r)).link:null)||r||n||t||e}var uf=class e{constructor(e){let t=Js(Ys(e)),n=t.apiKey??null,r=t.oobCode??null,i=cf(t.mode??null);z(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=lf(t);try{return new e(n)}catch{return null}}},df=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Zd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=uf.parseLink(t);return z(n,`argument-error`),Zd._fromEmailAndCode(e,n.code,n.tenantId)}};df.PROVIDER_ID=`password`,df.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,df.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var ff=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},pf=class extends ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},mf=class e extends pf{constructor(){super(`facebook.com`)}static credential(t){return ef._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};mf.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,mf.PROVIDER_ID=`facebook.com`;var hf=class e extends pf{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return ef._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};hf.GOOGLE_SIGN_IN_METHOD=`google.com`,hf.PROVIDER_ID=`google.com`;var gf=class e extends pf{constructor(){super(`github.com`)}static credential(t){return ef._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};gf.GITHUB_SIGN_IN_METHOD=`github.com`,gf.PROVIDER_ID=`github.com`;var _f=class e extends pf{constructor(){super(`twitter.com`)}static credential(t,n){return ef._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};_f.TWITTER_SIGN_IN_METHOD=`twitter.com`,_f.PROVIDER_ID=`twitter.com`;async function vf(e,t){return Cu(e,`POST`,`/v1/accounts:signUp`,bu(e,t))}var yf=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await Xu._fromIdTokenResponse(t,r,i),providerId:bf(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:bf(r),_tokenResponse:r,operationType:n})}};function bf(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var xf=class e extends Bs{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Sf(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?xf._fromErrorAndOperation(e,n,t,r):n})}async function Cf(e,t,n=!1){let r=await Ru(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yf._forOperation(e,`link`,r)}async function wf(e,t,n=!1){let{auth:r}=e;if(El(r.app))return Promise.reject(au(r));let i=`reauthenticate`;try{let a=await Ru(e,Sf(r,i,t,e),n);z(a.idToken,r,`internal-error`);let o=Iu(a.idToken);z(o,r,`internal-error`);let{sub:s}=o;return z(e.uid===s,r,`user-mismatch`),yf._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&nu(r,`user-mismatch`),e}}async function Tf(e,t,n=!1){if(El(e.app))return Promise.reject(au(e));let r=`signIn`,i=await Sf(e,r,t),a=await yf._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Ef(e,t){return Tf(xd(e),t)}function Df(e,t,n){z(n.url?.length>0,e,`invalid-continue-uri`),z(n.dynamicLinkDomain===void 0||n.dynamicLinkDomain.length>0,e,`invalid-dynamic-link-domain`),z(n.linkDomain===void 0||n.linkDomain.length>0,e,`invalid-hosting-link-domain`),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,e,`missing-ios-bundle-id`),t.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,e,`missing-android-pkg-name`),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Of(e){let t=xd(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kf(e,t,n){if(El(e.app))return Promise.reject(au(e));let r=xd(e),i=await Fd(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,vf,`EMAIL_PASSWORD_PROVIDER`).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Of(e),t}),a=await yf._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function Af(e,t,n){return El(e.app)?Promise.reject(au(e)):Ef(L(e),df.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&Of(e),t})}async function jf(e,t){let n=L(e),r={requestType:`VERIFY_EMAIL`,idToken:await e.getIdToken()};t&&Df(n.auth,r,t);let{email:i}=await Jd(n.auth,r);i!==e.email&&await e.reload()}function Mf(e,t,n,r){return L(e).onIdTokenChanged(t,n,r)}function Nf(e,t,n){return L(e).beforeAuthStateChanged(t,n)}function Pf(e,t,n,r){return L(e).onAuthStateChanged(t,n,r)}function Ff(e){return L(e).signOut()}function If(e,t){return xu(e,`POST`,`/v2/accounts/mfaEnrollment:start`,bu(e,t))}function Lf(e,t){return xu(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,bu(e,t))}function Rf(e,t){return xu(e,`POST`,`/v2/accounts/mfaEnrollment:start`,bu(e,t))}function zf(e,t){return xu(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,bu(e,t))}var Bf=`__sak`,Vf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,`1`),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},Hf=1e3,Uf=10,Wf=class extends Vf{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=md(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);pd()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Uf):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},Hf)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};Wf.type=`LOCAL`;var Gf=Wf,Kf=1e3;function qf(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function Jf(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var Yf=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=Jf(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:qf(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=Jf(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=Jf(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=qf(n),i=setInterval(()=>{let e=qf(n);e!==r&&(t(e),r=e)},Kf);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};Yf.type=`COOKIE`;var Xf=class extends Vf{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};Xf.type=`SESSION`;var Zf=Xf;function Qf(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var $f=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await Qf(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};$f.receivers=[];function ep(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var tp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=ep(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function np(){return window}function rp(e){np().location.href=e}function ip(){return np().WorkerGlobalScope!==void 0&&typeof np().importScripts==`function`}async function ap(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function op(){return navigator?.serviceWorker?.controller||null}function sp(){return ip()?self:null}var cp=`firebaseLocalStorageDb`,lp=1,up=`firebaseLocalStorage`,dp=`fbase_key`,fp=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function pp(e,t){return e.transaction([up],t?`readwrite`:`readonly`).objectStore(up)}function mp(){return new fp(indexedDB.deleteDatabase(cp)).toPromise()}function hp(){let e=indexedDB.open(cp,lp);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(up,{keyPath:dp})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(up)?t(n):(n.close(),await mp(),t(await hp()))})})}async function gp(e,t,n){return new fp(pp(e,!0).put({[dp]:t,value:n})).toPromise()}async function _p(e,t){let n=await new fp(pp(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function vp(e,t){return new fp(pp(e,!0).delete(t)).toPromise()}var yp=800,bp=3,xp=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await hp(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>bp)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return ip()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(sp()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await ap(),!this.activeServiceWorker)return;this.sender=new tp(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||op()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await hp();return await gp(e,Bf,`1`),await vp(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>_p(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vp(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new fp(pp(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yp)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};xp.type=`LOCAL`;var Sp=xp;function Cp(e,t){return xu(e,`POST`,`/v2/accounts/mfaSignIn:start`,bu(e,t))}function wp(e,t){return xu(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,bu(e,t))}function Tp(e,t){return xu(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,bu(e,t))}Od(`rcb`),new mu(3e4,6e4);var Ep=`recaptcha`;async function Dp(e,t,n){if(!e._getRecaptchaConfig())try{await Id(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return z(t.type===`enroll`,e,`internal-error`),(await Fd(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===Md?(z(n?.type===Ep,e,`argument-error`),If(e,await Op(e,t,n))):If(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{z(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return z(i,e,`missing-multi-factor-info`),(await Fd(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===Md?(z(n?.type===Ep,e,`argument-error`),Cp(e,await Op(e,t,n))):Cp(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await Fd(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===Md?(z(n?.type===Ep,e,`argument-error`),tf(e,await Op(e,t,n))):tf(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Op(e,t,n){z(n.type===Ep,e,`argument-error`);let r=await n.verify();z(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var kp=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=xd(t)}verifyPhoneNumber(e,t){return Dp(this.auth,e,L(t))}static credential(e,t){return sf._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?sf._fromTokenResponse(t,n):null}};kp.PROVIDER_ID=`phone`,kp.PHONE_SIGN_IN_METHOD=`phone`;function Ap(e,t){return t?Qu(t):(z(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var jp=class extends Wd{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Qd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qd(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Mp(e){return Tf(e.auth,new jp(e),e.bypassAuthState)}function Np(e){let{auth:t,user:n}=e;return z(n,t,`internal-error`),wf(n,new jp(e),e.bypassAuthState)}async function Pp(e){let{auth:t,user:n}=e;return z(n,t,`internal-error`),Cf(n,new jp(e),e.bypassAuthState)}var Fp=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return Mp;case`linkViaPopup`:case`linkViaRedirect`:return Pp;case`reauthViaPopup`:case`reauthViaRedirect`:return Np;default:nu(this.auth,`internal-error`)}}resolve(e){cu(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cu(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},Ip=new mu(2e3,1e4),Lp=class e extends Fp{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return z(e,this.auth,`internal-error`),e}async onExecution(){cu(this.filter.length===1,`Popup operations only handle one event`);let e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ru(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ru(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ru(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,Ip.get())};e()}};Lp.currentPopupAction=null;var Rp=`pendingRedirect`,zp=new Map,Bp=class extends Fp{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=zp.get(this.auth._key());if(!e){try{let t=await Vp(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}zp.set(this.auth._key(),e)}return this.bypassAuthState||zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Vp(e,t){let n=Wp(t),r=Up(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function Hp(e,t){zp.set(e._key(),t)}function Up(e){return Qu(e._redirectPersistence)}function Wp(e){return td(Rp,e.config.apiKey,e.name)}async function Gp(e,t,n=!1){if(El(e.app))return Promise.reject(au(e));let r=xd(e),i=await new Bp(r,Ap(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var Kp=600*1e3,qp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xp(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!Yp(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(ru(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kp&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jp(e))}saveEventToCache(e){this.cachedEventUids.add(Jp(e)),this.lastProcessedEventTime=Date.now()}};function Jp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function Yp({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function Xp(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return Yp(e);default:return!1}}async function Zp(e,t={}){return xu(e,`GET`,`/v1/projects`,t)}var Qp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$p=/^https?/;async function em(e){if(e.config.emulator)return;let{authorizedDomains:t}=await Zp(e);for(let e of t)try{if(tm(e))return}catch{}nu(e,`unauthorized-domain`)}function tm(e){let t=lu(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!$p.test(n))return!1;if(Qp.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var nm=new mu(3e4,6e4);function rm(){let e=np().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function im(e){return new Promise((t,n)=>{function r(){rm(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rm(),n(ru(e,`network-request-failed`))},timeout:nm.get()})}if(np().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(np().gapi?.load)r();else{let t=Od(`iframefcb`);return np()[t]=()=>{gapi.load?r():n(ru(e,`network-request-failed`))},Td(`${Dd()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw am=null,e})}var am=null;function om(e){return am||=im(e),am}var sm=new mu(5e3,15e3),cm=`__/auth/iframe`,lm=`emulator/auth/iframe`,um={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},dm=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function fm(e){let t=e.config;z(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?hu(t,lm):`https://${e.config.authDomain}/${cm}`,r={apiKey:t.apiKey,appName:e.name,v:kl},i=dm.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${qs(r).slice(1)}`}async function pm(e){let t=await om(e),n=np().gapi;return z(n,e,`internal-error`),t.open({where:document.body,url:fm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:um,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=ru(e,`network-request-failed`),a=np().setTimeout(()=>{r(i)},sm.get());function o(){np().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var mm={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},hm=500,gm=600,_m=`_blank`,vm=`http://localhost`,ym=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function bm(e,t,n,r=hm,i=gm){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...mm,width:r.toString(),height:i.toString(),top:a,left:o},l=Os().toLowerCase();n&&(s=od(l)?_m:n),id(l)&&(t||=vm,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(fd(l)&&s!==`_self`)return xm(t||``,s),new ym(null);let d=window.open(t||``,s,u);z(d,e,`popup-blocked`);try{d.focus()}catch{}return new ym(d)}function xm(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Sm=`__/auth/handler`,Cm=`emulator/auth/handler`,wm=`fac`;async function Tm(e,t,n,r,i,a){z(e.config.authDomain,e,`auth-domain-config-required`),z(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:kl,eventId:i};if(t instanceof ff){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,Ws(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof pf){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${wm}=${encodeURIComponent(c)}`:``;return`${Em(e)}?${qs(s).slice(1)}${l}`}function Em({config:e}){return e.emulator?hu(e,Cm):`https://${e.authDomain}/${Sm}`}var Dm=`webStorageSupport`,Om=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zf,this._completeRedirectFn=Gp,this._overrideRedirectResult=Hp}async _openPopup(e,t,n,r){return cu(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),bm(e,await Tm(e,t,n,lu(),r),ep())}async _openRedirect(e,t,n,r){return await this._originValidation(e),rp(await Tm(e,t,n,lu(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(cu(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await pm(e),n=new qp(e);return t.register(`authEvent`,t=>(z(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dm,{type:Dm},n=>{let r=n?.[0]?.[Dm];r!==void 0&&t(!!r),nu(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=em(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return md()||ad()||dd()}},km=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return su(`unexpected MultiFactorSessionType`)}}},Am=class e extends km{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return Lf(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return wp(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},jm=class{constructor(){}static assertion(e){return Am._fromCredential(e)}};jm.FACTOR_ID=`phone`;var Mm=class{static assertionForEnrollment(e,t){return Nm._fromSecret(e,t)}static assertionForSignIn(e,t){return Nm._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;z(t.user?.auth!==void 0,`internal-error`);let n=await Rf(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return Pm._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};Mm.FACTOR_ID=`totp`;var Nm=class e extends km{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return z(this.secret!==void 0,e,`argument-error`),zf(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){z(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Tp(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},Pm=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(Fm(e)||Fm(t))&&(n=!0),n&&(Fm(e)&&(e=this.auth.currentUser?.email||`unknownuser`),Fm(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function Fm(e){return e===void 0||e?.length===0}var Im=`@firebase/auth`,Lm=`1.12.0`,Rm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zm(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function Bm(e){wl(new ac(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;z(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new bd(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:hd(e)});return Rd(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),wl(new ac(`auth-internal`,e=>(e=>new Rm(e))(xd(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),Ml(Im,Lm,zm(e)),Ml(Im,Lm,`esm2020`)}var Vm=vs(`authIdTokenMaxAge`)||300,Hm=null,Um=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vm)return;let i=n?.token;Hm!==i&&(Hm=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wm(e=jl()){let t=Tl(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=Ld(e,{popupRedirectResolver:Om,persistence:[Sp,Gf,Zf]}),r=vs(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=Um(e.toString());Nf(n,t,()=>t(n.currentUser)),Mf(n,e=>t(e))}}let i=hs(`auth`);return i&&zd(n,`http://${i}`),n}function Gm(){return document.getElementsByTagName(`head`)?.[0]??document}wd({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=ru(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,Gm().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),Bm(`Browser`);var Km={class:`app-layout`},qm={class:`site-header`},Jm={class:`container`},Ym={class:`page-content`},Xm={__name:`App`,setup(e){let t=O(!1),n=O(!1);function r(){t.value=!t.value}function i(){t.value=!1}let a=Wm();dr(()=>{Pf(a,e=>{n.value=!!e})});function o(){Ff(a),i()}return(e,a)=>{let s=xr(`router-link`),c=xr(`router-view`);return j(),M(`div`,Km,[N(`header`,qm,[N(`div`,Jm,[a[6]||=N(`h1`,{class:`logo`},`HomeHealthCare`,-1),n.value?(j(),M(`button`,{key:1,class:`nav-link signup`,onClick:o},` Logout `)):(j(),Ji(s,{key:0,to:`/signup`,class:`nav-link signup`},{default:Ln(()=>[...a[0]||=[F(` Sign In `,-1)]]),_:1})),N(`button`,{class:`hamburger`,onClick:r},``),N(`nav`,{class:xe({"nav-links":!0,open:t.value})},[P(s,{to:`/`,class:`nav-link`,onClick:i},{default:Ln(()=>[...a[1]||=[F(`Home`,-1)]]),_:1}),P(s,{to:`/about`,class:`nav-link`,onClick:i},{default:Ln(()=>[...a[2]||=[F(`About`,-1)]]),_:1}),P(s,{to:`/policy`,class:`nav-link`,onClick:i},{default:Ln(()=>[...a[3]||=[F(`Policy`,-1)]]),_:1}),n.value?(j(),Ji(s,{key:0,to:`/dashboard`,class:`nav-link`,onClick:i},{default:Ln(()=>[...a[4]||=[F(` Dashboard `,-1)]]),_:1})):ra(``,!0),n.value?(j(),Ji(s,{key:1,to:`/editprovider`,class:`nav-link`,onClick:i},{default:Ln(()=>[...a[5]||=[F(` Settings `,-1)]]),_:1})):ra(``,!0)],2)])]),N(`main`,Ym,[P(c)]),a[7]||=N(`footer`,{class:`site-footer`},[N(`div`,{class:`footer-container`},[N(`p`,null,` 2025 Home Healthcare. All rights reserved.`),N(`p`,null,`Email: info@homehealthcare.com | Phone: +123SS`)])],-1)])}}},Zm=typeof document<`u`;function Qm(e){return typeof e==`object`||`displayName`in e||`props`in e||`__vccOpts`in e}function $m(e){return e.__esModule||e[Symbol.toStringTag]===`Module`||e.default&&Qm(e.default)}var B=Object.assign;function eh(e,t){let n={};for(let r in t){let i=t[r];n[r]=nh(i)?i.map(e):e(i)}return n}var th=()=>{},nh=Array.isArray;function rh(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}var ih=/#/g,ah=/&/g,oh=/\//g,sh=/=/g,ch=/\?/g,lh=/\+/g,uh=/%5B/g,dh=/%5D/g,fh=/%5E/g,ph=/%60/g,mh=/%7B/g,hh=/%7C/g,gh=/%7D/g,_h=/%20/g;function vh(e){return e==null?``:encodeURI(``+e).replace(hh,`|`).replace(uh,`[`).replace(dh,`]`)}function yh(e){return vh(e).replace(mh,`{`).replace(gh,`}`).replace(fh,`^`)}function bh(e){return vh(e).replace(lh,`%2B`).replace(_h,`+`).replace(ih,`%23`).replace(ah,`%26`).replace(ph,"`").replace(mh,`{`).replace(gh,`}`).replace(fh,`^`)}function xh(e){return bh(e).replace(sh,`%3D`)}function Sh(e){return vh(e).replace(ih,`%23`).replace(ch,`%3F`)}function Ch(e){return Sh(e).replace(oh,`%2F`)}function wh(e){if(e==null)return null;try{return decodeURIComponent(``+e)}catch{}return``+e}var Th=/\/$/,Eh=e=>e.replace(Th,``);function Dh(e,t,n=`/`){let r,i={},a=``,o=``,s=t.indexOf(`#`),c=t.indexOf(`?`);return c=s>=0&&c>s?-1:c,c>=0&&(r=t.slice(0,c),a=t.slice(c,s>0?s:t.length),i=e(a.slice(1))),s>=0&&(r||=t.slice(0,s),o=t.slice(s,t.length)),r=Fh(r??t,n),{fullPath:r+a+o,path:r,query:i,hash:wh(o)}}function Oh(e,t){let n=t.query?e(t.query):``;return t.path+(n&&`?`)+n+(t.hash||``)}function kh(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||`/`}function Ah(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&jh(t.matched[r],n.matched[i])&&Mh(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function jh(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!Nh(e[n],t[n]))return!1;return!0}function Nh(e,t){return nh(e)?Ph(e,t):nh(t)?Ph(t,e):e?.valueOf()===t?.valueOf()}function Ph(e,t){return nh(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):e.length===1&&e[0]===t}function Fh(e,t){if(e.startsWith(`/`))return e;if(!e)return t;let n=t.split(`/`),r=e.split(`/`),i=r[r.length-1];(i===`..`||i===`.`)&&r.push(``);let a=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==`.`)if(s===`..`)a>1&&a--;else break;return n.slice(0,a).join(`/`)+`/`+r.slice(o).join(`/`)}var Ih={path:`/`,name:void 0,params:{},query:{},hash:``,fullPath:`/`,matched:[],meta:{},redirectedFrom:void 0},Lh=function(e){return e.pop=`pop`,e.push=`push`,e}({}),Rh=function(e){return e.back=`back`,e.forward=`forward`,e.unknown=``,e}({});function zh(e){if(!e)if(Zm){let t=document.querySelector(`base`);e=t&&t.getAttribute(`href`)||`/`,e=e.replace(/^\w+:\/\/[^\/]+/,``)}else e=`/`;return e[0]!==`/`&&e[0]!==`#`&&(e=`/`+e),Eh(e)}var Bh=/^[^#]+#/;function Vh(e,t){return e.replace(Bh,`#`)+t}function Hh(e,t){let n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var Uh=()=>({left:window.scrollX,top:window.scrollY});function Wh(e){let t;if(`el`in e){let n=e.el,r=typeof n==`string`&&n.startsWith(`#`),i=typeof n==`string`?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=Hh(i,e)}else t=e;`scrollBehavior`in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left==null?window.scrollX:t.left,t.top==null?window.scrollY:t.top)}function Gh(e,t){return(history.state?history.state.position-t:-1)+e}var Kh=new Map;function qh(e,t){Kh.set(e,t)}function Jh(e){let t=Kh.get(e);return Kh.delete(e),t}function Yh(e){return typeof e==`string`||e&&typeof e==`object`}function Xh(e){return typeof e==`string`||typeof e==`symbol`}var Zh=function(e){return e[e.MATCHER_NOT_FOUND=1]=`MATCHER_NOT_FOUND`,e[e.NAVIGATION_GUARD_REDIRECT=2]=`NAVIGATION_GUARD_REDIRECT`,e[e.NAVIGATION_ABORTED=4]=`NAVIGATION_ABORTED`,e[e.NAVIGATION_CANCELLED=8]=`NAVIGATION_CANCELLED`,e[e.NAVIGATION_DUPLICATED=16]=`NAVIGATION_DUPLICATED`,e}({}),Qh=Symbol(``);Zh.MATCHER_NOT_FOUND,Zh.NAVIGATION_GUARD_REDIRECT,Zh.NAVIGATION_ABORTED,Zh.NAVIGATION_CANCELLED,Zh.NAVIGATION_DUPLICATED;function $h(e,t){return B(Error(),{type:e,[Qh]:!0},t)}function eg(e,t){return e instanceof Error&&Qh in e&&(t==null||!!(e.type&t))}function tg(e){let t={};if(e===``||e===`?`)return t;let n=(e[0]===`?`?e.slice(1):e).split(`&`);for(let e=0;e<n.length;++e){let r=n[e].replace(lh,` `),i=r.indexOf(`=`),a=wh(i<0?r:r.slice(0,i)),o=i<0?null:wh(r.slice(i+1));if(a in t){let e=t[a];nh(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function ng(e){let t=``;for(let n in e){let r=e[n];if(n=xh(n),r==null){r!==void 0&&(t+=(t.length?`&`:``)+n);continue}(nh(r)?r.map(e=>e&&bh(e)):[r&&bh(r)]).forEach(e=>{e!==void 0&&(t+=(t.length?`&`:``)+n,e!=null&&(t+=`=`+e))})}return t}function rg(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=nh(r)?r.map(e=>e==null?null:``+e):r==null?r:``+r)}return t}var ig=Symbol(``),ag=Symbol(``),og=Symbol(``),sg=Symbol(``),cg=Symbol(``);function lg(){let e=[];function t(t){return e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ug(e,t,n,r,i,a=e=>e()){let o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,c)=>{let l=e=>{e===!1?c($h(Zh.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?c(e):Yh(e)?c($h(Zh.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&typeof e==`function`&&o.push(e),s())},u=a(()=>e.call(r&&r.instances[i],t,n,l)),d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(e=>c(e))})}function dg(e,t,n,r,i=e=>e()){let a=[];for(let o of e)for(let e in o.components){let s=o.components[e];if(!(t!==`beforeRouteEnter`&&!o.instances[e]))if(Qm(s)){let c=(s.__vccOpts||s)[t];c&&a.push(ug(c,n,r,o,e,i))}else{let c=s();a.push(()=>c.then(a=>{if(!a)throw Error(`Couldn't resolve component "${e}" at "${o.path}"`);let s=$m(a)?a.default:a;o.mods[e]=a,o.components[e]=s;let c=(s.__vccOpts||s)[t];return c&&ug(c,n,r,o,e,i)()}))}}return a}function fg(e,t){let n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){let a=t.matched[o];a&&(e.matched.find(e=>jh(e,a))?r.push(a):n.push(a));let s=e.matched[o];s&&(t.matched.find(e=>jh(e,s))||i.push(s))}return[n,r,i]}var pg=()=>location.protocol+`//`+location.host;function mg(e,t){let{pathname:n,search:r,hash:i}=t,a=e.indexOf(`#`);if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return n[0]!==`/`&&(n=`/`+n),kh(n,``)}return kh(n,e)+r+i}function hg(e,t,n,r){let i=[],a=[],o=null,s=({state:a})=>{let s=mg(e,location),c=n.value,l=t.value,u=0;if(a){if(n.value=s,t.value=a,o&&o===c){o=null;return}u=l?a.position-l.position:0}else r(s);i.forEach(e=>{e(n.value,c,{delta:u,type:Lh.pop,direction:u?u>0?Rh.forward:Rh.back:Rh.unknown})})};function c(){o=n.value}function l(e){i.push(e);let t=()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function u(){if(document.visibilityState===`hidden`){let{history:e}=window;if(!e.state)return;e.replaceState(B({},e.state,{scroll:Uh()}),``)}}function d(){for(let e of a)e();a=[],window.removeEventListener(`popstate`,s),window.removeEventListener(`pagehide`,u),document.removeEventListener(`visibilitychange`,u)}return window.addEventListener(`popstate`,s),window.addEventListener(`pagehide`,u),document.addEventListener(`visibilitychange`,u),{pauseListeners:c,listen:l,destroy:d}}function gg(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Uh():null}}function _g(e){let{history:t,location:n}=window,r={value:mg(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(r,a,o){let s=e.indexOf(`#`),c=s>-1?(n.host&&document.querySelector(`base`)?e:e.slice(s))+r:pg()+e+r;try{t[o?`replaceState`:`pushState`](a,``,c),i.value=a}catch(e){console.error(e),n[o?`replace`:`assign`](c)}}function o(e,n){a(e,B({},t.state,gg(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}function s(e,n){let o=B({},i.value,t.state,{forward:e,scroll:Uh()});a(o.current,o,!0),a(e,B({},gg(r.value,e,null),{position:o.position+1},n),!1),r.value=e}return{location:r,state:i,push:s,replace:o}}function vg(e){e=zh(e);let t=_g(e),n=hg(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}let i=B({location:``,base:e,go:r,createHref:Vh.bind(null,e)},t,n);return Object.defineProperty(i,`location`,{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,`state`,{enumerable:!0,get:()=>t.state.value}),i}var yg=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.Group=2]=`Group`,e}({}),bg=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.ParamRegExp=2]=`ParamRegExp`,e[e.ParamRegExpEnd=3]=`ParamRegExpEnd`,e[e.EscapeNext=4]=`EscapeNext`,e}(bg||{}),xg={type:yg.Static,value:``},Sg=/[a-zA-Z0-9_]/;function Cg(e){if(!e)return[[]];if(e===`/`)return[[xg]];if(!e.startsWith(`/`))throw Error(`Invalid path "${e}"`);function t(e){throw Error(`ERR (${n})/"${l}": ${e}`)}let n=bg.Static,r=n,i=[],a;function o(){a&&i.push(a),a=[]}let s=0,c,l=``,u=``;function d(){l&&=(n===bg.Static?a.push({type:yg.Static,value:l}):n===bg.Param||n===bg.ParamRegExp||n===bg.ParamRegExpEnd?(a.length>1&&(c===`*`||c===`+`)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:yg.Param,value:l,regexp:u,repeatable:c===`*`||c===`+`,optional:c===`*`||c===`?`})):t(`Invalid state to consume buffer`),``)}function f(){l+=c}for(;s<e.length;){if(c=e[s++],c===`\\`&&n!==bg.ParamRegExp){r=n,n=bg.EscapeNext;continue}switch(n){case bg.Static:c===`/`?(l&&d(),o()):c===`:`?(d(),n=bg.Param):f();break;case bg.EscapeNext:f(),n=r;break;case bg.Param:c===`(`?n=bg.ParamRegExp:Sg.test(c)?f():(d(),n=bg.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--);break;case bg.ParamRegExp:c===`)`?u[u.length-1]==`\\`?u=u.slice(0,-1)+c:n=bg.ParamRegExpEnd:u+=c;break;case bg.ParamRegExpEnd:d(),n=bg.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--,u=``;break;default:t(`Unknown state`);break}}return n===bg.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),i}var wg=`[^/]+?`,Tg={sensitive:!1,strict:!1,start:!0,end:!0},Eg=function(e){return e[e._multiplier=10]=`_multiplier`,e[e.Root=90]=`Root`,e[e.Segment=40]=`Segment`,e[e.SubSegment=30]=`SubSegment`,e[e.Static=40]=`Static`,e[e.Dynamic=20]=`Dynamic`,e[e.BonusCustomRegExp=10]=`BonusCustomRegExp`,e[e.BonusWildcard=-50]=`BonusWildcard`,e[e.BonusRepeatable=-20]=`BonusRepeatable`,e[e.BonusOptional=-8]=`BonusOptional`,e[e.BonusStrict=.7000000000000001]=`BonusStrict`,e[e.BonusCaseSensitive=.25]=`BonusCaseSensitive`,e}(Eg||{}),Dg=/[.+*?^${}()[\]/\\]/g;function Og(e,t){let n=B({},Tg,t),r=[],i=n.start?`^`:``,a=[];for(let t of e){let e=t.length?[]:[Eg.Root];n.strict&&!t.length&&(i+=`/`);for(let r=0;r<t.length;r++){let o=t[r],s=Eg.Segment+(n.sensitive?Eg.BonusCaseSensitive:0);if(o.type===yg.Static)r||(i+=`/`),i+=o.value.replace(Dg,`\\$&`),s+=Eg.Static;else if(o.type===yg.Param){let{value:e,repeatable:n,optional:c,regexp:l}=o;a.push({name:e,repeatable:n,optional:c});let u=l||wg;if(u!==wg){s+=Eg.BonusCustomRegExp;try{`${u}`}catch(t){throw Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(d=c&&t.length<2?`(?:/${d})`:`/`+d),c&&(d+=`?`),i+=d,s+=Eg.Dynamic,c&&(s+=Eg.BonusOptional),n&&(s+=Eg.BonusRepeatable),u===`.*`&&(s+=Eg.BonusWildcard)}e.push(s)}r.push(e)}if(n.strict&&n.end){let e=r.length-1;r[e][r[e].length-1]+=Eg.BonusStrict}n.strict||(i+=`/?`),n.end?i+=`$`:n.strict&&!i.endsWith(`/`)&&(i+=`(?:/|$)`);let o=new RegExp(i,n.sensitive?``:`i`);function s(e){let t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){let r=t[e]||``,i=a[e-1];n[i.name]=r&&i.repeatable?r.split(`/`):r}return n}function c(t){let n=``,r=!1;for(let i of e){(!r||!n.endsWith(`/`))&&(n+=`/`),r=!1;for(let e of i)if(e.type===yg.Static)n+=e.value;else if(e.type===yg.Param){let{value:a,repeatable:o,optional:s}=e,c=a in t?t[a]:``;if(nh(c)&&!o)throw Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);let l=nh(c)?c.join(`/`):c;if(!l)if(s)i.length<2&&(n.endsWith(`/`)?n=n.slice(0,-1):r=!0);else throw Error(`Missing required param "${a}"`);n+=l}}return n||`/`}return{re:o,score:r,keys:a,parse:s,stringify:c}}function kg(e,t){let n=0;for(;n<e.length&&n<t.length;){let r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Eg.Static+Eg.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Eg.Static+Eg.Segment?1:-1:0}function Ag(e,t){let n=0,r=e.score,i=t.score;for(;n<r.length&&n<i.length;){let e=kg(r[n],i[n]);if(e)return e;n++}if(Math.abs(i.length-r.length)===1){if(jg(r))return 1;if(jg(i))return-1}return i.length-r.length}function jg(e){let t=e[e.length-1];return e.length>0&&t[t.length-1]<0}var Mg={strict:!1,end:!0,sensitive:!1};function Ng(e,t,n){let r=B(Og(Cg(e.path),n),{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Pg(e,t){let n=[],r=new Map;t=rh(Mg,t);function i(e){return r.get(e)}function a(e,n,r){let i=!r,s=Ig(e);s.aliasOf=r&&r.record;let l=rh(t,e),u=[s];if(`alias`in e){let t=typeof e.alias==`string`?[e.alias]:e.alias;for(let e of t)u.push(Ig(B({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let d,f;for(let t of u){let{path:u}=t;if(n&&u[0]!==`/`){let e=n.record.path,r=e[e.length-1]===`/`?``:`/`;t.path=n.record.path+(u&&r+u)}if(d=Ng(t,n,l),r?r.alias.push(d):(f||=d,f!==d&&f.alias.push(d),i&&e.name&&!Rg(d)&&o(e.name)),Hg(d)&&c(d),s.children){let e=s.children;for(let t=0;t<e.length;t++)a(e[t],d,r&&r.children[t])}r||=d}return f?()=>{o(f)}:th}function o(e){if(Xh(e)){let t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(){return n}function c(e){let t=Bg(e,n);n.splice(t,0,e),e.record.name&&!Rg(e)&&r.set(e.record.name,e)}function l(e,t){let i,a={},o,s;if(`name`in e&&e.name){if(i=r.get(e.name),!i)throw $h(Zh.MATCHER_NOT_FOUND,{location:e});s=i.record.name,a=B(Fg(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&Fg(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(e.path!=null)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw $h(Zh.MATCHER_NOT_FOUND,{location:e,currentLocation:t});s=i.record.name,a=B({},t.params,e.params),o=i.stringify(a)}let c=[],l=i;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:c,meta:zg(c)}}e.forEach(e=>a(e));function u(){n.length=0,r.clear()}return{addRoute:a,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:i}}function Fg(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function Ig(e){let t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Lg(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:`components`in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,`mods`,{value:{}}),t}function Lg(e){let t={},n=e.props||!1;if(`component`in e)t.default=n;else for(let r in e.components)t[r]=typeof n==`object`?n[r]:n;return t}function Rg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zg(e){return e.reduce((e,t)=>B(e,t.meta),{})}function Bg(e,t){let n=0,r=t.length;for(;n!==r;){let i=n+r>>1;Ag(e,t[i])<0?r=i:n=i+1}let i=Vg(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Vg(e){let t=e;for(;t=t.parent;)if(Hg(t)&&Ag(e,t)===0)return t}function Hg({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ug(e){let t=Bn(og),n=Bn(sg),r=ja(()=>{let n=rn(e.to);return t.resolve(n)}),i=ja(()=>{let{matched:e}=r.value,{length:t}=e,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;let o=a.findIndex(jh.bind(null,i));if(o>-1)return o;let s=Jg(e[t-2]);return t>1&&Jg(i)===s&&a[a.length-1].path!==s?a.findIndex(jh.bind(null,e[t-2])):o}),a=ja(()=>i.value>-1&&qg(n.params,r.value.params)),o=ja(()=>i.value>-1&&i.value===n.matched.length-1&&Mh(n.params,r.value.params));function s(n={}){if(Kg(n)){let n=t[rn(e.replace)?`replace`:`push`](rn(e.to)).catch(th);return e.viewTransition&&typeof document<`u`&&`startViewTransition`in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}return{route:r,href:ja(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function Wg(e){return e.length===1?e[0]:e}var Gg=Zn({name:`RouterLink`,compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:`page`},viewTransition:Boolean},useLink:Ug,setup(e,{slots:t}){let n=Wt(Ug(e)),{options:r}=Bn(og),i=ja(()=>({[Yg(e.activeClass,r.linkActiveClass,`router-link-active`)]:n.isActive,[Yg(e.exactActiveClass,r.linkExactActiveClass,`router-link-exact-active`)]:n.isExactActive}));return()=>{let r=t.default&&Wg(t.default(n));return e.custom?r:Ma(`a`,{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function Kg(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){let t=e.currentTarget.getAttribute(`target`);if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function qg(e,t){for(let n in t){let r=t[n],i=e[n];if(typeof r==`string`){if(r!==i)return!1}else if(!nh(i)||i.length!==r.length||r.some((e,t)=>e.valueOf()!==i[t].valueOf()))return!1}return!0}function Jg(e){return e?e.aliasOf?e.aliasOf.path:e.path:``}var Yg=(e,t,n)=>e??t??n,Xg=Zn({name:`RouterView`,inheritAttrs:!1,props:{name:{type:String,default:`default`},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){let r=Bn(cg),i=ja(()=>e.route||r.value),a=Bn(ag,0),o=ja(()=>{let e=rn(a),{matched:t}=i.value,n;for(;(n=t[e])&&!n.components;)e++;return e}),s=ja(()=>i.value.matched[o.value]);zn(ag,ja(()=>o.value+1)),zn(ig,s),zn(cg,i);let c=O();return Un(()=>[c.value,s.value,e.name],([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),e&&t&&(!i||!jh(t,i)||!r)&&(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:`post`}),()=>{let r=i.value,a=e.name,o=s.value,l=o&&o.components[a];if(!l)return Zg(n.default,{Component:l,route:r});let u=o.props[a],d=Ma(l,B({},u?u===!0?r.params:typeof u==`function`?u(r):u:null,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[a]=null)},ref:c}));return Zg(n.default,{Component:d,route:r})||d}}});function Zg(e,t){if(!e)return null;let n=e(t);return n.length===1?n[0]:n}var Qg=Xg;function $g(e){let t=Pg(e.routes,e),n=e.parseQuery||tg,r=e.stringifyQuery||ng,i=e.history,a=lg(),o=lg(),s=lg(),c=en(Ih),l=Ih;Zm&&e.scrollBehavior&&`scrollRestoration`in history&&(history.scrollRestoration=`manual`);let u=eh.bind(null,e=>``+e),d=eh.bind(null,Ch),f=eh.bind(null,wh);function p(e,n){let r,i;return Xh(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function m(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function h(){return t.getRoutes().map(e=>e.record)}function g(e){return!!t.getRecordMatcher(e)}function _(e,a){if(a=B({},a||c.value),typeof e==`string`){let r=Dh(n,e,a.path),o=t.resolve({path:r.path},a),s=i.createHref(r.fullPath);return B(r,o,{params:f(o.params),hash:wh(r.hash),redirectedFrom:void 0,href:s})}let o;if(e.path!=null)o=B({},e,{path:Dh(n,e.path,a.path).path});else{let t=B({},e.params);for(let e in t)t[e]??delete t[e];o=B({},e,{params:d(t)}),a.params=d(a.params)}let s=t.resolve(o,a),l=e.hash||``;s.params=u(f(s.params));let p=Oh(r,B({},e,{hash:yh(l),path:s.path})),m=i.createHref(p);return B({fullPath:p,hash:l,query:r===ng?rg(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function v(e){return typeof e==`string`?Dh(n,e,c.value.path):B({},e)}function y(e,t){if(l!==e)return $h(Zh.NAVIGATION_CANCELLED,{from:t,to:e})}function b(e){return S(e)}function x(e){return b(B(v(e),{replace:!0}))}function ee(e,t){let n=e.matched[e.matched.length-1];if(n&&n.redirect){let{redirect:r}=n,i=typeof r==`function`?r(e,t):r;return typeof i==`string`&&(i=i.includes(`?`)||i.includes(`#`)?i=v(i):{path:i},i.params={}),B({query:e.query,hash:e.hash,params:i.path==null?e.params:{}},i)}}function S(e,t){let n=l=_(e),i=c.value,a=e.state,o=e.force,s=e.replace===!0,u=ee(n,i);if(u)return S(B(v(u),{state:typeof u==`object`?B({},a,u.state):a,force:o,replace:s}),t||n);let d=n;d.redirectedFrom=t;let f;return!o&&Ah(r,i,n)&&(f=$h(Zh.NAVIGATION_DUPLICATED,{to:d,from:i}),me(i,i,!0,!1)),(f?Promise.resolve(f):re(d,i)).catch(e=>eg(e)?eg(e,Zh.NAVIGATION_GUARD_REDIRECT)?e:pe(e):de(e,d,i)).then(e=>{if(e){if(eg(e,Zh.NAVIGATION_GUARD_REDIRECT))return S(B({replace:s},v(e.to),{state:typeof e.to==`object`?B({},a,e.to.state):a,force:o}),t||d)}else e=ae(d,i,!0,s,a);return ie(d,i,e),e})}function te(e,t){let n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function ne(e){let t=_e.values().next().value;return t&&typeof t.runWithContext==`function`?t.runWithContext(e):e()}function re(e,t){let n,[r,i,s]=fg(e,t);n=dg(r.reverse(),`beforeRouteLeave`,e,t);for(let i of r)i.leaveGuards.forEach(r=>{n.push(ug(r,e,t))});let c=te.bind(null,e,t);return n.push(c),ye(n).then(()=>{n=[];for(let r of a.list())n.push(ug(r,e,t));return n.push(c),ye(n)}).then(()=>{n=dg(i,`beforeRouteUpdate`,e,t);for(let r of i)r.updateGuards.forEach(r=>{n.push(ug(r,e,t))});return n.push(c),ye(n)}).then(()=>{n=[];for(let r of s)if(r.beforeEnter)if(nh(r.beforeEnter))for(let i of r.beforeEnter)n.push(ug(i,e,t));else n.push(ug(r.beforeEnter,e,t));return n.push(c),ye(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=dg(s,`beforeRouteEnter`,e,t,ne),n.push(c),ye(n))).then(()=>{n=[];for(let r of o.list())n.push(ug(r,e,t));return n.push(c),ye(n)}).catch(e=>eg(e,Zh.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function ie(e,t,n){s.list().forEach(r=>ne(()=>r(e,t,n)))}function ae(e,t,n,r,a){let o=y(e,t);if(o)return o;let s=t===Ih,l=Zm?history.state:{};n&&(r||s?i.replace(e.fullPath,B({scroll:s&&l&&l.scroll},a)):i.push(e.fullPath,a)),c.value=e,me(e,t,n,s),pe()}let oe;function se(){oe||=i.listen((e,t,n)=>{if(!ve.listening)return;let r=_(e),a=ee(r,ve.currentRoute.value);if(a){S(B(a,{replace:!0,force:!0}),r).catch(th);return}l=r;let o=c.value;Zm&&qh(Gh(o.fullPath,n.delta),Uh()),re(r,o).catch(e=>eg(e,Zh.NAVIGATION_ABORTED|Zh.NAVIGATION_CANCELLED)?e:eg(e,Zh.NAVIGATION_GUARD_REDIRECT)?(S(B(v(e.to),{force:!0}),r).then(e=>{eg(e,Zh.NAVIGATION_ABORTED|Zh.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===Lh.pop&&i.go(-1,!1)}).catch(th),Promise.reject()):(n.delta&&i.go(-n.delta,!1),de(e,r,o))).then(e=>{e||=ae(r,o,!1),e&&(n.delta&&!eg(e,Zh.NAVIGATION_CANCELLED)?i.go(-n.delta,!1):n.type===Lh.pop&&eg(e,Zh.NAVIGATION_ABORTED|Zh.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),ie(r,o,e)}).catch(th)})}let ce=lg(),le=lg(),ue;function de(e,t,n){pe(e);let r=le.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function fe(){return ue&&c.value!==Ih?Promise.resolve():new Promise((e,t)=>{ce.add([e,t])})}function pe(e){return ue||(ue=!e,se(),ce.list().forEach(([t,n])=>e?n(e):t()),ce.reset()),e}function me(t,n,r,i){let{scrollBehavior:a}=e;if(!Zm||!a)return Promise.resolve();let o=!r&&Jh(Gh(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Tn().then(()=>a(t,n,o)).then(e=>e&&Wh(e)).catch(e=>de(e,t,n))}let he=e=>i.go(e),ge,_e=new Set,ve={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:h,resolve:_,options:e,push:b,replace:x,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:le.add,isReady:fe,install(e){e.component(`RouterLink`,Gg),e.component(`RouterView`,Qg),e.config.globalProperties.$router=ve,Object.defineProperty(e.config.globalProperties,`$route`,{enumerable:!0,get:()=>rn(c)}),Zm&&!ge&&c.value===Ih&&(ge=!0,b(i.location).catch(e=>{}));let t={};for(let e in Ih)Object.defineProperty(t,e,{get:()=>c.value[e],enumerable:!0});e.provide(og,ve),e.provide(sg,T(t)),e.provide(cg,c);let n=e.unmount;_e.add(e),e.unmount=function(){_e.delete(e),_e.size<1&&(l=Ih,oe&&oe(),oe=null,c.value=Ih,ge=!1,ue=!1),n()}}};function ye(e){return e.reduce((e,t)=>e.then(()=>ne(t)),Promise.resolve())}return ve}function e_(){return Bn(og)}var t_=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},n_={},r_={id:`app`},i_={class:`hero`},a_={class:`container`},o_={class:`buttons`},s_={class:`cta`},c_={class:`container`};function l_(e,t){let n=xr(`router-link`),r=xr(`v`);return j(),M(`div`,r_,[N(`section`,i_,[N(`div`,a_,[t[2]||=N(`h1`,null,`Professional Home Healthcare, Delivered with care`,-1),t[3]||=N(`p`,null,`We connect families and individuals with licensed nurses and physiotherapists for safe, reliable home care services.`,-1),N(`div`,o_,[P(n,{to:`/book`},{default:Ln(()=>[...t[0]||=[N(`button`,{class:`primary-btn`},`Book a Home Care Provider`,-1)]]),_:1}),N(`p`,null,[P(n,{to:`/providersignup`},{default:Ln(()=>[...t[1]||=[N(`button`,{class:`primary-btn`},`Join as a Healthcare Provider`,-1)]]),_:1})])]),t[4]||=N(`img`,{src:`https://via.placeholder.com/600x400`,alt:`Healthcare at Home`},null,-1)])]),t[9]||=na(`<section class="how-it-works"><div class="container"><h2>How It Works</h2><div class="steps"><div class="step"><div class="icon"></div><h3>Request A Service</h3><p>Choose the care you need from our list of services. Write your location and preferred date and time</p></div><div class="step"><div class="icon"></div><h3>Get Matched</h3><p>We connect you with nearby, verified healthcare providers who are available</p></div><div class="step"><div class="icon"></div><h3>Confirm And Pay</h3><p>Securely make payment through our platform. Funds are held safely until service is completed</p></div><div class="step"><div class="icon"></div><h3>Receive Care at Home</h3><p>A licensed professional visits your home and delivers the agreed service.</p></div><div class="step"><div class="icon"></div><h3>Complete And Review</h3><p>Confirm service completion and leave a review to help others.</p></div></div></div></section><section class="services"><div class="container"><h2>Our Services</h2><div class="cards"><div class="card"><div class="icon"></div><h3>Wound Care</h3></div><div class="card"><div class="icon"></div><h3>Injections &amp; Drips</h3></div><div class="card"><div class="icon"></div><h3>Postnatal &amp; Maternal Support</h3></div><div class="card"><div class="icon"></div><h3>Elderly Care</h3></div><div class="card"><div class="icon"></div><h3>Physiotherapy &amp; Post Stroke Rehabilitation Support</h3></div><div class="card"><div class="icon"></div><h3>Home Monitoring &amp; Follow-up</h3></div></div></div></section><section class="why-choose-us"><div class="container"><h2>Why Choose Us</h2><div class="cards"><div class="card"><div class="icon"></div><h3>Certified Staff</h3><p>All our nurses and physiotherapists are licensed and experienced.</p></div><div class="card"><div class="icon"></div><h3>Flexible Scheduling</h3><p>Book visits at times that suit you best.</p></div><div class="card"><div class="icon"></div><h3>Patient-First Care</h3><p>Your health and comfort are our top priority.</p></div><div class="card"><div class="icon"></div><h3>Trusted Reviews</h3><p>Thousands of patients trust us for home healthcare.</p></div></div></div></section>`,3),N(`section`,s_,[N(`div`,c_,[t[7]||=N(`h2`,null,`Book Your Home Visit Today`,-1),t[8]||=N(`p`,null,`Get professional healthcare from the comfort of your home.`,-1),P(r,null,{default:Ln(()=>[...t[5]||=[F(`Medical Disclaimer: We facilitate connections between clients and licensed healthcare providers. We do not replace hospitals, emergency services or medical diagnosis.`,-1)]]),_:1}),N(`p`,null,[P(n,{to:`/book`},{default:Ln(()=>[...t[6]||=[N(`button`,{class:`primary-btn`},`Book Now`,-1)]]),_:1})])])])])}var u_=t_(n_,[[`render`,l_]]),d_={class:`booking-wrapper`},f_={key:0},p_={key:0},m_={key:1},h_={key:0},g_={class:`checkbox`},__={class:`checkbox`},v_={__name:`BookingForm`,setup(e){let t=Wt({clientName:``,clientPhone:``,clientEmail:``,relationship:``,patientName:``,patientAge:``,patientGender:``,healthConcern:``,doctorCare:`No`,doctorInstructions:``,services:[],careDescription:``,duration:``,address:``,state:``,accessible:`Yes`,locationNotes:``,date:``,time:`Morning`,urgent:`No`,providerGender:`No Preference`,usedBefore:`No`,sameProvider:``,emergencyName:``,emergencyPhone:``,consent:!1,paymentAgreement:!1});function n(){console.log(`Booking submitted:`,t),alert(`Booking request submitted successfully.`)}return(e,r)=>(j(),M(`div`,d_,[r[81]||=N(`h1`,{class:`title`},`Client Booking Form`,-1),r[82]||=N(`p`,{class:`subtitle`},`(Home Healthcare Service Request)`,-1),N(`form`,{onSubmit:Mo(n,[`prevent`])},[N(`section`,null,[r[34]||=N(`h2`,null,`Client Information`,-1),N(`label`,null,[r[29]||=F(` Full Name `,-1),A(N(`input`,{"onUpdate:modelValue":r[0]||=e=>t.clientName=e,required:``},null,512),[[I,t.clientName]])]),N(`label`,null,[r[30]||=F(` Phone Number `,-1),A(N(`input`,{"onUpdate:modelValue":r[1]||=e=>t.clientPhone=e,required:``},null,512),[[I,t.clientPhone]])]),N(`label`,null,[r[31]||=F(` Email Address (optional) `,-1),A(N(`input`,{type:`email`,"onUpdate:modelValue":r[2]||=e=>t.clientEmail=e},null,512),[[I,t.clientEmail]])]),N(`label`,null,[r[33]||=F(` Relationship to Patient `,-1),A(N(`select`,{"onUpdate:modelValue":r[3]||=e=>t.relationship=e,required:``},[...r[32]||=[N(`option`,{value:``},`Select`,-1),N(`option`,null,`Self`,-1),N(`option`,null,`Parent`,-1),N(`option`,null,`Child`,-1),N(`option`,null,`Spouse`,-1),N(`option`,null,`Other`,-1)]],512),[[Eo,t.relationship]])])]),N(`section`,null,[r[43]||=N(`h2`,null,`Patient Details`,-1),N(`label`,null,[r[35]||=F(` Patients Full Name `,-1),A(N(`input`,{"onUpdate:modelValue":r[4]||=e=>t.patientName=e,required:``},null,512),[[I,t.patientName]])]),N(`label`,null,[r[36]||=F(` Patients Age `,-1),A(N(`input`,{type:`number`,"onUpdate:modelValue":r[5]||=e=>t.patientAge=e,required:``},null,512),[[I,t.patientAge]])]),N(`label`,null,[r[38]||=F(` Patients Gender `,-1),A(N(`select`,{"onUpdate:modelValue":r[6]||=e=>t.patientGender=e},[...r[37]||=[N(`option`,null,`Male`,-1),N(`option`,null,`Female`,-1),N(`option`,null,`Prefer not to say`,-1)]],512),[[Eo,t.patientGender]])]),N(`label`,null,[r[39]||=F(` Primary Health Concern `,-1),A(N(`textarea`,{"onUpdate:modelValue":r[7]||=e=>t.healthConcern=e,required:``},null,512),[[I,t.healthConcern]])]),N(`label`,null,[r[41]||=F(` Is the patient currently under a doctors care? `,-1),A(N(`select`,{"onUpdate:modelValue":r[8]||=e=>t.doctorCare=e},[...r[40]||=[N(`option`,null,`No`,-1),N(`option`,null,`Yes`,-1)]],512),[[Eo,t.doctorCare]])]),t.doctorCare===`Yes`?(j(),M(`label`,f_,[r[42]||=F(` Relevant Instructions (optional) `,-1),A(N(`textarea`,{"onUpdate:modelValue":r[9]||=e=>t.doctorInstructions=e},null,512),[[I,t.doctorInstructions]])])):ra(``,!0)]),N(`section`,null,[r[53]||=N(`h2`,null,`Service Request`,-1),N(`label`,null,[r[45]||=F(` Type of Care Required `,-1),A(N(`select`,{"onUpdate:modelValue":r[10]||=e=>t.careCategory=e,required:``},[...r[44]||=[N(`option`,{value:``},`Select`,-1),N(`option`,{value:`nursing`},`Nursing Care`,-1),N(`option`,{value:`physio`},`Physiotherapist`,-1)]],512),[[Eo,t.careCategory]])]),t.careCategory===`nursing`?(j(),M(`label`,p_,[r[47]||=F(` Nursing Care Service `,-1),A(N(`select`,{"onUpdate:modelValue":r[11]||=e=>t.serviceType=e,required:``},[...r[46]||=[N(`option`,{value:``},`Select`,-1),N(`option`,null,`Wound Care`,-1),N(`option`,null,`Injection & Drip`,-1),N(`option`,null,`Elderly Care`,-1)]],512),[[Eo,t.serviceType]])])):ra(``,!0),t.careCategory===`physio`?(j(),M(`label`,m_,[r[49]||=F(` Physiotherapy Service `,-1),A(N(`select`,{"onUpdate:modelValue":r[12]||=e=>t.serviceType=e,required:``},[...r[48]||=[N(`option`,{value:``},`Select`,-1),N(`option`,null,`Massage`,-1)]],512),[[Eo,t.serviceType]])])):ra(``,!0),N(`label`,null,[r[50]||=F(` Describe the Care Needed `,-1),A(N(`textarea`,{"onUpdate:modelValue":r[13]||=e=>t.careDescription=e,required:``},null,512),[[I,t.careDescription]])]),N(`label`,null,[r[52]||=F(` Expected Duration of Visit `,-1),A(N(`select`,{"onUpdate:modelValue":r[14]||=e=>t.duration=e,required:``},[...r[51]||=[N(`option`,null,`1 Hour`,-1),N(`option`,null,`23 Hours`,-1),N(`option`,null,`Half Day`,-1),N(`option`,null,`Full Day`,-1),N(`option`,null,`Ongoing Care`,-1)]],512),[[Eo,t.duration]])])]),N(`section`,null,[r[59]||=N(`h2`,null,`Location Details`,-1),N(`label`,null,[r[54]||=F(` Service Address `,-1),A(N(`textarea`,{"onUpdate:modelValue":r[15]||=e=>t.address=e,required:``},null,512),[[I,t.address]])]),N(`label`,null,[r[55]||=F(` State `,-1),A(N(`input`,{"onUpdate:modelValue":r[16]||=e=>t.state=e,required:``},null,512),[[I,t.state]])]),N(`label`,null,[r[57]||=F(` Is the location easily accessible? `,-1),A(N(`select`,{"onUpdate:modelValue":r[17]||=e=>t.accessible=e},[...r[56]||=[N(`option`,null,`Yes`,-1),N(`option`,null,`No`,-1)]],512),[[Eo,t.accessible]])]),N(`label`,null,[r[58]||=F(` Special Directions or Notes (optional) `,-1),A(N(`textarea`,{"onUpdate:modelValue":r[18]||=e=>t.locationNotes=e},null,512),[[I,t.locationNotes]])])]),N(`section`,null,[r[65]||=N(`h2`,null,`Scheduling`,-1),N(`label`,null,[r[60]||=F(` Preferred Date `,-1),A(N(`input`,{type:`date`,"onUpdate:modelValue":r[19]||=e=>t.date=e,required:``},null,512),[[I,t.date]])]),N(`label`,null,[r[62]||=F(` Preferred Time `,-1),A(N(`select`,{"onUpdate:modelValue":r[20]||=e=>t.time=e},[...r[61]||=[N(`option`,null,`Morning`,-1),N(`option`,null,`Afternoon`,-1),N(`option`,null,`Evening`,-1)]],512),[[Eo,t.time]])]),N(`label`,null,[r[64]||=F(` Is this an urgent request? `,-1),A(N(`select`,{"onUpdate:modelValue":r[21]||=e=>t.urgent=e},[...r[63]||=[N(`option`,null,`No`,-1),N(`option`,null,`Yes`,-1)]],512),[[Eo,t.urgent]])])]),N(`section`,null,[r[72]||=N(`h2`,null,`Provider Preference (Optional)`,-1),N(`label`,null,[r[67]||=F(` Preferred Provider Gender `,-1),A(N(`select`,{"onUpdate:modelValue":r[22]||=e=>t.providerGender=e},[...r[66]||=[N(`option`,null,`No Preference`,-1),N(`option`,null,`Male`,-1),N(`option`,null,`Female`,-1)]],512),[[Eo,t.providerGender]])]),N(`label`,null,[r[69]||=F(` Have you used our service before? `,-1),A(N(`select`,{"onUpdate:modelValue":r[23]||=e=>t.usedBefore=e},[...r[68]||=[N(`option`,null,`No`,-1),N(`option`,null,`Yes`,-1)]],512),[[Eo,t.usedBefore]])]),t.usedBefore===`Yes`?(j(),M(`label`,h_,[r[71]||=F(` Would you like the same provider again? `,-1),A(N(`select`,{"onUpdate:modelValue":r[24]||=e=>t.sameProvider=e},[...r[70]||=[N(`option`,null,`Yes`,-1),N(`option`,null,`No`,-1)]],512),[[Eo,t.sameProvider]])])):ra(``,!0)]),N(`section`,null,[r[76]||=N(`h2`,null,`Safety & Consent`,-1),N(`label`,null,[r[73]||=F(` Emergency Contact Name `,-1),A(N(`input`,{"onUpdate:modelValue":r[25]||=e=>t.emergencyName=e,required:``},null,512),[[I,t.emergencyName]])]),N(`label`,null,[r[74]||=F(` Emergency Contact Phone Number `,-1),A(N(`input`,{"onUpdate:modelValue":r[26]||=e=>t.emergencyPhone=e,required:``},null,512),[[I,t.emergencyPhone]])]),N(`label`,g_,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":r[27]||=e=>t.consent=e,required:``},null,512),[[Co,t.consent]]),r[75]||=F(` I confirm that the information provided is accurate and understand this service does not replace emergency care. `,-1)])]),N(`section`,null,[r[78]||=N(`h2`,null,`Payment Acknowledgement`,-1),r[79]||=N(`p`,{class:`notice`},` Payment is required to confirm this booking. Funds are held securely and released after service completion. `,-1),N(`label`,__,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":r[28]||=e=>t.paymentAgreement=e,required:``},null,512),[[Co,t.paymentAgreement]]),r[77]||=F(` I agree to the payment and cancellation terms. `,-1)])]),r[80]||=N(`button`,{class:`submit-btn`},`Request Care`,-1)],32)]))}},y_=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},b_={},x_,S_;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=ee(n,1),a=ee(r,1);for(r=ee(r,2),n=ee(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=ee(r,1),n=ee(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function ee(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,S_=b_.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,x_=b_.Integer=o}).apply(y_===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:y_);var C_=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},w_={},T_,E_,D_,O_,k_,A_,j_,M_;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof C_==`object`&&C_];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=S;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,ee=!1,S=new v,te=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(ne)}};function ne(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}ee=!1}function re(){this.u=this.u,this.C=this.C}re.prototype.u=!1,re.prototype.dispose=function(){this.u||(this.u=!0,this.N())},re.prototype[Symbol.dispose]=function(){this.dispose()},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function oe(e){return/^[\s\xa0]*$/.test(e)}function se(e,t){ie.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(se,ie),se.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce=`closure_listenable_`+(Math.random()*1e6|0),le=0;function ue(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++le,this.da=this.fa=!1}function de(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function fe(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function pe(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function me(e){let t={};for(let n in e)t[n]=e[n];return t}let he=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function ge(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<he.length;t++)n=he[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _e(e){this.src=e,this.g={},this.h=0}_e.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=ye(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new ue(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function ve(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(de(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var be=`closure_lm_`+(Math.random()*1e6|0),xe={};function Se(e,t,n,r,i){if(r&&r.once)return Te(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)Se(e,t[a],n,r,i);return null}return n=je(n),e&&e[ce]?e.J(t,n,s(r)?!!r.capture:!!r,i):Ce(e,t,n,!1,r,i)}function Ce(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=ke(e);if(c||(e[be]=c=new _e(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=we(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ae||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Oe(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function we(){function e(n){return t.call(e.src,e.listener,n)}let t=C;return e}function Te(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)Te(e,t[a],n,r,i);return null}return n=je(n),e&&e[ce]?e.K(t,n,s(r)?!!r.capture:!!r,i):Ce(e,t,n,!0,r,i)}function Ee(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ee(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=je(n),e&&e[ce]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=ye(t,n,r,i),n>-1&&(de(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=ke(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ye(t,n,r,i)),(n=e>-1?t[e]:null)&&De(n))}function De(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[ce])ve(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Oe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ke(t))?(ve(n,e),n.h==0&&(n.src=null,t[be]=null)):de(e)}}}function Oe(e){return e in xe?xe[e]:xe[e]=`on`+e}function C(e,t){if(e.da)e=!0;else{t=new se(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&De(e),e=n.call(r,t)}return e}function ke(e){return e=e[be],e instanceof _e?e:null}var Ae=`__closure_events_fn_`+(Math.random()*1e9>>>0);function je(e){return typeof e==`function`?e:(e[Ae]||(e[Ae]=function(t){return e.handleEvent(t)}),e[Ae])}function Me(){re.call(this),this.i=new _e(this),this.M=this,this.G=null}d(Me,re),Me.prototype[ce]=!0,Me.prototype.removeEventListener=function(e,t,n,r){Ee(this,e,t,n,r)};function Ne(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new ie(t,e);else if(t instanceof ie)t.target=t.target||e;else{var i=t;t=new ie(r,e),ge(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Pe(a,r,!0,t)&&i;if(a=t.g=e,i=Pe(a,r,!0,t)&&i,i=Pe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Pe(a,r,!1,t)&&i}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)de(n[e]);delete e.g[t],e.h--}}this.G=null},Me.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Me.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Pe(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&ve(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function w(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function Fe(e){e.g=w(()=>{e.g=null,e.i&&(e.i=!1,Fe(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Ie extends re{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(e){re.call(this),this.h=e,this.g={}}d(Le,re);var Re=[];function ze(e){fe(e.g,function(e,t){this.g.hasOwnProperty(t)&&De(e)},e),e.g={}}Le.prototype.N=function(){Le.Z.N.call(this),ze(this)},Le.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Be=o.JSON.stringify,Ve=o.JSON.parse,He=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function Ue(){}function We(){}var Ge={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function Ke(){ie.call(this,`d`)}d(Ke,ie);function qe(){ie.call(this,`c`)}d(qe,ie);var Je={},Ye=null;function Xe(){return Ye||=new Me}Je.Ia=`serverreachability`;function Ze(e){ie.call(this,Je.Ia,e)}d(Ze,ie);function Qe(e){let t=Xe();Ne(t,new Ze(t))}Je.STAT_EVENT=`statevent`;function $e(e,t){ie.call(this,Je.STAT_EVENT,e),this.stat=t}d($e,ie);function et(e){let t=Xe();Ne(t,new $e(t,e))}Je.Ja=`timingevent`;function tt(e,t){ie.call(this,Je.Ja,e),this.size=t}d(tt,ie);function nt(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function rt(){this.g=!0}rt.prototype.ua=function(){this.g=!1};function it(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function at(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function ot(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+ct(e,n)+(r?` `+r:``)})}function st(e,t){e.info(function(){return`TIMEOUT: `+t})}rt.prototype.info=function(){};function ct(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Be(a)}catch{return t}}var lt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ut={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},dt;function ft(){}d(ft,Ue),ft.prototype.g=function(){return new XMLHttpRequest},dt=new ft;function pt(e){return encodeURIComponent(String(e))}function mt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ht(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gt}function gt(){this.i=null,this.g=``,this.h=!1}var _t={},vt={};function yt(e,t,n){e.M=1,e.A=Gt(Vt(t)),e.u=n,e.R=!0,bt(e,null)}function bt(e,t){e.F=Date.now(),wt(e),e.B=Vt(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),nn(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new gt,e.g=Kn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Ie(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Re[0]=i.toString()),i=Re);for(let e=0;e<i.length;e++){let a=Se(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?me(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Qe(),it(e.i,e.v,e.B,e.l,e.S,e.u)}ht.prototype.ba=function(e){e=e.target;let t=this.O;t&&wn(e)==3?t.j():this.Y(e)},ht.prototype.Y=function(e){try{if(e==this.g)a:{let s=wn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||s!=4||c==7||Qe(c==8||l<=0?3:2),Et(this);var t=this.g.ca();this.X=t;var n=xt(this);if(this.o=t==200,at(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!oe(r)){var a=r;break b}}a=null}if(e=a)ot(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,kt(this,e);else{this.o=!1,this.m=3,et(12),Ot(this),Dt(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=Ct(this,n),t==vt){s==4&&(this.m=4,et(14),e=!1),ot(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==_t){this.m=4,et(15),ot(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else ot(this.i,this.l,t,null),kt(this,t);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,et(16),e=!1),this.o=this.o&&e,!e)ot(this.i,this.l,n,`[Invalid Chunked Response]`),Ot(this),Dt(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Rn(o),o.P=!0,et(11))}}else ot(this.i,this.l,n,null),kt(this,n);s==4&&Ot(this),this.o&&!this.K&&(s==4?Vn(this.j,this):(this.o=!1,wt(this)))}else En(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,et(12)):(this.m=0,et(13)),Ot(this),Dt(this)}}}catch{}};function xt(e){if(!St(e))return e.g.la();let t=Tn(e.g);if(t===``)return``;let n=``,r=t.length,i=wn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Ot(e),Dt(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function St(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function Ct(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?vt:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1,r+n>t.length?vt:(t=t.slice(r,r+n),e.C=r+n,t)))}ht.prototype.cancel=function(){this.K=!0,Ot(this)};function wt(e){e.T=Date.now()+e.H,Tt(e,e.H)}function Tt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=nt(l(e.aa,e),t)}function Et(e){e.D&&=(o.clearTimeout(e.D),null)}ht.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(st(this.i,this.B),this.M!=2&&(Qe(),et(17)),Ot(this),this.m=2,Dt(this)):Tt(this,this.T-e)};function Dt(e){e.j.I==0||e.K||Vn(e.j,e)}function Ot(e){Et(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,ze(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function kt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||Pt(n.h,e))){if(!e.L&&Pt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)Bn(n),An(n);else break a;A(n),et(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=nt(l(n.Va,n),6e3));Nt(n.h)<=1&&n.ta&&(n.ta=void 0)}else Un(n,11)}else if((e.L||n.g==e)&&Bn(n),!oe(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Ft(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,T(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Gn(r,r.L?r.ba:null,r.W),o.L){It(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Et(s),wt(s)),r.g=o}else Ln(r);n.i.length>0&&Mn(n)}else l[0]!=`stop`&&l[0]!=`close`||Un(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Un(n,7):kn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Qe(4)}catch{}}var At=class{constructor(e,t){this.g=e,this.map=t}};function jt(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Nt(e){return e.h?1:e.g?e.g.size:0}function Pt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ft(e,t){e.g?e.g.add(t):e.h=t}function It(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}jt.prototype.cancel=function(){if(this.i=Lt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Lt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Rt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function zt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Bt(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Bt?(this.l=e.l,Ht(this,e.j),this.o=e.o,this.g=e.g,Ut(this,e.u),this.h=e.h,Wt(this,rn(e.i)),this.m=e.m):e&&(t=String(e).match(Rt))?(this.l=!1,Ht(this,t[1]||``,!0),this.o=Kt(t[2]||``),this.g=Kt(t[3]||``,!0),Ut(this,t[4]),this.h=Kt(t[5]||``,!0),Wt(this,t[6]||``,!0),this.m=Kt(t[7]||``)):(this.l=!1,this.i=new $t(null,this.l))}Bt.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(qt(t,Yt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(qt(t,Yt,!0),`@`),e.push(pt(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(qt(n,n.charAt(0)==`/`?E:Xt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,qt(n,Qt)),e.join(``)},Bt.prototype.resolve=function(e){let t=Vt(this),n=!!e.j;n?Ht(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Ut(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?Wt(t,rn(e.i)):n=!!e.m,n&&(t.m=e.m),t};function Vt(e){return new Bt(e)}function Ht(e,t,n){e.j=n?Kt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Ut(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function Wt(e,t,n){t instanceof $t?(e.i=t,on(e.i,e.l)):(n||(t=qt(t,Zt)),e.i=new $t(t,e.l))}function T(e,t,n){e.i.set(t,n)}function Gt(e){return T(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function qt(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Jt(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Yt=/[#\/\?@]/g,Xt=/[#\?:]/g,E=/[#\?]/g,Zt=/[#\?@]/g,Qt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function D(e){e.g||(e.g=new Map,e.h=0,e.i&&zt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=$t.prototype,e.add=function(e,t){D(this),this.i=null,e=an(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function O(e,t){D(e),t=an(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function en(e,t){return D(e),t=an(e,t),e.g.has(t)}e.forEach=function(e,t){D(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function tn(e,t){D(e);let n=[];if(typeof t==`string`)en(e,t)&&(n=n.concat(e.g.get(an(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return D(this),this.i=null,e=an(this,e),en(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=tn(this,e),e.length>0?String(e[0]):t):t};function nn(e,t,n){O(e,t),n.length>0&&(e.i=null,e.g.set(an(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=pt(n);n=tn(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+pt(n[t])),e.push(r)}}return this.i=e.join(`&`)};function rn(e){let t=new $t;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function on(e,t){t&&!e.j&&(D(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(O(this,t),nn(this,n,e))},e)),e.j=t}function sn(e,t){let n=new rt;if(o.Image){let r=new Image;r.onload=u(ln,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(ln,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(ln,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(ln,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function cn(e,t){let n=new rt,r=new AbortController,i=setTimeout(()=>{r.abort(),ln(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ln(n,`TestPingServer: ok`,!0,t):ln(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),ln(n,`TestPingServer: error`,!1,t)})}function ln(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function un(){this.g=new He}function dn(e){this.i=e.Sb||null,this.h=e.ab||!1}d(dn,Ue),dn.prototype.g=function(){return new fn(this.i,this.h)};function fn(e,t){Me.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(fn,Me),e=fn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,hn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mn(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;pn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function pn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):hn(this),this.readyState==3&&pn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,mn(this))},e.Na=function(e){this.g&&(this.response=e,mn(this))},e.ga=function(){this.g&&mn(this)};function mn(e){e.readyState=4,e.l=null,e.j=null,e.B=null,hn(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function hn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(fn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function gn(e){let t=``;return fe(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function _n(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=gn(n),typeof e==`string`||T(e,t,n))}function k(e){Me.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(k,Me);var vn=/^https?$/i,yn=[`POST`,`PUT`];e=k.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dt.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){bn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(yn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){bn(this,e)}};function bn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,xn(e),Cn(e)}function xn(e){e.A||(e.A=!0,Ne(e,`complete`),Ne(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Ne(this,`complete`),Ne(this,`abort`),Cn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cn(this,!0)),k.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Sn(this):this.Xa())},e.Xa=function(){Sn(this)};function Sn(e){if(e.h&&a!==void 0){if(e.v&&wn(e)==4)setTimeout(e.Ca.bind(e),0);else if(Ne(e,`readystatechange`),wn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Rt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!vn.test(t?t.toLowerCase():``)}n=r}if(n)Ne(e,`complete`),Ne(e,`success`);else{e.o=6;try{var i=wn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,xn(e)}}finally{Cn(e)}}}}function Cn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||Ne(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function wn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return wn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Ve(t)}};function Tn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function En(e){let t={};e=(e.g&&wn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(oe(e[r]))continue;var n=mt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}pe(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function Dn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function On(e){this.za=0,this.i=[],this.j=new rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dn(`baseRetryDelayMs`,5e3,e),this.Za=Dn(`retryDelaySeedMs`,1e4,e),this.Ta=Dn(`forwardChannelMaxRetries`,2,e),this.va=Dn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new jt(e&&e.concurrentRequestLimit),this.Ba=new un,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=On.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){et(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Gn(this,null,this.W),Mn(this)};function kn(e){if(jn(e),e.I==3){var t=e.V++,n=Vt(e.J);if(T(n,`SID`,e.M),T(n,`RID`,t),T(n,`TYPE`,`terminate`),Fn(e,n),t=new ht(e,e.j,t),t.M=2,t.A=Gt(Vt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Kn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),wt(t)}Wn(e)}function An(e){e.g&&=(Rn(e),e.g.cancel(),null)}function jn(e){An(e),e.v&&=(o.clearTimeout(e.v),null),Bn(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Mn(e){if(!Mt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||te(),ee||=(x(),!0),S.add(t,e),e.D=0}}function Nn(e,t){return Nt(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=nt(l(e.Ea,e,t),Hn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ht(this,this.j,e),a=this.o;if(this.U&&(a?(a=me(a),ge(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=In(this,i,t),n=Vt(this.J),T(n,`RID`,e),T(n,`CVER`,22),this.G&&T(n,`X-HTTP-Session-Id`,this.G),Fn(this,n),a&&(this.R?t=`headers=`+pt(gn(a))+`&`+t:this.u&&_n(n,this.u,a)),Ft(this.h,i),this.Ra&&T(n,`TYPE`,`init`),this.S?(T(n,`$req`,t),T(n,`SID`,`null`),i.U=!0,yt(i,n,null)):yt(i,n,t),this.I=2}}else this.I==3&&(e?Pn(this,e):this.i.length==0||Mt(this.h)||Pn(this))};function Pn(e,t){var n=t?t.l:e.V++;let r=Vt(e.J);T(r,`SID`,e.M),T(r,`RID`,n),T(r,`AID`,e.K),Fn(e,r),e.u&&e.o&&_n(r,e.u,e.o),n=new ht(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=In(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),Ft(e.h,n),yt(n,r,t)}function Fn(e,t){e.H&&fe(e.H,function(e,n){T(t,n,e)}),e.l&&fe({},function(e,n){T(t,n,e)})}function In(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Be(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||te(),ee||=(x(),!0),S.add(t,e),e.A=0}}function A(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=nt(l(e.Da,e),Hn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,zn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=nt(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,et(10),An(this),zn(this))};function Rn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function zn(e){e.g=new ht(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=Vt(e.na);T(t,`RID`,`rpc`),T(t,`SID`,e.M),T(t,`AID`,e.K),T(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&T(t,`TO`,e.ia),T(t,`TYPE`,`xmlhttp`),Fn(e,t),e.u&&e.o&&_n(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Gt(Vt(t)),n.u=null,n.R=!0,bt(n,e)}e.Va=function(){this.C!=null&&(this.C=null,An(this),A(this),et(19))};function Bn(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Vn(e,t){var n=null;if(e.g==t){Bn(e),Rn(e),e.g=null;var r=2}else if(Pt(e.h,t))n=t.G,It(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Xe(),Ne(r,new tt(r,n)),Mn(e)}else Ln(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&Nn(e,t)||r==2&&A(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Un(e,5);break;case 4:Un(e,10);break;case 3:Un(e,6);break;default:Un(e,2)}}}function Hn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function Un(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Bt(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Ht(r,`https`),Gt(r),t?sn(r.toString(),n):cn(r.toString(),n)}else et(2);e.I=0,e.l&&e.l.pa(t),Wn(e),jn(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),et(2)):(this.j.info(`Failed to ping google.com`),et(1))};function Wn(e){if(e.I=0,e.ja=[],e.l){let t=Lt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Gn(e,t,n){var r=n instanceof Bt?Vt(n):new Bt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Ut(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Bt(null);r&&Ht(e,r),t&&(e.g=t),i&&Ut(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&T(r,n,t),T(r,`VER`,e.ka),Fn(e,r),r}function Kn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new k(new dn({ab:n})):new k(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qn(){}e=qn.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Jn(){}Jn.prototype.g=function(e,t){return new Yn(e,t)};function Yn(e,t){Me.call(this),this.g=new On(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!oe(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!oe(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Qn(this)}d(Yn,Me),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){kn(this.g)},Yn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Be(e),e=n);t.i.push(new At(t.Ya++,e)),t.I==3&&Mn(t)},Yn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Yn.Z.N.call(this)};function Xn(e){Ke.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Xn,Ke);function Zn(){qe.call(this),this.status=1}d(Zn,qe);function Qn(e){this.g=e}d(Qn,qn),Qn.prototype.ra=function(){Ne(this.g,`a`)},Qn.prototype.qa=function(e){Ne(this.g,new Xn(e))},Qn.prototype.pa=function(e){Ne(this.g,new Zn)},Qn.prototype.oa=function(){Ne(this.g,`b`)},Jn.prototype.createWebChannel=Jn.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,M_=w_.createWebChannelTransport=function(){return new Jn},j_=w_.getStatEventTarget=function(){return Xe()},A_=w_.Event=Je,k_=w_.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,O_=w_.ErrorCode=lt,ut.COMPLETE=`complete`,D_=w_.EventType=ut,We.EventType=Ge,Ge.OPEN=`a`,Ge.CLOSE=`b`,Ge.ERROR=`c`,Ge.MESSAGE=`d`,Me.prototype.listen=Me.prototype.J,E_=w_.WebChannel=We,w_.FetchXmlHttpFactory=dn,k.prototype.listenOnce=k.prototype.K,k.prototype.getLastError=k.prototype.Ha,k.prototype.getLastErrorCode=k.prototype.ya,k.prototype.getStatus=k.prototype.ca,k.prototype.getResponseJson=k.prototype.La,k.prototype.getResponseText=k.prototype.la,k.prototype.send=k.prototype.ea,k.prototype.setWithCredentials=k.prototype.Fa,T_=w_.XhrIo=k}).apply(C_===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:C_);var N_=`@firebase/firestore`,P_=`4.9.3`,F_=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};F_.UNAUTHENTICATED=new F_(null),F_.GOOGLE_CREDENTIALS=new F_(`google-credentials-uid`),F_.FIRST_PARTY=new F_(`first-party-uid`),F_.MOCK_USER=new F_(`mock-user`);var I_=`12.7.0`,L_=new gc(`@firebase/firestore`);function R_(){return L_.logLevel}function V(e,...t){if(L_.logLevel<=R.DEBUG){let n=t.map(V_);L_.debug(`Firestore (${I_}): ${e}`,...n)}}function z_(e,...t){if(L_.logLevel<=R.ERROR){let n=t.map(V_);L_.error(`Firestore (${I_}): ${e}`,...n)}}function B_(e,...t){if(L_.logLevel<=R.WARN){let n=t.map(V_);L_.warn(`Firestore (${I_}): ${e}`,...n)}}function V_(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function H(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,H_(e,r,n)}function H_(e,t,n){let r=`FIRESTORE (${I_}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw z_(r),Error(r)}function U(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||H_(t,i,r)}function W(e,t){return e}var G={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},K=class extends Bs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},U_=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},W_=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},G_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(F_.UNAUTHENTICATED)))}shutdown(){}},K_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},q_=class{constructor(e){this.t=e,this.currentUser=F_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){U(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new U_;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new U_,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{V(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(V(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new U_)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(U(typeof t.accessToken==`string`,31837,{l:t}),new W_(t.accessToken,this.currentUser)):null:(V(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return U(e===null||typeof e==`string`,2055,{h:e}),new F_(e)}},J_=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=F_.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},Y_=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new J_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(F_.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},X_=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Z_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,El(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){U(this.o===void 0,3512);let n=e=>{e.error!=null&&V(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,V(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{V(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):V(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new X_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(U(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new X_(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Q_(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var $_=class{static newId(){let e=``;for(;e.length<20;){let t=Q_(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function q(e,t){return e<t?-1:e>t?1:0}function ev(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return rv(n)===rv(i)?q(n,i):rv(n)?1:-1}return q(e.length,t.length)}var tv=55296,nv=57343;function rv(e){let t=e.charCodeAt(0);return t>=tv&&t<=nv}function iv(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var av=`__name__`,ov=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&H(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&H(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return q(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):ev(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return x_.fromString(e.substring(4,e.length-2))}},sv=class e extends ov{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new K(G.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},cv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lv=class e extends ov{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return cv.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new e([av])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new K(G.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new K(G.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new K(G.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new K(G.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},J=class e{constructor(e){this.path=e}static fromPath(t){return new e(sv.fromString(t))}static fromName(t){return new e(sv.fromString(t).popFirst(5))}static empty(){return new e(sv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sv.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return sv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new sv(t.slice()))}};function uv(e,t,n){if(!n)throw new K(G.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function dv(e,t,n,r){if(!0===t&&!0===r)throw new K(G.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function fv(e){if(!J.isDocumentKey(e))throw new K(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function pv(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function mv(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:H(12329,{type:typeof e})}function hv(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(G.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=mv(e);throw new K(G.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function gv(e,t){let n={typeString:e};return t&&(n.value=t),n}function _v(e,t){if(!pv(e))throw new K(G.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new K(G.INVALID_ARGUMENT,n);return!0}var vv=-62135596800,yv=1e6,bv=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*yv))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new K(G.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<vv||e>=253402300800)throw new K(G.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yv}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_v(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-vv;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};bv._jsonSchemaVersion=`firestore/timestamp/1.0`,bv._jsonSchema={type:gv(`string`,bv._jsonSchemaVersion),seconds:gv(`number`),nanoseconds:gv(`number`)};var Y=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new bv(0,0))}static max(){return new e(new bv(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},xv=-1,Sv=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};Sv.UNKNOWN_ID=-1;function Cv(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new Tv(Y.fromTimestamp(r===1e9?new bv(n+1,0):new bv(n,r)),J.empty(),t)}function wv(e){return new Tv(e.readTime,e.key,xv)}var Tv=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(Y.min(),J.empty(),xv)}static max(){return new e(Y.max(),J.empty(),xv)}};function Ev(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=J.comparator(e.documentKey,t.documentKey),n===0?q(e.largestBatchId,t.largestBatchId):n):n}var Dv=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,Ov=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function kv(e){if(e.code!==G.FAILED_PRECONDITION||e.message!==Dv)throw e;V(`LocalStore`,`Unexpectedly lost primary lease`)}var X=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Av(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function jv(e){return e.name===`IndexedDbTransactionError`}var Mv=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Mv.ce=-1;var Nv=-1;function Pv(e){return e==null}function Fv(e){return e===0&&1/e==-1/0}function Iv(e){return typeof e==`number`&&Number.isInteger(e)&&!Fv(e)&&e<=2**53-1&&e>=-(2**53-1)}var Lv=``;function Rv(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Bv(t)),t=zv(e.get(n),t);return Bv(t)}function zv(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Lv:n+=``;break;default:n+=r}}return n}function Bv(e){return e+Lv+``}function Vv(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hv(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uv(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Wv=class e{constructor(e,t){this.comparator=e,this.root=t||Kv.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kv.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gv(this.root,e,this.comparator,!0)}},Gv=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kv=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};Kv.EMPTY=null,Kv.RED=!0,Kv.BLACK=!1,Kv.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qv=class e{constructor(e){this.comparator=e,this.data=new Wv(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Jv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Yv=class e{constructor(e){this.fields=e,e.sort(lv.comparator)}static empty(){return new e([])}unionWith(t){let n=new qv(lv.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iv(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Xv=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},Zv=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Xv(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zv.EMPTY_BYTE_STRING=new Zv(``);var Qv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $v(e){if(U(!!e,39018),typeof e==`string`){let t=0,n=Qv.exec(e);if(U(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Z(e.seconds),nanos:Z(e.nanos)}}function Z(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function ey(e){return typeof e==`string`?Zv.fromBase64String(e):Zv.fromUint8Array(e)}var ty=`server_timestamp`,ny=`__type__`,ry=`__previous_value__`,iy=`__local_write_time__`;function ay(e){return(e?.mapValue?.fields||{})[ny]?.stringValue===ty}function oy(e){let t=e.mapValue.fields[ry];return ay(t)?oy(t):t}function sy(e){let t=$v(e.mapValue.fields[iy].timestampValue);return new bv(t.seconds,t.nanos)}var cy=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},ly=`(default)`,uy=class e{constructor(e,t){this.projectId=e,this.database=t||ly}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===ly}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},dy=`__type__`,fy=`__max__`,py={mapValue:{fields:{__type__:{stringValue:fy}}}},my=`__vector__`,hy=`value`;function gy(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?ay(e)?4:My(e)?9007199254740991:Ay(e)?10:11:H(28295,{value:e})}function _y(e,t){if(e===t)return!0;let n=gy(e);if(n!==gy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sy(e).isEqual(sy(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=$v(e.timestampValue),r=$v(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ey(e.bytesValue).isEqual(ey(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Z(e.geoPointValue.latitude)===Z(t.geoPointValue.latitude)&&Z(e.geoPointValue.longitude)===Z(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return Z(e.integerValue)===Z(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=Z(e.doubleValue),r=Z(t.doubleValue);return n===r?Fv(n)===Fv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return iv(e.arrayValue.values||[],t.arrayValue.values||[],_y);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vv(n)!==Vv(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!_y(n[e],r[e])))return!1;return!0}(e,t);default:return H(52216,{left:e})}}function vy(e,t){return(e.values||[]).find((e=>_y(e,t)))!==void 0}function yy(e,t){if(e===t)return 0;let n=gy(e),r=gy(t);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=Z(e.integerValue||e.doubleValue),r=Z(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return by(e.timestampValue,t.timestampValue);case 4:return by(sy(e),sy(t));case 5:return ev(e.stringValue,t.stringValue);case 6:return function(e,t){let n=ey(e),r=ey(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=q(n[e],r[e]);if(t!==0)return t}return q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=q(Z(e.latitude),Z(t.latitude));return n===0?q(Z(e.longitude),Z(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return xy(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[hy]?.arrayValue,a=r[hy]?.arrayValue,o=q(i?.values?.length||0,a?.values?.length||0);return o===0?xy(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===py.mapValue&&t===py.mapValue)return 0;if(e===py.mapValue)return 1;if(t===py.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=ev(r[e],a[e]);if(t!==0)return t;let o=yy(n[r[e]],i[a[e]]);if(o!==0)return o}return q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw H(23264,{he:n})}}function by(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return q(e,t);let n=$v(e),r=$v(t),i=q(n.seconds,r.seconds);return i===0?q(n.nanos,r.nanos):i}function xy(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=yy(n[e],r[e]);if(t)return t}return q(n.length,r.length)}function Sy(e){return Cy(e)}function Cy(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=$v(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return ey(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return J.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=Cy(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${Cy(e.fields[i])}`;return n+`}`}(e.mapValue):H(61005,{value:e})}function wy(e){switch(gy(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=oy(e);return t?16+wy(t):16;case 5:return 2*e.stringValue.length;case 6:return ey(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+wy(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Hv(e.fields,((e,n)=>{t+=e.length+wy(n)})),t}(e.mapValue);default:throw H(13486,{value:e})}}function Ty(e){return!!e&&`integerValue`in e}function Ey(e){return!!e&&`arrayValue`in e}function Dy(e){return!!e&&`nullValue`in e}function Oy(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function ky(e){return!!e&&`mapValue`in e}function Ay(e){return(e?.mapValue?.fields||{})[dy]?.stringValue===my}function jy(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Hv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=jy(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jy(e.arrayValue.values[n]);return t}return{...e}}function My(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fy}var Ny=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ky(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jy(t)}setAll(e){let t=lv.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=jy(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());ky(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _y(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ky(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Hv(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(jy(this.value))}};function Py(e){let t=[];return Hv(e.fields,((e,n)=>{let r=new lv([e]);if(ky(n)){let e=Py(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Yv(t)}var Fy=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,Y.min(),Y.min(),Y.min(),Ny.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,Y.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,Y.min(),Y.min(),Ny.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,Y.min(),Y.min(),Ny.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ny.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ny.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},Iy=class{constructor(e,t){this.position=e,this.inclusive=t}};function Ly(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?J.comparator(J.fromName(o.referenceValue),n.key):yy(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function Ry(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_y(e.position[n],t.position[n]))return!1;return!0}var zy=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function By(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Vy=class{},Hy=class e extends Vy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Xy(t,n,r):n===`array-contains`?new eb(t,r):n===`in`?new tb(t,r):n===`not-in`?new nb(t,r):n===`array-contains-any`?new rb(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Zy(e,n):new Qy(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(yy(t,this.value)):t!==null&&gy(this.value)===gy(t)&&this.matchesComparison(yy(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Uy=class e extends Vy{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Wy(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Wy(e){return e.op===`and`}function Gy(e){return Ky(e)&&Wy(e)}function Ky(e){for(let t of e.filters)if(t instanceof Uy)return!1;return!0}function qy(e){if(e instanceof Hy)return e.field.canonicalString()+e.op.toString()+Sy(e.value);if(Gy(e))return e.filters.map((e=>qy(e))).join(`,`);{let t=e.filters.map((e=>qy(e))).join(`,`);return`${e.op}(${t})`}}function Jy(e,t){return e instanceof Hy?function(e,t){return t instanceof Hy&&e.op===t.op&&e.field.isEqual(t.field)&&_y(e.value,t.value)}(e,t):e instanceof Uy?function(e,t){return t instanceof Uy&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Jy(n,t.filters[r])),!0):!1}(e,t):void H(19439)}function Yy(e){return e instanceof Hy?function(e){return`${e.field.canonicalString()} ${e.op} ${Sy(e.value)}`}(e):e instanceof Uy?function(e){return e.op.toString()+` {`+e.getFilters().map(Yy).join(` ,`)+`}`}(e):`Filter`}var Xy=class extends Hy{constructor(e,t,n){super(e,t,n),this.key=J.fromName(n.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},Zy=class extends Hy{constructor(e,t){super(e,`in`,t),this.keys=$y(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Qy=class extends Hy{constructor(e,t){super(e,`not-in`,t),this.keys=$y(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function $y(e,t){return(t.arrayValue?.values||[]).map((e=>J.fromName(e.referenceValue)))}var eb=class extends Hy{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return Ey(t)&&vy(t.arrayValue,this.value)}},tb=class extends Hy{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&vy(this.value.arrayValue,t)}},nb=class extends Hy{constructor(e,t){super(e,`not-in`,t)}matches(e){if(vy(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vy(this.value.arrayValue,t)}},rb=class extends Hy{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>vy(this.value.arrayValue,e)))}},ib=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function ab(e,t=null,n=[],r=[],i=null,a=null,o=null){return new ib(e,t,n,r,i,a,o)}function ob(e){let t=W(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>qy(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Pv(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>Sy(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>Sy(e))).join(`,`)),t.Te=e}return t.Te}function sb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!By(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ry(e.startAt,t.startAt)&&Ry(e.endAt,t.endAt)}function cb(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var lb=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function ub(e,t,n,r,i,a,o,s){return new lb(e,t,n,r,i,a,o,s)}function db(e){return new lb(e)}function fb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function pb(e){return e.collectionGroup!==null}function mb(e){let t=W(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new qv(lv.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new zy(r,n))})),e.has(lv.keyField().canonicalString())||t.Ie.push(new zy(lv.keyField(),n))}return t.Ie}function hb(e){let t=W(e);return t.Ee||=gb(t,mb(e)),t.Ee}function gb(e,t){if(e.limitType===`F`)return ab(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new zy(e.field,t)}));let n=e.endAt?new Iy(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Iy(e.startAt.position,e.startAt.inclusive):null;return ab(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _b(e,t,n){return new lb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vb(e,t){return sb(hb(e),hb(t))&&e.limitType===t.limitType}function yb(e){return`${ob(hb(e))}|lt:${e.limitType}`}function bb(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Yy(e))).join(`, `)}]`),Pv(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>Sy(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>Sy(e))).join(`,`)),`Target(${t})`}(hb(e))}; limitType=${e.limitType})`}function xb(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?J.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of mb(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Ly(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mb(e),t)||e.endAt&&!function(e,t,n){let r=Ly(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mb(e),t))}(e,t)}function Sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cb(e){return(t,n)=>{let r=!1;for(let i of mb(e)){let e=wb(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function wb(e,t,n){let r=e.field.isKeyField()?J.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?yy(r,i):H(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return H(19790,{direction:e.dir})}}var Tb=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hv(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Uv(this.inner)}size(){return this.innerSize}},Eb=new Wv(J.comparator);function Db(){return Eb}var Ob=new Wv(J.comparator);function kb(...e){let t=Ob;for(let n of e)t=t.insert(n.key,n);return t}function Ab(e){let t=Ob;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function jb(){return Nb()}function Mb(){return Nb()}function Nb(){return new Tb((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Pb=new Wv(J.comparator),Fb=new qv(J.comparator);function Q(...e){let t=Fb;for(let n of e)t=t.add(n);return t}var Ib=new qv(q);function Lb(){return Ib}function Rb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Fv(t)?`-0`:t}}function zb(e){return{integerValue:``+e}}function Bb(e,t){return Iv(t)?zb(t):Rb(e,t)}var Vb=class{constructor(){this._=void 0}};function Hb(e,t,n){return e instanceof Gb?function(e,t){let n={fields:{[ny]:{stringValue:ty},[iy]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ay(t)&&(t=oy(t)),t&&(n.fields[ry]=t),{mapValue:n}}(n,t):e instanceof Kb?qb(e,t):e instanceof Jb?Yb(e,t):function(e,t){let n=Wb(e,t),r=Zb(n)+Zb(e.Ae);return Ty(n)&&Ty(e.Ae)?zb(r):Rb(e.serializer,r)}(e,t)}function Ub(e,t,n){return e instanceof Kb?qb(e,t):e instanceof Jb?Yb(e,t):n}function Wb(e,t){return e instanceof Xb?function(e){return Ty(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Gb=class extends Vb{},Kb=class extends Vb{constructor(e){super(),this.elements=e}};function qb(e,t){let n=Qb(t);for(let t of e.elements)n.some((e=>_y(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Jb=class extends Vb{constructor(e){super(),this.elements=e}};function Yb(e,t){let n=Qb(t);for(let t of e.elements)n=n.filter((e=>!_y(e,t)));return{arrayValue:{values:n}}}var Xb=class extends Vb{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Zb(e){return Z(e.integerValue||e.doubleValue)}function Qb(e){return Ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $b=class{constructor(e,t){this.field=e,this.transform=t}};function ex(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kb&&t instanceof Kb||e instanceof Jb&&t instanceof Jb?iv(e.elements,t.elements,_y):e instanceof Xb&&t instanceof Xb?_y(e.Ae,t.Ae):e instanceof Gb&&t instanceof Gb}(e.transform,t.transform)}var tx=class{constructor(e,t){this.version=e,this.transformResults=t}},nx=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function rx(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var ix=class{};function ax(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hx(e.key,nx.none()):new ux(e.key,e.data,nx.none());{let n=e.data,r=Ny.empty(),i=new qv(lv.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new dx(e.key,r,new Yv(i.toArray()),nx.none())}}function ox(e,t,n){e instanceof ux?function(e,t,n){let r=e.value.clone(),i=px(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof dx?function(e,t,n){if(!rx(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=px(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sx(e,t,n,r){return e instanceof ux?function(e,t,n,r){if(!rx(e.precondition,t))return n;let i=e.value.clone(),a=mx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof dx?function(e,t,n,r){if(!rx(e.precondition,t))return n;let i=mx(e.fieldTransforms,r,t),a=t.data;return a.setAll(fx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return rx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cx(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Wb(r.transform,e||null);i!=null&&(n===null&&(n=Ny.empty()),n.set(r.field,i))}return n||null}function lx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&iv(e,t,((e,t)=>ex(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ux=class extends ix{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},dx=class extends ix{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function fx(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function px(e,t,n){let r=new Map;U(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ub(o,s,n[i]))}return r}function mx(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Hb(e,a,t))}return r}var hx=class extends ix{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},gx=class extends ix{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},_x=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&ox(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=sx(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=sx(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Mb();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=ax(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Y.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Q())}isEqual(e){return this.batchId===e.batchId&&iv(this.mutations,e.mutations,((e,t)=>lx(e,t)))&&iv(this.baseMutations,e.baseMutations,((e,t)=>lx(e,t)))}},vx=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){U(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Pb}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},yx=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},bx=class{constructor(e,t){this.count=e,this.unchangedNames=t}},xx,$;function Sx(e){switch(e){case G.OK:return H(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return H(15467,{code:e})}}function Cx(e){if(e===void 0)return z_(`GRPC error has no .code`),G.UNKNOWN;switch(e){case xx.OK:return G.OK;case xx.CANCELLED:return G.CANCELLED;case xx.UNKNOWN:return G.UNKNOWN;case xx.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case xx.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case xx.INTERNAL:return G.INTERNAL;case xx.UNAVAILABLE:return G.UNAVAILABLE;case xx.UNAUTHENTICATED:return G.UNAUTHENTICATED;case xx.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case xx.NOT_FOUND:return G.NOT_FOUND;case xx.ALREADY_EXISTS:return G.ALREADY_EXISTS;case xx.PERMISSION_DENIED:return G.PERMISSION_DENIED;case xx.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case xx.ABORTED:return G.ABORTED;case xx.OUT_OF_RANGE:return G.OUT_OF_RANGE;case xx.UNIMPLEMENTED:return G.UNIMPLEMENTED;case xx.DATA_LOSS:return G.DATA_LOSS;default:return H(39323,{code:e})}}($=xx||={})[$.OK=0]=`OK`,$[$.CANCELLED=1]=`CANCELLED`,$[$.UNKNOWN=2]=`UNKNOWN`,$[$.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,$[$.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,$[$.NOT_FOUND=5]=`NOT_FOUND`,$[$.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,$[$.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,$[$.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,$[$.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,$[$.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,$[$.ABORTED=10]=`ABORTED`,$[$.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,$[$.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,$[$.INTERNAL=13]=`INTERNAL`,$[$.UNAVAILABLE=14]=`UNAVAILABLE`,$[$.DATA_LOSS=15]=`DATA_LOSS`;var wx=null;function Tx(){return new TextEncoder}var Ex=new x_([4294967295,4294967295],0);function Dx(e){let t=Tx().encode(e),n=new S_;return n.update(t),new Uint8Array(n.digest())}function Ox(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new x_([n,r],0),new x_([i,a],0)]}var kx=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ax(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Ax(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ax(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=x_.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(x_.fromNumber(n)));return r.compare(Ex)===1&&(r=new x_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=Ox(Dx(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=Ox(Dx(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Ax=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},jx=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Mx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Y.min(),i,new Wv(q),Db(),Q())}},Mx=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Q(),Q(),Q())}},Nx=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},Px=class{constructor(e,t){this.targetId=e,this.Ce=t}},Fx=class{constructor(e,t,n=Zv.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Ix=class{constructor(){this.ve=0,this.Fe=zx(),this.Me=Zv.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Q(),t=Q(),n=Q();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:H(38017,{changeType:i})}})),new Mx(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=zx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,U(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},Lx=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Db(),this.Je=Rx(),this.He=Rx(),this.Ye=new Wv(q)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:H(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(cb(i))if(n===0){let e=new J(i.path);this.et(t,e,Fy.newNoDocument(e,Y.min()))}else U(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}wx?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=ey(n).toUint8Array()}catch(e){if(e instanceof Xv)return B_(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new kx(a,r,i)}catch(e){return B_(e instanceof Ax?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&cb(i.target)){let t=new J(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Fy.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Q();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new jx(e,t,this.Ye,this.je,n);return this.je=Db(),this.Je=Rx(),this.He=Rx(),this.Ye=new Wv(q),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ix,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qv(q),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qv(q),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||V(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ix),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Rx(){return new Wv(J.comparator)}function zx(){return new Wv(J.comparator)}var Bx=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),Vx=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Hx=(()=>({and:`AND`,or:`OR`}))(),Ux=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Wx(e,t){return e.useProto3Json||Pv(t)?t:{value:t}}function Gx(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Kx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qx(e,t){return Gx(e,t.toTimestamp())}function Jx(e){return U(!!e,49232),Y.fromTimestamp(function(e){let t=$v(e);return new bv(t.seconds,t.nanos)}(e))}function Yx(e,t){return Xx(e,t).canonicalString()}function Xx(e,t){let n=function(e){return new sv([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function Zx(e){let t=sv.fromString(e);return U(bS(t),10190,{key:t.toString()}),t}function Qx(e,t){return Yx(e.databaseId,t.path)}function $x(e,t){let n=Zx(t);if(n.get(1)!==e.databaseId.projectId)throw new K(G.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(G.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new J(rS(n))}function eS(e,t){return Yx(e.databaseId,t)}function tS(e){let t=Zx(e);return t.length===4?sv.emptyPath():rS(t)}function nS(e){return new sv([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function rS(e){return U(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function iS(e,t,n){return{name:Qx(e,t),fields:n.value.mapValue.fields}}function aS(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:H(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(U(t===void 0||typeof t==`string`,58123),Zv.fromBase64String(t||``)):(U(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),Zv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Fx(r,i,a,o&&function(e){return new K(e.code===void 0?G.UNKNOWN:Cx(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=$x(e,r.document.name),a=Jx(r.document.updateTime),o=r.document.createTime?Jx(r.document.createTime):Y.min(),s=new Ny({mapValue:{fields:r.document.fields}}),c=Fy.newFoundDocument(i,a,o,s);n=new Nx(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=$x(e,r.document),a=r.readTime?Jx(r.readTime):Y.min(),o=Fy.newNoDocument(i,a);n=new Nx([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=$x(e,r.document);n=new Nx([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return H(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new bx(r,i),o=e.targetId;n=new Px(o,a)}}return n}function oS(e,t){let n;if(t instanceof ux)n={update:iS(e,t.key,t.value)};else if(t instanceof hx)n={delete:Qx(e,t.key)};else if(t instanceof dx)n={update:iS(e,t.key,t.data),updateMask:yS(t.fieldMask)};else{if(!(t instanceof gx))return H(16599,{Vt:t.type});n={verify:Qx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Gb)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw H(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?H(27497):{exists:t.exists}:{updateTime:qx(e,t.updateTime)}}(e,t.precondition)),n}function sS(e,t){return e&&e.length>0?(U(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Jx(e.updateTime):Jx(t);return n.isEqual(Y.min())&&(n=Jx(t)),new tx(n,e.transformResults||[])}(e,t)))):[]}function cS(e,t){return{documents:[eS(e,t.path)]}}function lS(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=eS(e,i);let a=function(e){if(e.length!==0)return vS(Uy.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:gS(e.field),direction:pS(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Wx(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function uS(e){let t=tS(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){U(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=fS(e);return t instanceof Uy&&Gy(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new zy(_S(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Pv(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new Iy(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new Iy(e.values||[],t)}(n.endAt)),ub(t,i,o,a,s,`F`,c,l)}function dS(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return H(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fS(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?H(30097,{filter:e}):function(e){return Uy.create(e.compositeFilter.filters.map((e=>fS(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return H(1026)}}(e.compositeFilter.op))}(e):function(e){return Hy.create(_S(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return H(58110);default:return H(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=_S(e.unaryFilter.field);return Hy.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=_S(e.unaryFilter.field);return Hy.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=_S(e.unaryFilter.field);return Hy.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=_S(e.unaryFilter.field);return Hy.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return H(61313);default:return H(60726)}}(e)}function pS(e){return Bx[e]}function mS(e){return Vx[e]}function hS(e){return Hx[e]}function gS(e){return{fieldPath:e.canonicalString()}}function _S(e){return lv.fromServerFormat(e.fieldPath)}function vS(e){return e instanceof Hy?function(e){if(e.op===`==`){if(Oy(e.value))return{unaryFilter:{field:gS(e.field),op:`IS_NAN`}};if(Dy(e.value))return{unaryFilter:{field:gS(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(Oy(e.value))return{unaryFilter:{field:gS(e.field),op:`IS_NOT_NAN`}};if(Dy(e.value))return{unaryFilter:{field:gS(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:gS(e.field),op:mS(e.op),value:e.value}}}(e):e instanceof Uy?function(e){let t=e.getFilters().map((e=>vS(e)));return t.length===1?t[0]:{compositeFilter:{op:hS(e.op),filters:t}}}(e):H(54877,{filter:e})}function yS(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function bS(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var xS=class e{constructor(e,t,n,r,i=Y.min(),a=Y.min(),o=Zv.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},SS=class{constructor(e){this.yt=e}};function CS(e){let t=uS({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?_b(t,t.limit,`L`):t}var wS=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(Z(e.integerValue));else if(`doubleValue`in e){let n=Z(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Fv(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=$v(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(ey(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?My(e)?this.Ft(t,2**53-1):Ay(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):H(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=hy,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Z(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),J.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};wS.Kt=new wS;var TS=class{constructor(){this.Cn=new ES}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Tv.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Tv.min())}updateCollectionGroup(e,t,n){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}},ES=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qv(sv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new qv(sv.comparator)).toArray()}};new Uint8Array;var DS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OS=41943040,kS=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};kS.DEFAULT_COLLECTION_PERCENTILE=10,kS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kS.DEFAULT=new kS(OS,kS.DEFAULT_COLLECTION_PERCENTILE,kS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kS.DISABLED=new kS(-1,0,0);var AS=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},jS=`LruGarbageCollector`,MS=1048576;function NS([e,t],[n,r]){let i=q(e,n);return i===0?q(t,r):i}var PS=class{constructor(e){this.Ir=e,this.buffer=new qv(NS),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();NS(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},FS=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){V(jS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jv(e)?V(jS,`Ignoring IndexedDB error during garbage collection: `,e):await kv(e)}await this.Vr(3e5)}))}},IS=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Mv.ce);let n=new PS(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V(`LruGarbageCollector`,`Garbage collection skipped; disabled`),X.resolve(DS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(V(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(V(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),R_()<=R.DEBUG&&V(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function LS(e,t){return new IS(e,t)}var RS=class{constructor(){this.changes=new Tb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fy.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):X.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},zS=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},BS=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&sx(n.mutation,e,Yv.empty(),bv.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Q()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Q()){let r=jb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=kb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=jb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Q())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Db(),a=Nb(),o=function(){return Nb()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof dx)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Yv.empty()):(a.set(t.key,o.mutation.getFieldMask()),sx(o.mutation,t,o.mutation.getFieldMask(),bv.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new zS(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Nb(),r=new Wv(((e,t)=>e-t)),i=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Yv.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Q()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Mb();c.forEach((e=>{if(!i.has(e)){let r=ax(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return X.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):X.resolve(jb()),o=xv,s=i;return a.next((t=>X.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?X.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Q()))).next((e=>({batchId:o,changes:Ab(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next((e=>{let t=kb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=kb();return this.indexManager.getCollectionParents(e,i).next((o=>X.forEach(o,(o=>{let s=function(e,t){return new lb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Fy.newInvalidDocument(r)))}));let n=kb();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&sx(a.mutation,r,Yv.empty(),bv.now()),xb(t,r)&&(n=n.insert(e,r))})),n}))}},VS=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jx(e.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:CS(e.bundledQuery),readTime:Jx(e.readTime)}}(t)),X.resolve()}},HS=class{constructor(){this.overlays=new Wv(J.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){let n=jb();return X.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),X.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),X.resolve()}getOverlaysForCollection(e,t,n){let r=jb(),i=t.length+1,a=new J(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wv(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=jb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=jb(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return X.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new yx(t,n));let i=this.qr.get(t);i===void 0&&(i=Q(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},US=class{constructor(){this.sessionToken=Zv.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}},WS=class{constructor(){this.Qr=new qv(GS.$r),this.Ur=new qv(GS.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new GS(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new GS(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new J(new sv([])),n=new GS(t,e),r=new GS(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new J(new sv([])),n=new GS(t,e),r=new GS(t,e+1),i=Q();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new GS(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},GS=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return J.comparator(e.key,t.key)||q(e.Yr,t.Yr)}static Kr(e,t){return q(e.Yr,t.Yr)||J.comparator(e.key,t.key)}},KS=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qv(GS.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new _x(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new GS(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Nv:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new GS(t,0),r=new GS(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new qv(q);return t.forEach((e=>{let t=new GS(e,0),r=new GS(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),X.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;J.isDocumentKey(i)||(i=i.child(``));let a=new GS(new J(i),0),o=new qv(q);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),X.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){U(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return X.forEach(t.mutations,(r=>{let i=new GS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new GS(t,0),r=this.Zr.firstAfterOrEqual(n);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},qS=class{constructor(e){this.ri=e,this.docs=function(){return new Wv(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return X.resolve(n?n.document.mutableCopy():Fy.newInvalidDocument(t))}getEntries(e,t){let n=Db();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Fy.newInvalidDocument(e))})),X.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Db(),a=t.path,o=new J(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ev(wv(o),n)<=0||(r.has(o.key)||xb(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,t,n,r){H(9500)}ii(e,t){return X.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new JS(this)}getSize(e){return X.resolve(this.size)}},JS=class extends RS{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},YS=class{constructor(e){this.persistence=e,this.si=new Tb((e=>ob(e)),sb),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.oi=0,this._i=new WS,this.targetCount=0,this.ai=AS.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new AS(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,X.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),X.waitFor(i).next((()=>r))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return X.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),X.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),X.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return X.resolve(n)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}},XS=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Mv(0),this.li=!1,this.li=!0,this.hi=new US,this.referenceDelegate=e(this),this.Pi=new YS(this),this.indexManager=new TS,this.remoteDocumentCache=function(e){return new qS(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new SS(t),this.Ii=new VS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new KS(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){V(`MemoryPersistence`,`Starting transaction:`,e);let r=new ZS(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return X.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},ZS=class extends Ov{constructor(e){super(),this.currentSequenceNumber=e}},QS=class e{constructor(e){this.persistence=e,this.Ri=new WS,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw H(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),X.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(n=>{let r=J.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,Y.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},$S=class e{constructor(e,t){this.persistence=e,this.pi=new Tb((e=>Rv(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=LS(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?X.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Y.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wy(e.data.value)),t}br(e,t,n){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return X.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},eC=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Q(),i=Q();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},tC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},nC=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Fs()?8:Av(Os())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new tC;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(R_()<=R.DEBUG&&V(`QueryEngine`,`SDK will not create cache indexes for query:`,bb(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),X.resolve()):(R_()<=R.DEBUG&&V(`QueryEngine`,`Query:`,bb(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(R_()<=R.DEBUG&&V(`QueryEngine`,`The SDK decides to create cache indexes for query:`,bb(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,hb(t))):X.resolve())}ys(e,t){if(fb(t))return X.resolve(null);let n=hb(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=_b(t,null,`F`),n=hb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Q(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,_b(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return fb(t)||r.isEqual(Y.min())?X.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?X.resolve(null):(R_()<=R.DEBUG&&V(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),bb(t)),this.vs(e,a,t,Cv(r,xv)).next((e=>e)))}))}Ds(e,t){let n=new qv(Cb(e));return t.forEach(((t,r)=>{xb(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return R_()<=R.DEBUG&&V(`QueryEngine`,`Using full collection scan to execute query:`,bb(t)),this.ps.getDocumentsMatchingQuery(e,t,Tv.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},rC=`LocalStore`,iC=3e8,aC=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Wv(q),this.xs=new Tb((e=>ob(e)),sb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function oC(e,t,n,r){return new aC(e,t,n,r)}async function sC(e,t){let n=W(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Q();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function cC(e,t){let n=W(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=X.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);U(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Q();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function lC(e){let t=W(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function uC(e,t){let n=W(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(Zv.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=iC?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=Db(),c=Q();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(dC(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(Y.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return X.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function dC(e,t,n){let r=Q(),i=Q();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Db();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Y.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):V(rC,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function fC(e,t){let n=W(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Nv),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function pC(e,t){let n=W(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,X.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new xS(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function mC(e,t,n){let r=W(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!jv(e))throw e;V(rC,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function hC(e,t,n){let r=W(e),i=Y.min(),a=Q();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=W(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):X.resolve(r.Ms.get(i))}(r,e,hb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Y.min(),n?a:Q()))).next((e=>(gC(r,Sb(t),e),{documents:e,Qs:a})))))}function gC(e,t,n){let r=e.Os.get(t)||Y.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var _C=class{constructor(){this.activeTargetIds=Lb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},vC=class{constructor(){this.Mo=new _C,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _C,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},yC=class{Oo(e){}shutdown(){}},bC=`ConnectivityMonitor`,xC=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){V(bC,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){V(bC,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},SC=null;function CC(){return SC===null?SC=function(){return 268435456+Math.round(2147483648*Math.random())}():SC++,`0x`+SC.toString(16)}var wC=`RestConnection`,TC={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},EC=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===ly?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=CC(),o=this.zo(e,t.toUriEncodedString());V(wC,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=bs(c);return this.Jo(e,o,s,n,l).then((t=>(V(wC,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw B_(wC,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+I_}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=TC[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},DC=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},OC=`WebChannelConnection`,kC=class extends EC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=CC();return new Promise(((i,o)=>{let s=new T_;s.setWithCredentials(!0),s.listenOnce(D_.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case O_.NO_ERROR:let t=s.getResponseJson();V(OC,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case O_.TIMEOUT:V(OC,`RPC '${e}' ${a} timed out`),o(new K(G.DEADLINE_EXCEEDED,`Request time out`));break;case O_.HTTP_ERROR:let n=s.getStatus();if(V(OC,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new K(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(G).indexOf(t)>=0?t:G.UNKNOWN}(t.status),t.message)):o(new K(G.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new K(G.UNAVAILABLE,`Connection failed.`));break;default:H(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{V(OC,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);V(OC,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=CC(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=M_(),o=j_(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);V(OC,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new DC({Yo:t=>{f?V(OC,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(V(OC,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),V(OC,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,E_.EventType.OPEN,(()=>{f||(V(OC,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,E_.EventType.CLOSE,(()=>{f||(f=!0,V(OC,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,E_.EventType.ERROR,(t=>{f||(f=!0,B_(OC,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new K(G.UNAVAILABLE,`The operation could not be completed`)))})),m(u,E_.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];U(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){V(OC,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=xx[e];if(t!==void 0)return Cx(t)}(t),i=a.message;n===void 0&&(n=G.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new K(n,i)),u.close()}else V(OC,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,A_.STAT_EVENT,(t=>{t.stat===k_.PROXY?V(OC,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===k_.NOPROXY&&V(OC,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function AC(){return typeof document<`u`?document:null}function jC(e){return new Ux(e,!0)}var MC=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&V(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},NC=`PersistentStream`,PC=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MC(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===G.RESOURCE_EXHAUSTED?(z_(t.toString()),z_(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new K(G.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return V(NC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(V(NC,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},FC=class extends PC{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=aS(this.serializer,e),n=function(e){if(!(`targetChange`in e))return Y.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?Y.min():t.readTime?Jx(t.readTime):Y.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=nS(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=cb(r)?{documents:cS(e,r)}:{query:lS(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Kx(e,t.resumeToken);let r=Wx(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Y.min())>0){n.readTime=Gx(e,t.snapshotVersion.toTimestamp());let r=Wx(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=dS(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=nS(this.serializer),t.removeTarget=e,this.q_(t)}},IC=class extends PC{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return U(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,U(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){U(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=sS(e.writeResults,e.commitTime),n=Jx(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=nS(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>oS(this.serializer,e)))};this.q_(t)}},LC=class{},RC=class extends LC{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new K(G.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Xx(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new K(G.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,Xx(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new K(G.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},zC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(z_(t),this.aa=!1):V(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},BC=`RemoteStore`,VC=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{XC(this)&&(V(BC,`Restarting streams for network reachability change.`),await async function(e){let t=W(e);t.Ea.add(4),await UC(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await HC(t)}(this))}))})),this.Ra=new zC(n,r)}};async function HC(e){if(XC(e))for(let t of e.da)await t(!0)}async function UC(e){for(let t of e.da)await t(!1)}function WC(e,t){let n=W(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),YC(n)?JC(n):hw(n).O_()&&KC(n,t))}function GC(e,t){let n=W(e),r=hw(n);n.Ia.delete(t),r.O_()&&qC(n,t),n.Ia.size===0&&(r.O_()?r.L_():XC(n)&&n.Ra.set(`Unknown`))}function KC(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hw(e).Y_(t)}function qC(e,t){e.Va.Ue(t),hw(e).Z_(t)}function JC(e){e.Va=new Lx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hw(e).start(),e.Ra.ua()}function YC(e){return XC(e)&&!hw(e).x_()&&e.Ia.size>0}function XC(e){return W(e).Ea.size===0}function ZC(e){e.Va=void 0}async function QC(e){e.Ra.set(`Online`)}async function $C(e){e.Ia.forEach(((t,n)=>{KC(e,t)}))}async function ew(e,t){ZC(e),YC(e)?(e.Ra.ha(t),JC(e)):e.Ra.set(`Unknown`)}async function tw(e,t,n){if(e.Ra.set(`Online`),t instanceof Fx&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){V(BC,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await nw(e,n)}else if(t instanceof Nx?e.Va.Ze(t):t instanceof Px?e.Va.st(t):e.Va.tt(t),!n.isEqual(Y.min()))try{let t=await lC(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(Zv.EMPTY_BYTE_STRING,r.snapshotVersion)),qC(e,t),KC(e,new xS(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){V(BC,`Failed to raise snapshot:`,t),await nw(e,t)}}async function nw(e,t,n){if(!jv(t))throw t;e.Ea.add(1),await UC(e),e.Ra.set(`Offline`),n||=()=>lC(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{V(BC,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await HC(e)}))}function rw(e,t){return t().catch((n=>nw(e,n,t)))}async function iw(e){let t=W(e),n=gw(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nv;for(;aw(t);)try{let e=await fC(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,ow(t,e)}catch(e){await nw(t,e)}sw(t)&&cw(t)}function aw(e){return XC(e)&&e.Ta.length<10}function ow(e,t){e.Ta.push(t);let n=gw(e);n.O_()&&n.X_&&n.ea(t.mutations)}function sw(e){return XC(e)&&!gw(e).x_()&&e.Ta.length>0}function cw(e){gw(e).start()}async function lw(e){gw(e).ra()}async function uw(e){let t=gw(e);for(let n of e.Ta)t.ea(n.mutations)}async function dw(e,t,n){let r=e.Ta.shift(),i=vx.from(r,t,n);await rw(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await iw(e)}async function fw(e,t){t&&gw(e).X_&&await async function(e,t){if(function(e){return Sx(e)&&e!==G.ABORTED}(t.code)){let n=e.Ta.shift();gw(e).B_(),await rw(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await iw(e)}}(e,t),sw(e)&&cw(e)}async function pw(e,t){let n=W(e);n.asyncQueue.verifyOperationInProgress(),V(BC,`RemoteStore received new credentials`);let r=XC(n);n.Ea.add(3),await UC(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await HC(n)}async function mw(e,t){let n=W(e);t?(n.Ea.delete(2),await HC(n)):t||(n.Ea.add(2),await UC(n),n.Ra.set(`Unknown`))}function hw(e){return e.ma||(e.ma=function(e,t,n){let r=W(e);return r.sa(),new FC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:QC.bind(null,e),t_:$C.bind(null,e),r_:ew.bind(null,e),H_:tw.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),YC(e)?JC(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),ZC(e))}))),e.ma}function gw(e){return e.fa||(e.fa=function(e,t,n){let r=W(e);return r.sa(),new IC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:lw.bind(null,e),r_:fw.bind(null,e),ta:uw.bind(null,e),na:dw.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await iw(e)):(await e.fa.stop(),e.Ta.length>0&&(V(BC,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var _w=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new U_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(G.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vw(e,t){if(z_(`AsyncQueue`,`${t}: ${e}`),jv(e))return new K(G.UNAVAILABLE,`${t}: ${e}`);throw e}var yw=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||J.comparator(t.key,n.key):(e,t)=>J.comparator(e.key,t.key),this.keyedMap=kb(),this.sortedSet=new Wv(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},bw=class{constructor(){this.ga=new Wv(J.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):H(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},xw=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,yw.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},Sw=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},Cw=class{constructor(){this.queries=ww(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=W(e),r=n.queries;n.queries=ww(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new K(G.ABORTED,`Firestore shutting down`))}};function ww(){return new Tb((e=>yb(e)),vb)}async function Tw(e,t){let n=W(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Sw,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=vw(e,`Initialization of query '${bb(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&kw(n)}async function Ew(e,t){let n=W(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Dw(e,t){let n=W(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&kw(n)}function Ow(e,t,n){let r=W(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function kw(e){e.Ca.forEach((e=>{e.next()}))}var Aw,jw;(jw=Aw||={}).Ma=`default`,jw.Cache=`cache`;var Mw=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new xw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=xw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Aw.Cache}},Nw=class{constructor(e){this.key=e}},Pw=class{constructor(e){this.key=e}},Fw=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Q(),this.mutatedKeys=Q(),this.eu=Cb(e),this.tu=new yw(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new bw,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=xb(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new xw(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Q(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new Pw(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Nw(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Q();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xw.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Iw=`SyncEngine`,Lw=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Rw=class{constructor(e){this.key=e,this.hu=!1}},zw=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Tb((e=>yb(e)),vb),this.Iu=new Map,this.Eu=new Set,this.du=new Wv(J.comparator),this.Au=new Map,this.Ru=new WS,this.Vu={},this.mu=new Map,this.fu=AS.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function Bw(e,t,n=!0){let r=cT(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Hw(r,t,n,!0),i}async function Vw(e,t){await Hw(cT(e),t,!0,!1)}async function Hw(e,t,n,r){let i=await pC(e.localStore,hb(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await Uw(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&WC(e.remoteStore,i),s}async function Uw(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await hC(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return nT(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await hC(e.localStore,t,!0),o=new Fw(t,a.Qs),s=o.ru(a.documents),c=Mx.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);nT(e,n,l.au);let u=new Lw(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Ww(e,t,n){let r=W(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!vb(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mC(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&GC(r.remoteStore,i.targetId),eT(r,i.targetId)})).catch(kv)):(eT(r,i.targetId),await mC(r.localStore,i.targetId,!0))}async function Gw(e,t){let n=W(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GC(n.remoteStore,r.targetId))}async function Kw(e,t,n){let r=lT(e);try{let e=await function(e,t){let n=W(e),r=bv.now(),i=t.reduce(((e,t)=>e.add(t.key)),Q()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=Db(),c=Q();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=cx(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new dx(e.key,t,Py(t.value.mapValue),nx.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ab(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new Wv(q),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await aT(r,e.changes),await iw(r.remoteStore)}catch(e){let t=vw(e,`Failed to persist write`);n.reject(t)}}async function qw(e,t){let n=W(e);try{let e=await uC(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(U(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?U(r.hu,14607):e.removedDocuments.size>0&&(U(r.hu,42227),r.hu=!1))})),await aT(n,e,t)}catch(e){await kv(e)}}function Jw(e,t,n){let r=W(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=W(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&kw(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yw(e,t,n){let r=W(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Wv(J.comparator);e=e.insert(a,Fy.newNoDocument(a,Y.min()));let n=Q().add(a);await qw(r,new jx(Y.min(),new Map,new Wv(q),e,n)),r.du=r.du.remove(a),r.Au.delete(t),iT(r)}else await mC(r.localStore,t,!1).then((()=>eT(r,t,n))).catch(kv)}async function Xw(e,t){let n=W(e),r=t.batch.batchId;try{let e=await cC(n.localStore,t);$w(n,r,null),Qw(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await aT(n,e)}catch(e){await kv(e)}}async function Zw(e,t,n){let r=W(e);try{let e=await function(e,t){let n=W(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(U(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);$w(r,t,n),Qw(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await aT(r,e)}catch(e){await kv(e)}}function Qw(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function $w(e,t,n){let r=W(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function eT(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||tT(e,t)}))}function tT(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(GC(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),iT(e))}function nT(e,t,n){for(let r of n)r instanceof Nw?(e.Ru.addReference(r.key,t),rT(e,r)):r instanceof Pw?(V(Iw,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||tT(e,r.key)):H(19791,{wu:r})}function rT(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(V(Iw,`New document in limbo: `+n),e.Eu.add(r),iT(e))}function iT(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new J(sv.fromString(t)),r=e.fu.next();e.Au.set(r,new Rw(n)),e.du=e.du.insert(n,r),WC(e.remoteStore,new xS(hb(db(n.path)),r,`TargetPurposeLimboResolution`,Mv.ce))}}async function aT(e,t,n){let r=W(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=eC.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=W(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>X.forEach(t,(t=>X.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>X.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!jv(e))throw e;V(rC,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function oT(e,t){let n=W(e);if(!n.currentUser.isEqual(t)){V(Iw,`User change. New user:`,t.toKey());let e=await sC(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new K(G.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await aT(n,e.Ls)}}function sT(e,t){let n=W(e),r=n.Au.get(t);if(r&&r.hu)return Q().add(r.key);{let e=Q(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function cT(e){let t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yw.bind(null,t),t.Pu.H_=Dw.bind(null,t.eventManager),t.Pu.yu=Ow.bind(null,t.eventManager),t}function lT(e){let t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,t),t}var uT=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=jC(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oC(this.persistence,new nC,e.initialUser,this.serializer)}Cu(e){return new XS(QS.mi,this.serializer)}Du(e){return new vC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};uT.provider={build:()=>new uT};var dT=class extends uT{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){U(this.persistence.referenceDelegate instanceof $S,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new FS(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?kS.DEFAULT:kS.withCacheSize(this.cacheSizeBytes);return new XS((e=>$S.mi(e,t)),this.serializer)}},fT=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Jw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oT.bind(null,this.syncEngine),await mw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Cw}()}createDatastore(e){let t=jC(e.databaseInfo.databaseId),n=function(e){return new kC(e)}(e.databaseInfo);return function(e,t,n,r){return new RC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new VC(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Jw(this.syncEngine,e,0)),function(){return xC.v()?new xC:new yC}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new zw(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=W(e);V(BC,`RemoteStore shutting down.`),t.Ea.add(5),await UC(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};fT.provider={build:()=>new fT};var pT=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):z_(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},mT=`FirestoreClient`,hT=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=F_.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{V(mT,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(V(mT,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new U_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=vw(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function gT(e,t){e.asyncQueue.verifyOperationInProgress(),V(mT,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await sC(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function _T(e,t){e.asyncQueue.verifyOperationInProgress();let n=await vT(e);V(mT,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>pw(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pw(t.remoteStore,n))),e._onlineComponents=t}async function vT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V(mT,`Using user provided OfflineComponentProvider`);try{await gT(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===G.FAILED_PRECONDITION||e.code===G.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;B_(`Error using user provided cache. Falling back to memory cache: `+n),await gT(e,new uT)}}else V(mT,`Using default OfflineComponentProvider`),await gT(e,new dT(void 0));return e._offlineComponents}async function yT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V(mT,`Using user provided OnlineComponentProvider`),await _T(e,e._uninitializedComponentsProvider._online)):(V(mT,`Using default OnlineComponentProvider`),await _T(e,new fT))),e._onlineComponents}function bT(e){return yT(e).then((e=>e.syncEngine))}async function xT(e){let t=await yT(e),n=t.eventManager;return n.onListen=Bw.bind(null,t.syncEngine),n.onUnlisten=Ww.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Vw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Gw.bind(null,t.syncEngine),n}function ST(e,t,n={}){let r=new U_;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new pT({next:s=>{a.Nu(),t.enqueueAndForget((()=>Ew(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new K(G.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new K(G.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new Mw(db(n.path),a,{includeMetadataChanges:!0,qa:!0});return Tw(e,o)}(await xT(e),e.asyncQueue,t,n,r))),r.promise}function CT(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var wT=new Map,TT=`firestore.googleapis.com`,ET=!0,DT=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(G.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=TT,this.ssl=ET}else this.host=e.host,this.ssl=e.ssl??ET;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MS)throw new K(G.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}dv(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new K(G.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},OT=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new K(G.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new K(G.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new G_;switch(e.type){case`firstParty`:return new Y_(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new K(G.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=wT.get(e);t&&(V(`ComponentProvider`,`Removing Datastore`),wT.delete(e),t.terminate())}(this),Promise.resolve()}};function kT(e,t,n,r={}){e=hv(e,OT);let i=bs(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(xs(`https://${s}`),Ds(`Firestore`,!0)),a.host!==TT&&a.host!==s&&B_(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!Gs(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=F_.MOCK_USER;else{t=Ss(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new K(G.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new F_(i)}e._authCredentials=new K_(new W_(t,n))}}var AT=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},jT=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new MT(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(_v(n,e._jsonSchema))return new e(t,r||null,new J(sv.fromString(n.referencePath)))}};jT._jsonSchemaVersion=`firestore/documentReference/1.0`,jT._jsonSchema={type:gv(`string`,jT._jsonSchemaVersion),referencePath:gv(`string`)};var MT=class e extends AT{constructor(e,t,n){super(e,t,db(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jT(this.firestore,null,new J(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function NT(e,t,...n){if(e=L(e),arguments.length===1&&(t=$_.newId()),uv(`doc`,`path`,t),e instanceof OT){let r=sv.fromString(t,...n);return fv(r),new jT(e,null,new J(r))}{if(!(e instanceof jT||e instanceof MT))throw new K(G.INVALID_ARGUMENT,`Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(sv.fromString(t,...n));return fv(r),new jT(e.firestore,e instanceof MT?e.converter:null,new J(r))}}var PT=`AsyncQueue`,FT=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MC(this,`async_queue_retry`),this._c=()=>{let e=AC();e&&V(PT,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=AC();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=AC();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new U_;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jv(e))throw e;V(PT,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,z_(`INTERNAL UNHANDLED ERROR: `,IT(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=_w.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&H(47125,{Pc:IT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function IT(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}var LT=class extends OT{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new FT,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new FT(e),this._firestoreClient=void 0,await e}}};function RT(e,t){let n=typeof e==`object`?e:jl(),r=typeof e==`string`?e:t||ly,i=Tl(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=gs(`firestore`);e&&kT(i,...e)}return i}function zT(e){if(e._terminated)throw new K(G.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||BT(e),e._firestoreClient}function BT(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new cy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,CT(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new hT(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var VT=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(Zv.fromBase64String(t))}catch(e){throw new K(G.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(Zv.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_v(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};VT._jsonSchemaVersion=`firestore/bytes/1.0`,VT._jsonSchema={type:gv(`string`,VT._jsonSchemaVersion),bytes:gv(`string`)};var HT=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(G.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new lv(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},UT=class{constructor(e){this._methodName=e}},WT=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(G.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new K(G.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(_v(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};WT._jsonSchemaVersion=`firestore/geoPoint/1.0`,WT._jsonSchema={type:gv(`string`,WT._jsonSchemaVersion),latitude:gv(`number`),longitude:gv(`number`)};var GT=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_v(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new K(G.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};GT._jsonSchemaVersion=`firestore/vectorValue/1.0`,GT._jsonSchema={type:gv(`string`,GT._jsonSchemaVersion),vectorValues:gv(`object`)};var KT=/^__.*__$/,qT=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new ux(e,this.data,t,this.fieldTransforms):new dx(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function JT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ac:e})}}var YT=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sE(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(JT(this.Ac)&&KT.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},XT=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jC(e)}Cc(e,t,n,r=!1){return new YT({Ac:e,methodName:t,Dc:n,path:lv.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ZT(e){let t=e._freezeSettings(),n=jC(e._databaseId);return new XT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QT(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);rE(`Data must be an object, but it was:`,o,r);let s=tE(r,o),c,l;if(a.merge)c=new Yv(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=iE(t,r,n);if(!o.contains(i))throw new K(G.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);cE(e,i)||e.push(i)}c=new Yv(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new qT(new Ny(s),c,l)}var $T=class e extends UT{_toFieldTransform(e){return new $b(e.path,new Gb)}isEqual(t){return t instanceof e}};function eE(e,t){if(nE(e=L(e)))return rE(`Unsupported field value:`,t,e),tE(e,t);if(e instanceof UT)return function(e,t){if(!JT(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=eE(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=L(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Bb(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=bv.fromDate(e);return{timestampValue:Gx(t.serializer,n)}}if(e instanceof bv){let n=new bv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gx(t.serializer,n)}}if(e instanceof WT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof VT)return{bytesValue:Kx(t.serializer,e._byteString)};if(e instanceof jT){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Yx(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof GT)return function(e,t){return{mapValue:{fields:{[dy]:{stringValue:my},[hy]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return Rb(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${mv(e)}`)}(e,t)}function tE(e,t){let n={};return Uv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hv(e,((e,r)=>{let i=eE(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function nE(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof bv||e instanceof WT||e instanceof VT||e instanceof jT||e instanceof UT||e instanceof GT)}function rE(e,t,n){if(!nE(n)||!pv(n)){let r=mv(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function iE(e,t,n){if((t=L(t))instanceof HT)return t._internalPath;if(typeof t==`string`)return oE(e,t);throw sE(`Field path arguments must be of type string or `,e,!1,void 0,n)}var aE=RegExp(`[~\\*/\\[\\]]`);function oE(e,t,n){if(t.search(aE)>=0)throw sE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new HT(...t.split(`.`))._internalPath}catch{throw sE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function sE(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new K(G.INVALID_ARGUMENT,s+e+c)}function cE(e,t){return e.some((e=>e.isEqual(t)))}var lE=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jT(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new uE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(dE(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},uE=class extends lE{data(){return super.data()}};function dE(e,t){return typeof t==`string`?oE(e,t):t instanceof HT?t._internalPath:t._delegate._internalPath}var fE=class{convertValue(e,t=`none`){switch(gy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Z(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ey(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Hv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[hy].arrayValue?.values?.map((e=>Z(e.doubleValue)));return new GT(t)}convertGeoPoint(e){return new WT(Z(e.latitude),Z(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=oy(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(sy(e));default:return null}}convertTimestamp(e){let t=$v(e);return new bv(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=sv.fromString(e);U(bS(n),9688,{name:e});let r=new uy(n.get(1),n.get(3)),i=new J(n.popFirst(5));return r.isEqual(t)||z_(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function pE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var mE=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hE=class e extends lE{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new gE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(dE(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(G.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};hE._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,hE._jsonSchema={type:gv(`string`,hE._jsonSchemaVersion),bundleSource:gv(`string`,`DocumentSnapshot`),bundleName:gv(`string`),bundle:gv(`string`)};var gE=class extends hE{data(e={}){return super.data(e)}},_E=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new gE(this._firestore,this._userDataWriter,n.key,n,new mE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(G.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new gE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new gE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:vE(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(G.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=$_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function vE(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return H(61501,{type:e})}}function yE(e){e=hv(e,jT);let t=hv(e.firestore,LT);return ST(zT(t),e._key).then((n=>CE(t,e,n)))}_E._jsonSchemaVersion=`firestore/querySnapshot/1.0`,_E._jsonSchema={type:gv(`string`,_E._jsonSchemaVersion),bundleSource:gv(`string`,`QuerySnapshot`),bundleName:gv(`string`),bundle:gv(`string`)};var bE=class extends fE{constructor(e){super(),this.firestore=e}convertBytes(e){return new VT(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new jT(this.firestore,null,t)}};function xE(e,t,n){e=hv(e,jT);let r=hv(e.firestore,LT),i=pE(e.converter,t,n);return SE(r,[QT(ZT(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,nx.none())])}function SE(e,t){return function(e,t){let n=new U_;return e.asyncQueue.enqueueAndForget((async()=>Kw(await bT(e),t,n))),n.promise}(zT(e),t)}function CE(e,t,n){let r=n.docs.get(t._key);return new hE(e,new bE(e),t._key,r,new mE(n.hasPendingWrites,n.fromCache),t.converter)}function wE(){return new $T(`serverTimestamp`)}(function(e,t=!0){(function(e){I_=e})(kl),wl(new ac(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new LT(new q_(e.getProvider(`auth-internal`)),new Z_(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new K(G.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new uy(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),Ml(N_,P_,e),Ml(N_,P_,`esm2020`)})(),Ml(`firebase`,`12.7.0`,`app`);var TE=`@firebase/installations`,EE=`0.6.19`,DE=1e4,OE=`w:${EE}`,kE=`FIS_v2`,AE=`https://firebaseinstallations.googleapis.com/v1`,jE=3600*1e3,ME=new Vs(`installations`,`Installations`,{"missing-app-config-values":`Missing App configuration value: "{$valueName}"`,"not-registered":`Firebase Installation is not registered.`,"installation-not-found":`Firebase Installation not found.`,"request-failed":`{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"`,"app-offline":`Could not process request. Application offline.`,"delete-pending-registration":`Can't delete installation while there is a pending registration request.`});function NE(e){return e instanceof Bs&&e.code.includes(`request-failed`)}function PE({projectId:e}){return`${AE}/projects/${e}/installations`}function FE(e){return{token:e.token,requestStatus:2,expiresIn:BE(e.expiresIn),creationTime:Date.now()}}async function IE(e,t){let n=(await t.json()).error;return ME.create(`request-failed`,{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function LE({apiKey:e}){return new Headers({"Content-Type":`application/json`,Accept:`application/json`,"x-goog-api-key":e})}function RE(e,{refreshToken:t}){let n=LE(e);return n.append(`Authorization`,VE(t)),n}async function zE(e){let t=await e();return t.status>=500&&t.status<600?e():t}function BE(e){return Number(e.replace(`s`,`000`))}function VE(e){return`${kE} ${e}`}async function HE({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let r=PE(e),i=LE(e),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={fid:n,authVersion:kE,appId:e.appId,sdkVersion:OE},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await zE(()=>fetch(r,s));if(c.ok){let e=await c.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:FE(e.authToken)}}else throw await IE(`Create Installation`,c)}function UE(e){return new Promise(t=>{setTimeout(t,e)})}function WE(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,`-`).replace(/\//g,`_`)}var GE=/^[cdef][\w-]{21}$/,KE=``;function qE(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let t=JE(e);return GE.test(t)?t:KE}catch{return KE}}function JE(e){return WE(e).substr(0,22)}function YE(e){return`${e.appName}!${e.appId}`}var XE=new Map;function ZE(e,t){let n=YE(e);QE(n,t),$E(n,t)}function QE(e,t){let n=XE.get(e);if(n)for(let e of n)e(t)}function $E(e,t){let n=tD();n&&n.postMessage({key:e,fid:t}),nD()}var eD=null;function tD(){return!eD&&`BroadcastChannel`in self&&(eD=new BroadcastChannel(`[Firebase] FID Change`),eD.onmessage=e=>{QE(e.data.key,e.data.fid)}),eD}function nD(){XE.size===0&&eD&&(eD.close(),eD=null)}var rD=`firebase-installations-database`,iD=1,aD=`firebase-installations-store`,oD=null;function sD(){return oD||=Fc(rD,iD,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(aD)}}}),oD}async function cD(e,t){let n=YE(e),r=(await sD()).transaction(aD,`readwrite`),i=r.objectStore(aD),a=await i.get(n);return await i.put(t,n),await r.done,(!a||a.fid!==t.fid)&&ZE(e,t.fid),t}async function lD(e){let t=YE(e),n=(await sD()).transaction(aD,`readwrite`);await n.objectStore(aD).delete(t),await n.done}async function uD(e,t){let n=YE(e),r=(await sD()).transaction(aD,`readwrite`),i=r.objectStore(aD),a=await i.get(n),o=t(a);return o===void 0?await i.delete(n):await i.put(o,n),await r.done,o&&(!a||a.fid!==o.fid)&&ZE(e,o.fid),o}async function dD(e){let t,n=await uD(e.appConfig,n=>{let r=pD(e,fD(n));return t=r.registrationPromise,r.installationEntry});return n.fid===KE?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function fD(e){return _D(e||{fid:qE(),registrationStatus:0})}function pD(e,t){if(t.registrationStatus===0){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ME.create(`app-offline`))};let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:mD(e,n)}}else if(t.registrationStatus===1)return{installationEntry:t,registrationPromise:hD(e)};else return{installationEntry:t}}async function mD(e,t){try{let n=await HE(e,t);return cD(e.appConfig,n)}catch(n){throw NE(n)&&n.customData.serverCode===409?await lD(e.appConfig):await cD(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function hD(e){let t=await gD(e.appConfig);for(;t.registrationStatus===1;)await UE(100),t=await gD(e.appConfig);if(t.registrationStatus===0){let{installationEntry:t,registrationPromise:n}=await dD(e);return n||t}return t}function gD(e){return uD(e,e=>{if(!e)throw ME.create(`installation-not-found`);return _D(e)})}function _D(e){return vD(e)?{fid:e.fid,registrationStatus:0}:e}function vD(e){return e.registrationStatus===1&&e.registrationTime+DE<Date.now()}async function yD({appConfig:e,heartbeatServiceProvider:t},n){let r=bD(e,n),i=RE(e,n),a=t.getImmediate({optional:!0});if(a){let e=await a.getHeartbeatsHeader();e&&i.append(`x-firebase-client`,e)}let o={installation:{sdkVersion:OE,appId:e.appId}},s={method:`POST`,headers:i,body:JSON.stringify(o)},c=await zE(()=>fetch(r,s));if(c.ok)return FE(await c.json());throw await IE(`Generate Auth Token`,c)}function bD(e,{fid:t}){return`${PE(e)}/${t}/authTokens:generate`}async function xD(e,t=!1){let n,r=await uD(e.appConfig,r=>{if(!TD(r))throw ME.create(`not-registered`);let i=r.authToken;if(!t&&ED(i))return r;if(i.requestStatus===1)return n=SD(e,t),r;{if(!navigator.onLine)throw ME.create(`app-offline`);let t=OD(r);return n=wD(e,t),t}});return n?await n:r.authToken}async function SD(e,t){let n=await CD(e.appConfig);for(;n.authToken.requestStatus===1;)await UE(100),n=await CD(e.appConfig);let r=n.authToken;return r.requestStatus===0?xD(e,t):r}function CD(e){return uD(e,e=>{if(!TD(e))throw ME.create(`not-registered`);let t=e.authToken;return kD(t)?{...e,authToken:{requestStatus:0}}:e})}async function wD(e,t){try{let n=await yD(e,t),r={...t,authToken:n};return await cD(e.appConfig,r),n}catch(n){if(NE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lD(e.appConfig);else{let n={...t,authToken:{requestStatus:0}};await cD(e.appConfig,n)}throw n}}function TD(e){return e!==void 0&&e.registrationStatus===2}function ED(e){return e.requestStatus===2&&!DD(e)}function DD(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jE}function OD(e){let t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function kD(e){return e.requestStatus===1&&e.requestTime+DE<Date.now()}async function AD(e){let t=e,{installationEntry:n,registrationPromise:r}=await dD(t);return r?r.catch(console.error):xD(t).catch(console.error),n.fid}async function jD(e,t=!1){let n=e;return await MD(n),(await xD(n,t)).token}async function MD(e){let{registrationPromise:t}=await dD(e);t&&await t}function ND(e){if(!e||!e.options)throw PD(`App Configuration`);if(!e.name)throw PD(`App Name`);for(let t of[`projectId`,`apiKey`,`appId`])if(!e.options[t])throw PD(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function PD(e){return ME.create(`missing-app-config-values`,{valueName:e})}var FD=`installations`,ID=`installations-internal`,LD=e=>{let t=e.getProvider(`app`).getImmediate();return{app:t,appConfig:ND(t),heartbeatServiceProvider:Tl(t,`heartbeat`),_delete:()=>Promise.resolve()}},RD=e=>{let t=Tl(e.getProvider(`app`).getImmediate(),FD).getImmediate();return{getId:()=>AD(t),getToken:e=>jD(t,e)}};function zD(){wl(new ac(FD,LD,`PUBLIC`)),wl(new ac(ID,RD,`PRIVATE`))}zD(),Ml(TE,EE),Ml(TE,EE,`esm2020`);var BD=`analytics`,VD=`firebase_id`,HD=`origin`,UD=60*1e3,WD=`https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig`,GD=`https://www.googletagmanager.com/gtag/js`,KD=new gc(`@firebase/analytics`),qD=new Vs(`analytics`,`Analytics`,{"already-exists":`A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.`,"already-initialized":`initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.`,"already-initialized-settings":`Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.`,"interop-component-reg-failed":`Firebase Analytics Interop Component failed to instantiate: {$reason}`,"invalid-analytics-context":`Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"indexeddb-unavailable":`IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}`,"fetch-throttle":`The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.`,"config-fetch-failed":`Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}`,"no-api-key":`The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.`,"no-app-id":`The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.`,"no-client-id":`The "client_id" field is empty.`,"invalid-gtag-resource":`Trusted Types detected an invalid gtag resource: {$gtagURL}.`});function JD(e){if(!e.startsWith(GD)){let t=qD.create(`invalid-gtag-resource`,{gtagURL:e});return KD.warn(t.message),``}return e}function YD(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function XD(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function ZD(e,t){let n=XD(`firebase-js-sdk-policy`,{createScriptURL:JD}),r=document.createElement(`script`),i=`${GD}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function QD(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function $D(e,t,n,r,i,a){let o=r[i];try{if(o)await t[o];else{let e=(await YD(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(e){KD.error(e)}e(`config`,i,a)}async function eO(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);let r=await YD(n);for(let n of e){let e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(i)a.push(i);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e(`event`,r,i||{})}catch(e){KD.error(e)}}function tO(e,t,n,r){async function i(i,...a){try{if(i===`event`){let[r,i]=a;await eO(e,t,n,r,i)}else if(i===`config`){let[i,o]=a;await $D(e,t,n,r,i,o)}else if(i===`consent`){let[t,n]=a;e(`consent`,t,n)}else if(i===`get`){let[t,n,r]=a;e(`get`,t,n,r)}else if(i===`set`){let[t]=a;e(`set`,t)}else e(i,...a)}catch(e){KD.error(e)}}return i}function nO(e,t,n,r,i){let a=function(...e){window[r].push(arguments)};return window[i]&&typeof window[i]==`function`&&(a=window[i]),window[i]=tO(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function rO(e){let t=window.document.getElementsByTagName(`script`);for(let n of Object.values(t))if(n.src&&n.src.includes(GD)&&n.src.includes(e))return n;return null}var iO=30,aO=1e3,oO=new class{constructor(e={},t=aO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function sO(e){return new Headers({Accept:`application/json`,"x-goog-api-key":e})}async function cO(e){let{appId:t,apiKey:n}=e,r={method:`GET`,headers:sO(n)},i=WD.replace(`{app-id}`,t),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let e=``;try{let t=await a.json();t.error?.message&&(e=t.error.message)}catch{}throw qD.create(`config-fetch-failed`,{httpStatus:a.status,responseMessage:e})}return a.json()}async function lO(e,t=oO,n){let{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw qD.create(`no-app-id`);if(!i){if(a)return{measurementId:a,appId:r};throw qD.create(`no-api-key`)}let o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new pO;return setTimeout(async()=>{s.abort()},n===void 0?UD:n),uO({appId:r,apiKey:i,measurementId:a},o,s,t)}async function uO(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=oO){let{appId:a,measurementId:o}=e;try{await dO(r,t)}catch(e){if(o)return KD.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:a,measurementId:o};throw e}try{let t=await cO(e);return i.deleteThrottleMetadata(a),t}catch(t){let s=t;if(!fO(s)){if(i.deleteThrottleMetadata(a),o)return KD.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${s?.message}]`),{appId:a,measurementId:o};throw t}let c=Number(s?.customData?.httpStatus)===503?ic(n,i.intervalMillis,iO):ic(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,l),KD.debug(`Calling attemptFetch again in ${c} millis`),uO(e,l,r,i)}}function dO(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(qD.create(`fetch-throttle`,{throttleEndTimeMillis:t}))})})}function fO(e){if(!(e instanceof Bs)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var pO=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}},mO;async function hO(e,t,n,r,i){if(i&&i.global){e(`event`,n,r);return}else{let i=await t;e(`event`,n,{...r,send_to:i})}}async function gO(e,t,n,r){if(r&&r.global){let t={};for(let e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e(`set`,t),Promise.resolve()}else e(`config`,await t,{update:!0,user_properties:n})}var _O;function vO(e){_O=e}function yO(e){mO=e}async function bO(){if(Is())try{await Ls()}catch(e){return KD.warn(qD.create(`indexeddb-unavailable`,{errorInfo:e?.toString()}).message),!1}else return KD.warn(qD.create(`indexeddb-unavailable`,{errorInfo:`IndexedDB is not available in this environment.`}).message),!1;return!0}async function xO(e,t,n,r,i,a,o){let s=lO(e);s.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&KD.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>KD.error(e)),t.push(s);let c=bO().then(e=>{if(e)return r.getId()}),[l,u]=await Promise.all([s,c]);rO(a)||ZD(a,l.measurementId),_O&&(i(`consent`,`default`,_O),vO(void 0)),i(`js`,new Date);let d=o?.config??{};return d[HD]=`firebase`,d.update=!0,u!=null&&(d[VD]=u),i(`config`,l.measurementId,d),mO&&(i(`set`,mO),yO(void 0)),l.measurementId}var SO=class{constructor(e){this.app=e}_delete(){return delete CO[this.app.options.appId],Promise.resolve()}},CO={},wO=[],TO={},EO=`dataLayer`,DO=`gtag`,OO,kO,AO=!1;function jO(){let e=[];if(Ms()&&e.push(`This is a browser extension environment.`),Rs()||e.push(`Cookies are not available.`),e.length>0){let t=e.map((e,t)=>`(${t+1}) ${e}`).join(` `),n=qD.create(`invalid-analytics-context`,{errorInfo:t});KD.warn(n.message)}}function MO(e,t,n){jO();let r=e.options.appId;if(!r)throw qD.create(`no-app-id`);if(!e.options.apiKey)if(e.options.measurementId)KD.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qD.create(`no-api-key`);if(CO[r]!=null)throw qD.create(`already-exists`,{id:r});if(!AO){QD(EO);let{wrappedGtag:e,gtagCore:t}=nO(CO,wO,TO,EO,DO);kO=e,OO=t,AO=!0}return CO[r]=xO(e,wO,TO,t,OO,EO,n),new SO(e)}function NO(e=jl()){e=L(e);let t=Tl(e,BD);return t.isInitialized()?t.getImmediate():PO(e)}function PO(e,t={}){let n=Tl(e,BD);if(n.isInitialized()){let e=n.getImmediate();if(Gs(t,n.getOptions()))return e;throw qD.create(`already-initialized`)}return n.initialize({options:t})}function FO(e,t,n){e=L(e),gO(kO,CO[e.app.options.appId],t,n).catch(e=>KD.error(e))}function IO(e,t,n,r){e=L(e),hO(kO,CO[e.app.options.appId],t,n,r).catch(e=>KD.error(e))}var LO=`@firebase/analytics`,RO=`0.10.19`;function zO(){wl(new ac(BD,(e,{options:t})=>MO(e.getProvider(`app`).getImmediate(),e.getProvider(`installations-internal`).getImmediate(),t),`PUBLIC`)),wl(new ac(`analytics-internal`,e,`PRIVATE`)),Ml(LO,RO),Ml(LO,RO,`esm2020`);function e(e){try{let t=e.getProvider(BD).getImmediate();return{logEvent:(e,n,r)=>IO(t,e,n,r),setUserProperties:(e,n)=>FO(t,e,n)}}catch(e){throw qD.create(`interop-component-reg-failed`,{reason:e})}}}zO();var BO=Al({apiKey:`AIzaSyAV6OGSKQIHscuL_UkZUpM3A9TM1c_JJ1I`,authDomain:`homecare-5c3cd.firebaseapp.com`,projectId:`homecare-5c3cd`,storageBucket:`homecare-5c3cd.firebasestorage.app`,messagingSenderId:`993481019000`,appId:`1:993481019000:web:ee837224c67ee38532e78d`,measurementId:`G-7JSNHDK19K`});NO(BO);const VO=Wm(BO),HO=RT(BO);var UO={class:`dashboard`},WO={class:`container`},GO={class:`greeting`},KO={class:`services-row`},qO={key:0,class:`card`},JO={class:`appointment`},YO={class:`status confirmed`},XO={class:`card`},ZO={class:`history`},QO={class:`completed`},$O=[`onClick`],ek={class:`modal`},tk={class:`stars`},nk=[`onClick`],rk=t_({__name:`ClientDashboard`,setup(e){let t=e_(),n=Wt({name:``,email:``,phone:``});dr(()=>{Pf(Wm(),async e=>{if(!e){console.log(`User not logged in`);return}try{let t=await yE(NT(HO,`users`,e.uid));if(t.exists()){let e=t.data();n.name=e.name||``,n.email=e.email||``,n.phone=e.phone||``}else console.log(`No such user document!`)}catch(e){console.error(`Error fetching user:`,e)}})});let r=Wt({service:`Wound Care`,provider:`Nurse Amina`,date:`June 20, 2025`,time:`10:00 AM`,status:`Confirmed`}),i=O(!1),a=O(0),o=O(``),s=O(``),c=null;function l(){t.push(`/book`)}function u(e){c=e,s.value=p[e].provider,i.value=!0}function d(){i.value=!1,a.value=0,o.value=``}function f(){c!==null&&(p[c].completed=!0,p[c].rating=a.value,p[c].review=o.value),d()}let p=Wt([{service:`Injection & Drip`},{service:`Elderly Care`}]);return(e,t)=>(j(),M(`div`,UO,[N(`div`,WO,[N(`section`,GO,[N(`h1`,null,`Hello, `+C(n.name)+` `,1),t[1]||=N(`p`,null,`Welcome back to your home healthcare dashboard`,-1)]),N(`section`,{class:`quick-actions`},[N(`button`,{class:`action-btn primary`,onClick:l},`  Book New Service `),t[2]||=N(`button`,{class:`action-btn primary`},`  My Appointments `,-1),t[3]||=N(`button`,{class:`action-btn primary`},`  Contact Support `,-1)]),N(`section`,KO,[r?(j(),M(`div`,qO,[t[10]||=N(`h2`,null,`Upcoming Visit`,-1),N(`div`,JO,[N(`p`,null,[t[4]||=N(`strong`,null,`Service:`,-1),F(` `+C(r.service),1)]),N(`p`,null,[t[5]||=N(`strong`,null,`Provider:`,-1),F(` `+C(r.provider),1)]),N(`p`,null,[t[6]||=N(`strong`,null,`Date:`,-1),F(` `+C(r.date),1)]),N(`p`,null,[t[7]||=N(`strong`,null,`Time:`,-1),F(` `+C(r.time),1)]),N(`p`,null,[t[8]||=N(`strong`,null,`Status:`,-1),N(`span`,YO,C(r.status),1)]),t[9]||=N(`div`,{class:`appointment-actions`},[N(`button`,{class:`small-btn`},`Message Provider`),N(`button`,{class:`small-btn danger`},`Cancel`)],-1)])])):ra(``,!0),N(`div`,XO,[t[11]||=N(`h2`,null,`Past Services`,-1),N(`ul`,ZO,[(j(!0),M(Ri,null,Tr(p,(e,t)=>(j(),M(`li`,{key:t},[N(`span`,null,C(e.service),1),N(`span`,QO,C(e.completed?`Completed`:`Pending`),1),e.completed?ra(``,!0):(j(),M(`button`,{key:0,class:`small-btn`,onClick:e=>u(t)},` Complete & Rate `,8,$O))]))),128))])])]),i.value?(j(),M(`div`,{key:0,class:`modal-overlay`,onClick:Mo(d,[`self`])},[N(`div`,ek,[N(`h3`,null,`Rate `+C(s.value),1),N(`div`,tk,[(j(),M(Ri,null,Tr(5,e=>N(`span`,{key:e,class:xe([`star`,{selected:e<=a.value}]),onClick:t=>a.value=e},``,10,nk)),64))]),A(N(`textarea`,{"onUpdate:modelValue":t[0]||=e=>o.value=e,placeholder:`Leave a comment...`,rows:`3`},null,512),[[I,o.value]]),N(`button`,{class:`action-btn primary`,onClick:f},`Submit`)])])):ra(``,!0)])]))}},[[`__scopeId`,`data-v-f6174897`]]),ik={class:`provider-dashboard`},ak={class:`container`},ok={class:`profile-section`},sk=[`src`],ck={class:`profile-info`},lk={class:`availability`},uk={class:`appointments-section`},dk={key:0,class:`empty`},fk={class:`appointments-row`},pk={class:`requests-section`},mk={key:0,class:`empty`},hk={class:`appointments-row`},gk={class:`progress-bar`},_k={key:0,class:`request-actions`},vk=[`onClick`],yk=[`onClick`],bk={key:1,class:`matched`},xk={class:`history-section`},Sk={key:0,class:`empty`},Ck={class:`appointments-row`},wk={class:`notifications-section`},Tk={class:`notifications-list`},Ek={class:`settings-section`},Dk={class:`settings-row`},Ok=t_({__name:`ProviderDashboard`,setup(e){let t=Wt({name:`Nurse Amina`,photo:`https://i.pravatar.cc/100`,isOnline:!0}),n=Wt([{clientName:`John Doe`,service:`Wound Care`,time:`10:00 AM`,address:`123 Main Street`,status:`Pending`},{clientName:`Jane Smith`,service:`Physiotherapy`,time:`2:00 PM`,address:`456 Elm Street`,status:`Confirmed`}]),r=Wt([{clientName:`Alice Green`,service:`Injection`,distance:5,eta:15,matched:!1,progress:0},{clientName:`Bob White`,service:`Massage`,distance:2,eta:10,matched:!1,progress:0}]),i=Wt([{clientName:`John Doe`,service:`Wound Care`,date:`June 10, 2025`,rating:5,review:`Excellent service!`},{clientName:`Jane Smith`,service:`Physiotherapy`,date:`June 12, 2025`,rating:4,review:`Very professional.`}]),a=Wt([`New booking request from Alice Green`,`Appointment reminder for John Doe at 10:00 AM`,`Message from Jane Smith`]),o=ja(()=>i.length),s=ja(()=>i.length===0?0:i.reduce((e,t)=>e+(t.rating||0),0)/i.length);function c(){t.isOnline=!t.isOnline}function l(e){r[e].matched=!0,r[e].progress=100}function u(e){r.splice(e,1)}function d(e){return e.progress+`%`}function f(e){return e===`Pending`?`pending`:e===`Confirmed`?`confirmed`:e===`Completed`?`completed`:``}return(e,p)=>{let m=xr(`router-link`);return j(),M(`div`,ik,[N(`div`,ak,[N(`section`,ok,[N(`img`,{src:t.photo,alt:`Provider Photo`,class:`profile-photo`},null,8,sk),N(`div`,ck,[N(`h1`,null,`Hello, `+C(t.name)+` `,1),N(`p`,null,`Rating: `+C(s.value.toFixed(1))+`  (`+C(o.value)+` reviews)`,1),N(`div`,lk,[p[0]||=N(`span`,null,`Status: `,-1),N(`button`,{class:xe([`toggle-btn`,t.isOnline?`online`:`offline`]),onClick:c},C(t.isOnline?`Online`:`Offline`),3)])])]),N(`section`,uk,[p[7]||=N(`h2`,null,`Today's Appointments`,-1),n.length===0?(j(),M(`div`,dk,` No appointments for today `)):ra(``,!0),N(`div`,fk,[(j(!0),M(Ri,null,Tr(n,(e,t)=>(j(),M(`div`,{class:`card`,key:t},[N(`h3`,null,C(e.clientName),1),N(`p`,null,[p[1]||=N(`strong`,null,`Service:`,-1),F(` `+C(e.service),1)]),N(`p`,null,[p[2]||=N(`strong`,null,`Time:`,-1),F(` `+C(e.time),1)]),N(`p`,null,[p[3]||=N(`strong`,null,`Address:`,-1),F(` `+C(e.address),1)]),N(`p`,null,[p[4]||=N(`strong`,null,`Status:`,-1),p[5]||=F(),N(`span`,{class:xe(f(e.status))},C(e.status),3)]),p[6]||=N(`div`,{class:`card-actions`},[N(`button`,{class:`small-btn`},`Start Visit`),N(`button`,{class:`small-btn`},`Navigate`),N(`button`,{class:`small-btn`},`Message Client`)],-1)]))),128))])]),N(`section`,pk,[p[11]||=N(`h2`,null,`New Booking Requests`,-1),r.length===0?(j(),M(`div`,mk,`No new requests`)):ra(``,!0),N(`div`,hk,[(j(!0),M(Ri,null,Tr(r,(e,t)=>(j(),M(`div`,{class:`card request-card`,key:t},[N(`h3`,null,C(e.clientName),1),N(`p`,null,[p[8]||=N(`strong`,null,`Service:`,-1),F(` `+C(e.service),1)]),N(`p`,null,[p[9]||=N(`strong`,null,`Distance:`,-1),F(` `+C(e.distance)+` km`,1)]),N(`p`,null,[p[10]||=N(`strong`,null,`ETA:`,-1),F(` `+C(e.eta)+` mins`,1)]),N(`div`,gk,[N(`div`,{class:`progress`,style:ge({width:e.matched?`100%`:d(e)})},null,4)]),e.matched?(j(),M(`div`,bk,`Provider Matched `)):(j(),M(`div`,_k,[N(`button`,{class:`small-btn primary`,onClick:e=>l(t)},`Accept`,8,vk),N(`button`,{class:`small-btn danger`,onClick:e=>u(t)},`Decline`,8,yk)]))]))),128))])]),N(`section`,xk,[p[16]||=N(`h2`,null,`Past Services`,-1),i.length===0?(j(),M(`div`,Sk,`No past services`)):ra(``,!0),N(`div`,Ck,[(j(!0),M(Ri,null,Tr(i,(e,t)=>(j(),M(`div`,{class:`card`,key:t},[N(`h3`,null,C(e.clientName),1),N(`p`,null,[p[12]||=N(`strong`,null,`Service:`,-1),F(` `+C(e.service),1)]),N(`p`,null,[p[13]||=N(`strong`,null,`Date:`,-1),F(` `+C(e.date),1)]),N(`p`,null,[p[14]||=N(`strong`,null,`Feedback:`,-1),F(` `+C(e.review||`No review yet`),1)]),N(`p`,null,[p[15]||=N(`strong`,null,`Rating:`,-1),F(` `+C(e.rating||0)+` `,1)])]))),128))])]),N(`section`,wk,[p[17]||=N(`h2`,null,`Notifications`,-1),N(`ul`,Tk,[(j(!0),M(Ri,null,Tr(a,(e,t)=>(j(),M(`li`,{key:t},C(e),1))),128))])]),N(`section`,Ek,[p[20]||=N(`h2`,null,`Settings`,-1),N(`div`,Dk,[P(m,{to:`/editprovider`,class:`small-btn`},{default:Ln(()=>[...p[18]||=[F(` Edit Profile `,-1)]]),_:1}),P(m,{to:`/manage`,class:`small-btn`},{default:Ln(()=>[...p[19]||=[F(` Manage Service `,-1)]]),_:1})])])])])}}},[[`__scopeId`,`data-v-4af2853b`]]),kk={class:`signup-wrapper`},Ak={class:`signup-link`},jk=[`disabled`],Mk={__name:`Signup`,setup(e){let t=O(!1),n=Wt({name:``,email:``,password:``});async function r(){t.value=!0;try{let e=(await kf(VO,n.email,n.password)).user;await xE(NT(HO,`users`,e.uid),{name:n.name,email:n.email,verified:!1,createdAt:wE()}),await jf(e),alert(`Account created. Please check your email and verify your account before logging in.`)}catch(e){alert(e.message)}finally{t.value=!1}}return(e,i)=>{let a=xr(`router-link`);return j(),M(`div`,kk,[i[8]||=N(`h1`,null,`Create Account`,-1),i[9]||=N(`p`,null,`Sign up to access home healthcare services`,-1),N(`p`,Ak,[i[4]||=F(` Already have an account? `,-1),P(a,{to:`/login`},{default:Ln(()=>[...i[3]||=[F(`Login`,-1)]]),_:1})]),N(`form`,{onSubmit:Mo(r,[`prevent`])},[N(`label`,null,[i[5]||=F(` Full Name `,-1),A(N(`input`,{"onUpdate:modelValue":i[0]||=e=>n.name=e,required:``},null,512),[[I,n.name]])]),N(`label`,null,[i[6]||=F(` Email Address `,-1),A(N(`input`,{type:`email`,"onUpdate:modelValue":i[1]||=e=>n.email=e,required:``},null,512),[[I,n.email]])]),N(`label`,null,[i[7]||=F(` Password `,-1),A(N(`input`,{type:`password`,"onUpdate:modelValue":i[2]||=e=>n.password=e,required:``},null,512),[[I,n.password]])]),N(`button`,{disabled:t.value},C(t.value?`Creating Account...`:`Sign Up`),9,jk)],32)])}}},Nk={class:`login-page`},Pk={class:`login-card`},Fk=[`disabled`],Ik={key:0,class:`error`},Lk={class:`signup-link`},Rk={__name:`Login`,setup(e){let t=e_(),n=O(``),r=O(``),i=O(!1),a=O(``);async function o(){a.value=``,i.value=!0;try{await Af(VO,n.value,r.value),t.push(`/dashboard`)}catch{a.value=`Invalid email or password`}finally{i.value=!1}}return(e,t)=>{let s=xr(`router-link`);return j(),M(`div`,Nk,[N(`div`,Pk,[t[6]||=N(`h1`,null,`Welcome Back`,-1),t[7]||=N(`p`,{class:`subtitle`},`Log in to your account`,-1),N(`form`,{onSubmit:Mo(o,[`prevent`])},[N(`label`,null,[t[2]||=F(` Email Address `,-1),A(N(`input`,{type:`email`,"onUpdate:modelValue":t[0]||=e=>n.value=e,required:``},null,512),[[I,n.value]])]),N(`label`,null,[t[3]||=F(` Password `,-1),A(N(`input`,{type:`password`,"onUpdate:modelValue":t[1]||=e=>r.value=e,required:``},null,512),[[I,r.value]])]),N(`button`,{class:`login-btn`,disabled:i.value},C(i.value?`Logging in...`:`Login`),9,Fk),a.value?(j(),M(`p`,Ik,C(a.value),1)):ra(``,!0)],32),N(`p`,Lk,[t[5]||=F(` Dont have an account? `,-1),P(s,{to:`/signup`},{default:Ln(()=>[...t[4]||=[F(`Sign up`,-1)]]),_:1})])])])}}},zk={},Bk={class:`policy-page`};function Vk(e,t){return j(),M(`div`,Bk,[...t[0]||=[na(`<div class="container" data-v-732cbbe9><h1 data-v-732cbbe9>Privacy Policy &amp; Terms of Service</h1><p class="last-updated" data-v-732cbbe9>Last Updated: 2025-12-31</p><section data-v-732cbbe9><h2 data-v-732cbbe9>1. Introduction</h2><p data-v-732cbbe9> Welcome to <strong data-v-732cbbe9>Home HealthCare</strong> (Platform, we, our, us). Home HealthCare is a digital marketplace connecting clients (Clients, Users) with independent healthcare professionals (Providers) for home-based healthcare services. </p><p data-v-732cbbe9> By using this Platform, you agree to be bound by this Privacy Policy and Terms of Service. If you do not agree, do not use the Platform. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>2. Nature of the Platform</h2><p data-v-732cbbe9> Home HealthCare <strong data-v-732cbbe9>does not provide medical services</strong>. We are not a hospital, clinic, or employer of Providers. Our role is strictly technology-based facilitation. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>3. Eligibility</h2><p data-v-732cbbe9>You confirm that you are at least 18 years old, legally competent, and provide accurate information.</p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>4. User Accounts &amp; Verification</h2><p data-v-732cbbe9> Clients and Providers create accounts for service booking or provision. Verification does not guarantee competence, performance, or outcomes. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>5. Data We Collect</h2><ul data-v-732cbbe9><li data-v-732cbbe9><strong data-v-732cbbe9>Personal Information:</strong> Name, email, phone, address, uploaded documents.</li><li data-v-732cbbe9><strong data-v-732cbbe9>Usage Information:</strong> Device info, IP address, interactions.</li><li data-v-732cbbe9><strong data-v-732cbbe9>Health-Related Information:</strong> Voluntarily provided for service matching only.</li></ul></section><section data-v-732cbbe9><h2 data-v-732cbbe9>6. How We Use Data</h2><p data-v-732cbbe9> To operate, improve the Platform, verify accounts, match Clients and Providers, prevent fraud, and comply with laws. We do not sell data. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>7. Data Sharing</h2><p data-v-732cbbe9>Data is shared only for service delivery, hosting/storage, or legal compliance.</p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>8. Medical Disclaimer</h2><p data-v-732cbbe9> Home HealthCare <strong data-v-732cbbe9>does not provide medical advice</strong>. Consult qualified medical professionals. Emergency situations must be handled via local services. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>9. Payments &amp; Transactions</h2><p data-v-732cbbe9>We facilitate payments but are not responsible for off-platform payments.</p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>10. Off-Platform Interactions</h2><p data-v-732cbbe9> Users engaging outside the Platform (sharing contacts, private bookings) do so at their own risk. Home HealthCare bears no liability for such interactions. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>11. Provider Responsibility &amp; Conduct</h2><p data-v-732cbbe9> Providers are responsible for licensing, compliance, conduct, and insurance. Home HealthCare does not supervise medical practice. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>12. Client Responsibility</h2><p data-v-732cbbe9> Clients must verify Providers, provide accurate health info, and ensure a safe service environment. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>13. Limitation of Liability</h2><p data-v-732cbbe9> Home HealthCare shall not be liable for medical malpractice, negligence, injury, death, financial loss, or service dissatisfaction. Maximum liability is capped at fees paid in the last 3 months. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>14. Indemnification</h2><p data-v-732cbbe9> Users agree to indemnify Home HealthCare from claims arising from platform use, off-platform interactions, or violations of laws and rights. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>15. Account Suspension &amp; Termination</h2><p data-v-732cbbe9> Accounts may be suspended or terminated for false info, policy violations, suspected fraud, or legal risk. No compensation is owed. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>16. Intellectual Property</h2><p data-v-732cbbe9>All content is owned by Home HealthCare. Users may not copy, modify, redistribute, or reverse-engineer.</p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>17. Governing Law</h2><p data-v-732cbbe9>This agreement is governed by the laws of The Federal Republic of Nigeria. Disputes are resolved exclusively in local courts.</p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>18. Changes to Policy</h2><p data-v-732cbbe9> Home HealthCare may update policies at any time. Continued use constitutes acceptance of updates. </p></section><section data-v-732cbbe9><h2 data-v-732cbbe9>19. Contact Information</h2><p data-v-732cbbe9>Email: <a href="mailto:support@yourdomain.com" data-v-732cbbe9>support@yourdomain.com</a></p><p data-v-732cbbe9>Address: [Company Address]</p></section></div>`,1)]])}var Hk=t_(zk,[[`render`,Vk],[`__scopeId`,`data-v-732cbbe9`]]),Uk={},Wk={class:`about-page`},Gk={class:`cta`},Kk={class:`container`};function qk(e,t){let n=xr(`router-link`);return j(),M(`div`,Wk,[t[3]||=na(`<section class="hero" data-v-b3d11a48><div class="container" data-v-b3d11a48><h1 data-v-b3d11a48>About Home Healthcare</h1><p data-v-b3d11a48> Home Healthcare connects families and individuals with licensed nurses and physiotherapists for safe, reliable home healthcare services. Our goal is to make professional care accessible, convenient, and trustworthy. </p></div></section><section class="mission-vision" data-v-b3d11a48><div class="container" data-v-b3d11a48><h2 data-v-b3d11a48>Our Mission</h2><p data-v-b3d11a48> To provide safe, professional, and compassionate home healthcare services by connecting clients with qualified providers in their local area. </p><h2 data-v-b3d11a48>Our Vision</h2><p data-v-b3d11a48> To be the most trusted platform for home healthcare, ensuring comfort, safety, and quality care for every patient. </p></div></section><section class="values" data-v-b3d11a48><div class="container" data-v-b3d11a48><h2 data-v-b3d11a48>Our Core Values</h2><div class="value-cards" data-v-b3d11a48><div class="card" data-v-b3d11a48><h3 data-v-b3d11a48>Professionalism</h3><p data-v-b3d11a48>We partner with licensed healthcare providers who adhere to the highest standards of care.</p></div><div class="card" data-v-b3d11a48><h3 data-v-b3d11a48>Trust &amp; Safety</h3><p data-v-b3d11a48>All providers are verified, and we encourage secure interactions within our platform.</p></div><div class="card" data-v-b3d11a48><h3 data-v-b3d11a48>Compassion</h3><p data-v-b3d11a48>We prioritize the comfort and well-being of our patients in every service we facilitate.</p></div><div class="card" data-v-b3d11a48><h3 data-v-b3d11a48>Innovation</h3><p data-v-b3d11a48>Using technology to simplify access to home healthcare and enhance user experience.</p></div></div></div></section><section class="team" data-v-b3d11a48><div class="container" data-v-b3d11a48><h2 data-v-b3d11a48>Meet Our Team</h2><p data-v-b3d11a48> Our team consists of experienced developers, healthcare enthusiasts, and customer service specialists who are dedicated to improving home healthcare experiences. </p></div></section>`,4),N(`section`,Gk,[N(`div`,Kk,[t[1]||=N(`h2`,null,`Join Our Community`,-1),t[2]||=N(`p`,null,` Whether you're a client seeking care or a provider offering services, Home Healthcare makes it easy to connect and deliver quality care. `,-1),P(n,{to:`/signup`},{default:Ln(()=>[...t[0]||=[N(`button`,{class:`primary-btn`},`Get Started`,-1)]]),_:1})])])])}var Jk=t_(Uk,[[`render`,qk],[`__scopeId`,`data-v-b3d11a48`]]),Yk={class:`payment-page`},Xk={class:`payment-card`},Zk={class:`summary`},Qk={class:`row`},$k={class:`row`},eA={class:`row`},tA={class:`row total`},nA={class:`radio`},rA={class:`radio`},iA={key:0,class:`card-form`},aA={key:1,class:`transfer`},oA={key:2,class:`error`},sA=[`disabled`],cA=t_({__name:`Payment`,setup(e){let t=e_(),n=O(!1),r=O(``),i=O(`card`),a=O({service:`Home Nursing Care`,provider:`Nurse Grace`,date:`12 Aug 2026`,amount:25e3});async function o(){n.value=!0,r.value=``;try{await new Promise(e=>setTimeout(e,1500)),t.push(`/payment-success`)}catch{r.value=`Payment failed. Please try again.`}finally{n.value=!1}}return(e,t)=>(j(),M(`div`,Yk,[N(`div`,Xk,[t[12]||=N(`h1`,null,`Complete Your Payment`,-1),t[13]||=N(`p`,{class:`subtitle`},` Secure payment to confirm your booking `,-1),N(`section`,Zk,[t[6]||=N(`h3`,null,`Booking Summary`,-1),N(`div`,Qk,[t[2]||=N(`span`,null,`Service`,-1),N(`strong`,null,C(a.value.service),1)]),N(`div`,$k,[t[3]||=N(`span`,null,`Provider`,-1),N(`strong`,null,C(a.value.provider),1)]),N(`div`,eA,[t[4]||=N(`span`,null,`Date`,-1),N(`strong`,null,C(a.value.date),1)]),N(`div`,tA,[t[5]||=N(`span`,null,`Total Amount`,-1),N(`strong`,null,``+C(a.value.amount.toLocaleString()),1)])]),N(`section`,null,[t[9]||=N(`h3`,null,`Payment Method`,-1),N(`label`,nA,[A(N(`input`,{type:`radio`,value:`card`,"onUpdate:modelValue":t[0]||=e=>i.value=e},null,512),[[To,i.value]]),t[7]||=F(` Debit / Credit Card `,-1)]),N(`label`,rA,[A(N(`input`,{type:`radio`,value:`transfer`,"onUpdate:modelValue":t[1]||=e=>i.value=e},null,512),[[To,i.value]]),t[8]||=F(` Bank Transfer `,-1)])]),i.value===`card`?(j(),M(`section`,iA,[...t[10]||=[na(`<input placeholder="Card Number" data-v-cd692aee><div class="two" data-v-cd692aee><input placeholder="MM / YY" data-v-cd692aee><input placeholder="CVV" data-v-cd692aee></div><input placeholder="Card Holder Name" data-v-cd692aee>`,3)]])):ra(``,!0),i.value===`transfer`?(j(),M(`section`,aA,[...t[11]||=[N(`p`,null,` Transfer the exact amount to: `,-1),N(`ul`,null,[N(`li`,null,[N(`strong`,null,`Bank:`),F(` Zenith Bank`)]),N(`li`,null,[N(`strong`,null,`Account Name:`),F(` HomeCare Ltd`)]),N(`li`,null,[N(`strong`,null,`Account Number:`),F(` 1234567890`)])],-1),N(`small`,null,`Payment will be verified automatically.`,-1)]])):ra(``,!0),r.value?(j(),M(`p`,oA,C(r.value),1)):ra(``,!0),N(`button`,{onClick:o,disabled:n.value},C(n.value?`Processing...`:`Pay Now`),9,sA),t[14]||=N(`small`,{class:`secure`},`  Your payment is secure and encrypted `,-1)])]))}},[[`__scopeId`,`data-v-cd692aee`]]),lA={class:`edit-profile`},uA={class:`container`},dA={class:`card`},fA={class:`photo-section`},pA=[`src`],mA={class:`upload-btn`},hA={class:`form-group`},gA={class:`form-group`},_A={class:`form-group`},vA={class:`form-group`},yA=t_({__name:`EditProviderProfile`,setup(e){let t=e_(),n=Wt({name:`Nurse Amina`,email:`amina@example.com`,phone:`+234 812 345 6789`,address:`12 Health Street, Lagos`,photo:`https://i.pravatar.cc/150`}),r=O(null);function i(e){let t=e.target.files[0];t&&(r.value=URL.createObjectURL(t))}function a(){console.log(`Updated profile:`,n),alert(`Profile updated successfully `),t.push(`/provider-dashboard`)}function o(){t.back()}return(e,t)=>(j(),M(`div`,lA,[N(`div`,uA,[t[10]||=N(`section`,{class:`header`},[N(`h1`,null,`Edit Profile`),N(`p`,null,`Update your personal and contact information`)],-1),N(`section`,dA,[N(`div`,fA,[N(`img`,{src:r.value||n.photo,class:`profile-photo`},null,8,pA),N(`label`,mA,[t[4]||=F(` Change Photo `,-1),N(`input`,{type:`file`,accept:`image/*`,onChange:i,hidden:``},null,32)])]),N(`form`,{class:`form`,onSubmit:Mo(a,[`prevent`])},[N(`div`,hA,[t[5]||=N(`label`,null,`Full Name`,-1),A(N(`input`,{type:`text`,"onUpdate:modelValue":t[0]||=e=>n.name=e,placeholder:`Enter full name`},null,512),[[I,n.name]])]),N(`div`,gA,[t[6]||=N(`label`,null,`Email`,-1),A(N(`input`,{type:`email`,"onUpdate:modelValue":t[1]||=e=>n.email=e,placeholder:`Enter email address`},null,512),[[I,n.email]])]),N(`div`,_A,[t[7]||=N(`label`,null,`Phone Number`,-1),A(N(`input`,{type:`tel`,"onUpdate:modelValue":t[2]||=e=>n.phone=e,placeholder:`+234...`},null,512),[[I,n.phone]])]),N(`div`,vA,[t[8]||=N(`label`,null,`Address`,-1),A(N(`textarea`,{"onUpdate:modelValue":t[3]||=e=>n.address=e,rows:`3`,placeholder:`Street, City, State`},null,512),[[I,n.address]])]),N(`div`,{class:`actions`},[t[9]||=N(`button`,{type:`submit`,class:`primary-btn`},`Save Changes`,-1),N(`button`,{type:`button`,class:`secondary-btn`,onClick:o},` Cancel `)])],32)])])]))}},[[`__scopeId`,`data-v-e539f5bf`]]),bA=`firebasestorage.googleapis.com`,xA=`storageBucket`,SA=120*1e3,CA=600*1e3,wA=class e extends Bs{constructor(t,n,r=0){super(EA(t),`Firebase Storage: ${n} (${EA(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return EA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}},TA;(function(e){e.UNKNOWN=`unknown`,e.OBJECT_NOT_FOUND=`object-not-found`,e.BUCKET_NOT_FOUND=`bucket-not-found`,e.PROJECT_NOT_FOUND=`project-not-found`,e.QUOTA_EXCEEDED=`quota-exceeded`,e.UNAUTHENTICATED=`unauthenticated`,e.UNAUTHORIZED=`unauthorized`,e.UNAUTHORIZED_APP=`unauthorized-app`,e.RETRY_LIMIT_EXCEEDED=`retry-limit-exceeded`,e.INVALID_CHECKSUM=`invalid-checksum`,e.CANCELED=`canceled`,e.INVALID_EVENT_NAME=`invalid-event-name`,e.INVALID_URL=`invalid-url`,e.INVALID_DEFAULT_BUCKET=`invalid-default-bucket`,e.NO_DEFAULT_BUCKET=`no-default-bucket`,e.CANNOT_SLICE_BLOB=`cannot-slice-blob`,e.SERVER_FILE_WRONG_SIZE=`server-file-wrong-size`,e.NO_DOWNLOAD_URL=`no-download-url`,e.INVALID_ARGUMENT=`invalid-argument`,e.INVALID_ARGUMENT_COUNT=`invalid-argument-count`,e.APP_DELETED=`app-deleted`,e.INVALID_ROOT_OPERATION=`invalid-root-operation`,e.INVALID_FORMAT=`invalid-format`,e.INTERNAL_ERROR=`internal-error`,e.UNSUPPORTED_ENVIRONMENT=`unsupported-environment`})(TA||={});function EA(e){return`storage/`+e}function DA(){return new wA(TA.UNKNOWN,`An unknown error occurred, please check the error payload for server response.`)}function OA(e){return new wA(TA.OBJECT_NOT_FOUND,`Object '`+e+`' does not exist.`)}function kA(e){return new wA(TA.QUOTA_EXCEEDED,`Quota for bucket '`+e+`' exceeded, please view quota on https://firebase.google.com/pricing/.`)}function AA(){return new wA(TA.UNAUTHENTICATED,`User is not authenticated, please authenticate using Firebase Authentication and try again.`)}function jA(){return new wA(TA.UNAUTHORIZED_APP,`This app does not have permission to access Firebase Storage on this project.`)}function MA(e){return new wA(TA.UNAUTHORIZED,`User does not have permission to access '`+e+`'.`)}function NA(){return new wA(TA.RETRY_LIMIT_EXCEEDED,`Max retry time for operation exceeded, please try again.`)}function PA(){return new wA(TA.CANCELED,`User canceled the upload/download.`)}function FA(e){return new wA(TA.INVALID_URL,`Invalid URL '`+e+`'.`)}function IA(e){return new wA(TA.INVALID_DEFAULT_BUCKET,`Invalid default bucket '`+e+`'.`)}function LA(){return new wA(TA.NO_DEFAULT_BUCKET,`No default bucket found. Did you set the '`+xA+`' property when initializing the app?`)}function RA(){return new wA(TA.CANNOT_SLICE_BLOB,`Cannot slice blob for upload. Please retry the upload.`)}function zA(){return new wA(TA.NO_DOWNLOAD_URL,`The given file does not have any download URLs.`)}function BA(e){return new wA(TA.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function VA(e){return new wA(TA.INVALID_ARGUMENT,e)}function HA(){return new wA(TA.APP_DELETED,`The Firebase app was deleted.`)}function UA(e){return new wA(TA.INVALID_ROOT_OPERATION,`The operation '`+e+`' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').`)}function WA(e,t){return new wA(TA.INVALID_FORMAT,`String does not match format '`+e+`': `+t)}function GA(e){throw new wA(TA.INTERNAL_ERROR,`Internal error: `+e)}var KA=class e{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return`/b/`+e(this.bucket)+`/o/`+e(this.path)}bucketOnlyServerUrl(){return`/b/`+encodeURIComponent(this.bucket)+`/o`}static makeFromBucketSpec(t,n){let r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,``)}if(r.path===``)return r;throw IA(t)}static makeFromUrl(t,n){let r=null,i=`([A-Za-z0-9.\\-_]+)`;function a(e){e.path.charAt(e.path.length-1)===`/`&&(e.path_=e.path_.slice(0,-1))}let o=RegExp(`^gs://`+i+`(/(.*))?$`,`i`),s={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}let l=n.replace(/[.]/g,`\\.`),u=RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?\$`,`i`),d={bucket:1,path:3},f=n===bA?`(?:storage.googleapis.com|storage.cloud.google.com)`:n,p=RegExp(`^https?://${f}/${i}/([^?#]*)`,`i`),m=[{regex:o,indices:s,postModify:a},{regex:u,indices:d,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let n=0;n<m.length;n++){let i=m[n],a=i.regex.exec(t);if(a){let t=a[i.indices.bucket],n=a[i.indices.path];n||=``,r=new e(t,n),i.postModify(r);break}}if(r==null)throw FA(t);return r}},qA=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function JA(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function d(t){i=setTimeout(()=>{i=null,e(p,c())},t)}function f(){a&&clearTimeout(a)}function p(e,...t){if(l){f();return}if(e){f(),u.call(null,e,...t);return}if(c()||o){f(),u.call(null,e,...t);return}r<64&&(r*=2);let n;s===1?(s=2,n=0):n=(r+Math.random())*1e3,d(n)}let m=!1;function h(e){m||(m=!0,f(),!l&&(i===null?e||(s=1):(e||(s=2),clearTimeout(i),d(0))))}return d(0),a=setTimeout(()=>{o=!0,h(!0)},n),h}function YA(e){e(!1)}function XA(e){return e!==void 0}function ZA(e){return typeof e==`object`&&!Array.isArray(e)}function QA(e){return typeof e==`string`||e instanceof String}function $A(e){return ej()&&e instanceof Blob}function ej(){return typeof Blob<`u`}function tj(e,t,n,r){if(r<t)throw VA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw VA(`Invalid value for '${e}'. Expected ${n} or less.`)}function nj(e,t,n){let r=t;return n??(r=`https://${t}`),`${n}://${r}/v0${e}`}function rj(e){let t=encodeURIComponent,n=`?`;for(let r in e)if(e.hasOwnProperty(r)){let i=t(r)+`=`+t(e[r]);n=n+i+`&`}return n=n.slice(0,-1),n}var ij;(function(e){e[e.NO_ERROR=0]=`NO_ERROR`,e[e.NETWORK_ERROR=1]=`NETWORK_ERROR`,e[e.ABORT=2]=`ABORT`})(ij||={});function aj(e,t){let n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}var oj=class{constructor(e,t,n,r,i,a,o,s,c,l,u,d=!0,f=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new sj(!1,null,!0));return}let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;this.progressCallback_!==null&&this.progressCallback_(t,n)};this.progressCallback_!==null&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===ij.NO_ERROR,i=n.getStatus();if(!t||aj(i,this.additionalRetryCodes_)&&this.retry){e(!1,new sj(!1,null,n.getErrorCode()===ij.ABORT));return}e(!0,new sj(this.successCodes_.indexOf(i)!==-1,n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());XA(e)?n(e):n()}catch(e){r(e)}else if(i!==null){let e=DA();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?HA():PA()):r(NA())};this.canceled_?t(!1,new sj(!1,null,!0)):this.backoffId_=JA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},sj=class{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}};function cj(e,t){t!==null&&t.length>0&&(e.Authorization=`Firebase `+t)}function lj(e,t){e[`X-Firebase-Storage-Version`]=`webjs/`+(t??`AppManager`)}function uj(e,t){t&&(e[`X-Firebase-GMPID`]=t)}function dj(e,t){t!==null&&(e[`X-Firebase-AppCheck`]=t)}function fj(e,t,n,r,i,a,o=!0,s=!1){let c=rj(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return uj(u,t),cj(u,n),lj(u,a),dj(u,r),new oj(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,s)}function pj(){if(typeof BlobBuilder<`u`)return BlobBuilder;if(typeof WebKitBlobBuilder<`u`)return WebKitBlobBuilder}function mj(...e){let t=pj();if(t!==void 0){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}else if(ej())return new Blob(e);else throw new wA(TA.UNSUPPORTED_ENVIRONMENT,`This browser doesn't seem to support creating Blobs`)}function hj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function gj(e){if(typeof atob>`u`)throw BA(`base-64`);return atob(e)}var _j={RAW:`raw`,BASE64:`base64`,BASE64URL:`base64url`,DATA_URL:`data_url`},vj=class{constructor(e,t){this.data=e,this.contentType=t||null}};function yj(e,t){switch(e){case _j.RAW:return new vj(bj(t));case _j.BASE64:case _j.BASE64URL:return new vj(Sj(e,t));case _j.DATA_URL:return new vj(wj(t),Tj(t))}throw DA()}function bj(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)==55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)==56320))t.push(239,191,189);else{let i=r,a=e.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else (r&64512)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xj(e){let t;try{t=decodeURIComponent(e)}catch{throw WA(_j.DATA_URL,`Malformed data URL.`)}return bj(t)}function Sj(e,t){switch(e){case _j.BASE64:{let n=t.indexOf(`-`)!==-1,r=t.indexOf(`_`)!==-1;if(n||r)throw WA(e,`Invalid character '`+(n?`-`:`_`)+`' found: is it base64url encoded?`);break}case _j.BASE64URL:{let n=t.indexOf(`+`)!==-1,r=t.indexOf(`/`)!==-1;if(n||r)throw WA(e,`Invalid character '`+(n?`+`:`/`)+`' found: is it base64 encoded?`);t=t.replace(/-/g,`+`).replace(/_/g,`/`);break}}let n;try{n=gj(t)}catch(t){throw t.message.includes(`polyfill`)?t:WA(e,`Invalid character found`)}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}var Cj=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw WA(_j.DATA_URL,`Must be formatted 'data:[<mediatype>][;base64],<data>`);let n=t[1]||null;n!=null&&(this.base64=Ej(n,`;base64`),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(`,`)+1)}};function wj(e){let t=new Cj(e);return t.base64?Sj(_j.BASE64,t.rest):xj(t.rest)}function Tj(e){return new Cj(e).contentType}function Ej(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var Dj=class e{constructor(e,t){let n=0,r=``;$A(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if($A(this.data_)){let r=this.data_,i=hj(r,t,n);return i===null?null:new e(i)}else return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)}static getBlob(...t){if(ej()){let n=t.map(t=>t instanceof e?t.data_:t);return new e(mj.apply(null,n))}else{let n=t.map(e=>QA(e)?yj(_j.RAW,e).data:e.data_),r=0;n.forEach(e=>{r+=e.byteLength});let i=new Uint8Array(r),a=0;return n.forEach(e=>{for(let t=0;t<e.length;t++)i[a++]=e[t]}),new e(i,!0)}}uploadData(){return this.data_}};function Oj(e){let t;try{t=JSON.parse(e)}catch{return null}return ZA(t)?t:null}function kj(e){if(e.length===0)return null;let t=e.lastIndexOf(`/`);return t===-1?``:e.slice(0,t)}function Aj(e,t){let n=t.split(`/`).filter(e=>e.length>0).join(`/`);return e.length===0?n:e+`/`+n}function jj(e){let t=e.lastIndexOf(`/`,e.length-2);return t===-1?e:e.slice(t+1)}function Mj(e,t){return t}var Nj=class{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Mj}},Pj=null;function Fj(e){return!QA(e)||e.length<2?e:jj(e)}function Ij(){if(Pj)return Pj;let e=[];e.push(new Nj(`bucket`)),e.push(new Nj(`generation`)),e.push(new Nj(`metageneration`)),e.push(new Nj(`name`,`fullPath`,!0));function t(e,t){return Fj(t)}let n=new Nj(`name`);n.xform=t,e.push(n);function r(e,t){return t===void 0?t:Number(t)}let i=new Nj(`size`);return i.xform=r,e.push(i),e.push(new Nj(`timeCreated`)),e.push(new Nj(`updated`)),e.push(new Nj(`md5Hash`,null,!0)),e.push(new Nj(`cacheControl`,null,!0)),e.push(new Nj(`contentDisposition`,null,!0)),e.push(new Nj(`contentEncoding`,null,!0)),e.push(new Nj(`contentLanguage`,null,!0)),e.push(new Nj(`contentType`,null,!0)),e.push(new Nj(`metadata`,`customMetadata`,!0)),Pj=e,Pj}function Lj(e,t){function n(){let n=e.bucket,r=e.fullPath,i=new KA(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,`ref`,{get:n})}function Rj(e,t,n){let r={};r.type=`file`;let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return Lj(r,e),r}function zj(e,t,n){let r=Oj(t);return r===null?null:Rj(e,r,n)}function Bj(e,t,n,r){let i=Oj(t);if(i===null||!QA(i.downloadTokens))return null;let a=i.downloadTokens;if(a.length===0)return null;let o=encodeURIComponent;return a.split(`,`).map(t=>{let i=e.bucket,a=e.fullPath;return nj(`/b/`+o(i)+`/o/`+o(a),n,r)+rj({alt:`media`,token:t})})[0]}function Vj(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}var Hj=class{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Uj(e){if(!e)throw DA()}function Wj(e,t){function n(n,r){let i=zj(e,r,t);return Uj(i!==null),i}return n}function Gj(e,t){function n(n,r){let i=zj(e,r,t);return Uj(i!==null),Bj(i,r,e.host,e._protocol)}return n}function Kj(e){function t(t,n){let r;return r=t.getStatus()===401?t.getErrorText().includes(`Firebase App Check token is invalid`)?jA():AA():t.getStatus()===402?kA(e.bucket):t.getStatus()===403?MA(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}return t}function qj(e){let t=Kj(e);function n(n,r){let i=t(n,r);return n.getStatus()===404&&(i=OA(e.path)),i.serverResponse=r.serverResponse,i}return n}function Jj(e,t,n){let r=nj(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Hj(r,`GET`,Gj(e,n),i);return a.errorHandler=qj(t),a}function Yj(e,t){return e&&e.contentType||t&&t.type()||`application/octet-stream`}function Xj(e,t,n){let r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||=Yj(null,t),r}function Zj(e,t,n,r,i){let a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":`multipart`};function s(){let e=``;for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}let c=s();o[`Content-Type`]=`multipart/related; boundary=`+c;let l=Xj(t,r,i),u=Vj(l,n),d=`--`+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+`--`,p=Dj.getBlob(d,r,f);if(p===null)throw RA();let m={name:l.fullPath},h=nj(a,e.host,e._protocol),g=e.maxUploadRetryTime,_=new Hj(h,`POST`,Wj(e,n),g);return _.urlParams=m,_.headers=o,_.body=p.uploadData(),_.errorHandler=Kj(t),_}var Qj=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ij.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener(`abort`,()=>{this.errorCode_=ij.ABORT,e()}),this.xhr_.addEventListener(`error`,()=>{this.errorCode_=ij.NETWORK_ERROR,e()}),this.xhr_.addEventListener(`load`,()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw GA(`cannot .send() more than once`);if(bs(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let e in i)i.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,i[e].toString());return r===void 0?this.xhr_.send():this.xhr_.send(r),this.sendPromise_}getErrorCode(){if(!this.sent_)throw GA(`cannot .getErrorCode() before sending`);return this.errorCode_}getStatus(){if(!this.sent_)throw GA(`cannot .getStatus() before sending`);try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw GA(`cannot .getResponse() before sending`);return this.xhr_.response}getErrorText(){if(!this.sent_)throw GA(`cannot .getErrorText() before sending`);return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener(`progress`,e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener(`progress`,e)}},$j=class extends Qj{initXhr(){this.xhr_.responseType=`text`}};function eM(){return new $j}var tM=class e{constructor(e,t){this._service=e,t instanceof KA?this._location=t:this._location=KA.makeFromUrl(t,e.host)}toString(){return`gs://`+this._location.bucket+`/`+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let e=new KA(this._location.bucket,``);return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jj(this._location.path)}get storage(){return this._service}get parent(){let t=kj(this._location.path);if(t===null)return null;let n=new KA(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(e){if(this._location.path===``)throw UA(e)}};function nM(e,t,n){e._throwIfRoot(`uploadBytes`);let r=Zj(e.storage,e._location,Ij(),new Dj(t,!0),n);return e.storage.makeRequestWithTokens(r,eM).then(t=>({metadata:t,ref:e}))}function rM(e){e._throwIfRoot(`getDownloadURL`);let t=Jj(e.storage,e._location,Ij());return e.storage.makeRequestWithTokens(t,eM).then(e=>{if(e===null)throw zA();return e})}function iM(e,t){let n=Aj(e._location.path,t),r=new KA(e._location.bucket,n);return new tM(e.storage,r)}function aM(e){return/^[A-Za-z]+:\/\//.test(e)}function oM(e,t){return new tM(e,t)}function sM(e,t){if(e instanceof dM){let n=e;if(n._bucket==null)throw LA();let r=new tM(n,n._bucket);return t==null?r:sM(r,t)}else if(t!==void 0)return iM(e,t);else return e}function cM(e,t){if(t&&aM(t)){if(e instanceof dM)return oM(e,t);throw VA(`To use ref(service, url), the first argument must be a Storage instance.`)}else return sM(e,t)}function lM(e,t){let n=t?.[xA];return n==null?null:KA.makeFromBucketSpec(n,e)}function uM(e,t,n,r={}){e.host=`${t}:${n}`;let i=bs(t);i&&(xs(`https://${e.host}/b`),Ds(`Storage`,!0)),e._isUsingEmulator=!0,e._protocol=i?`https`:`http`;let{mockUserToken:a}=r;a&&(e._overrideAuthToken=typeof a==`string`?a:Ss(a,e.app.options.projectId))}var dM=class{constructor(e,t,n,r,i,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=bA,this._protocol=`https`,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SA,this._maxUploadRetryTime=CA,this._requests=new Set,r==null?this._bucket=lM(this._host,this.app.options):this._bucket=KA.makeFromBucketSpec(r,this._host)}get host(){return this._host}set host(e){this._host=e,this._url==null?this._bucket=lM(e,this.app.options):this._bucket=KA.makeFromBucketSpec(this._url,e)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tj(`time`,0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tj(`time`,0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(El(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tM(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new qA(HA());{let a=fj(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}},fM=`@firebase/storage`,pM=`0.14.0`,mM=`storage`;function hM(e,t,n){return e=L(e),nM(e,t,n)}function gM(e){return e=L(e),rM(e)}function _M(e,t){return e=L(e),cM(e,t)}function vM(e=jl(),t){e=L(e);let n=Tl(e,mM).getImmediate({identifier:t}),r=gs(`storage`);return r&&yM(n,...r),n}function yM(e,t,n,r={}){uM(e,t,n,r)}function bM(e,{instanceIdentifier:t}){return new dM(e.getProvider(`app`).getImmediate(),e.getProvider(`auth-internal`),e.getProvider(`app-check-internal`),t,kl)}function xM(){wl(new ac(mM,bM,`PUBLIC`).setMultipleInstances(!0)),Ml(fM,pM,``),Ml(fM,pM,`esm2020`)}xM();var SM={class:`provider-signup`},CM={class:`radio`},wM={class:`radio`},TM={key:0},EM={class:`checkbox-group`},DM=[`value`],OM={class:`checkbox-group`},kM=[`value`],AM={class:`checkbox-group`},jM=[`value`],MM={class:`radio`},NM={class:`checkbox`},PM={class:`checkbox`},FM={key:1,class:`error`},IM=[`disabled`],LM=t_({__name:`ProviderSignup`,setup(e){let t=e_(),n=Wm(),r=RT(),i=vM(),a=O(!1),o=O(``),s=[`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`],c=[`Morning`,`Afternoon`,`Evening`],l=[`Wound Care`,`Injections & Drips`,`Elderly Care`,`Postnatal Care`,`Home Monitoring`],u=[`Massage Therapy`,`Stroke Rehabilitation`,`Post-surgery Rehab`],d=ja(()=>f.value.role===`Nurse`?l:u),f=O({name:``,email:``,phone:``,gender:``,dob:``,address:``,role:``,qualification:``,specialization:``,experience:``,services:[],licenseNumber:``,issuingAuthority:``,licenseDoc:null,idDoc:null,city:``,coverageArea:``,travel:``,days:[],timeSlots:[],emergency:!1,bankName:``,accountName:``,confirm:!1,agree:!1});async function p(e,t,n){if(!t)return null;let r=_M(i,`providers/${e}/${n}`);return await hM(r,t),await gM(r)}async function m(){a.value=!0;try{let e=(await kf(n,f.value.email,`TempPass123!`)).user.uid,i=await p(e,f.value.licenseDoc,`license`),a=await p(e,f.value.idDoc,`id`);await xE(NT(r,`users`,e),{uid:e,name:f.value.name,email:f.value.email,phone:f.value.phone,address:f.value.address,category:`provider`,createdAt:wE()}),await xE(NT(r,`providers`,e),{...f.value,licenseUrl:i,idUrl:a,status:`pending_review`,createdAt:wE()}),t.push(`/dashboard`)}catch(e){o.value=e.message}finally{a.value=!1}}return(e,t)=>(j(),M(`div`,SM,[t[43]||=N(`header`,{class:`intro`},[N(`h1`,null,`Join as a Healthcare Provider`),N(`p`,null,` Provide safe, professional home healthcare and get matched with patients near you. `)],-1),N(`form`,{onSubmit:Mo(m,[`prevent`])},[N(`section`,null,[t[27]||=N(`h2`,null,`Personal Information`,-1),A(N(`input`,{"onUpdate:modelValue":t[0]||=e=>f.value.name=e,placeholder:`Full Name`,required:``},null,512),[[I,f.value.name]]),A(N(`input`,{type:`email`,"onUpdate:modelValue":t[1]||=e=>f.value.email=e,placeholder:`Email Address`,required:``},null,512),[[I,f.value.email]]),A(N(`input`,{"onUpdate:modelValue":t[2]||=e=>f.value.phone=e,placeholder:`Phone Number`,required:``},null,512),[[I,f.value.phone]]),A(N(`select`,{"onUpdate:modelValue":t[3]||=e=>f.value.gender=e},[...t[26]||=[N(`option`,{value:``},`Gender (optional)`,-1),N(`option`,null,`Male`,-1),N(`option`,null,`Female`,-1)]],512),[[Eo,f.value.gender]]),A(N(`input`,{type:`date`,"onUpdate:modelValue":t[4]||=e=>f.value.dob=e},null,512),[[I,f.value.dob]]),A(N(`textarea`,{"onUpdate:modelValue":t[5]||=e=>f.value.address=e,placeholder:`Residential Address`,required:``},null,512),[[I,f.value.address]])]),N(`section`,null,[t[30]||=N(`h2`,null,`Professional Role`,-1),N(`label`,CM,[A(N(`input`,{type:`radio`,value:`Nurse`,"onUpdate:modelValue":t[6]||=e=>f.value.role=e},null,512),[[To,f.value.role]]),t[28]||=F(` Nurse `,-1)]),N(`label`,wM,[A(N(`input`,{type:`radio`,value:`Physiotherapist`,"onUpdate:modelValue":t[7]||=e=>f.value.role=e},null,512),[[To,f.value.role]]),t[29]||=F(` Physiotherapist `,-1)])]),f.value.role?(j(),M(`section`,TM,[t[31]||=N(`h2`,null,`Professional Details`,-1),f.value.role===`Nurse`?A((j(),M(`input`,{key:0,"onUpdate:modelValue":t[8]||=e=>f.value.qualification=e,placeholder:`Nursing Qualification`,required:``},null,512)),[[I,f.value.qualification]]):ra(``,!0),f.value.role===`Physiotherapist`?A((j(),M(`input`,{key:1,"onUpdate:modelValue":t[9]||=e=>f.value.specialization=e,placeholder:`Area of Specialization`,required:``},null,512)),[[I,f.value.specialization]]):ra(``,!0),A(N(`input`,{type:`number`,"onUpdate:modelValue":t[10]||=e=>f.value.experience=e,placeholder:`Years of Experience`,required:``},null,512),[[I,f.value.experience]]),N(`div`,EM,[(j(!0),M(Ri,null,Tr(d.value,e=>(j(),M(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":t[11]||=e=>f.value.services=e},null,8,DM),[[Co,f.value.services]]),F(` `+C(e),1)]))),128))])])):ra(``,!0),N(`section`,null,[t[34]||=N(`h2`,null,`License & Verification`,-1),A(N(`input`,{"onUpdate:modelValue":t[12]||=e=>f.value.licenseNumber=e,placeholder:`License Number`,required:``},null,512),[[I,f.value.licenseNumber]]),A(N(`input`,{"onUpdate:modelValue":t[13]||=e=>f.value.issuingAuthority=e,placeholder:`Issuing Authority`,required:``},null,512),[[I,f.value.issuingAuthority]]),N(`label`,null,[t[32]||=F(` Upload License Document (PDF/Image) `,-1),N(`input`,{type:`file`,accept:`image/*,application/pdf`,onChange:t[14]||=e=>f.value.licenseDoc=e.target.files[0],required:``},null,32)]),N(`label`,null,[t[33]||=F(` Upload Valid ID (Optional) `,-1),N(`input`,{type:`file`,accept:`image/*,application/pdf`,onChange:t[15]||=e=>f.value.idDoc=e.target.files[0]},null,32)]),t[35]||=N(`small`,null,`Your documents are reviewed before your account goes live.`,-1)]),N(`section`,null,[t[37]||=N(`h2`,null,`Location & Coverage`,-1),A(N(`input`,{"onUpdate:modelValue":t[16]||=e=>f.value.city=e,placeholder:`City / State`,required:``},null,512),[[I,f.value.city]]),A(N(`input`,{"onUpdate:modelValue":t[17]||=e=>f.value.coverageArea=e,placeholder:`Areas You Cover`,required:``},null,512),[[I,f.value.coverageArea]]),A(N(`select`,{"onUpdate:modelValue":t[18]||=e=>f.value.travel=e},[...t[36]||=[N(`option`,{value:``},`Willing to Travel?`,-1),N(`option`,null,`Yes`,-1),N(`option`,null,`No`,-1)]],512),[[Eo,f.value.travel]])]),N(`section`,null,[t[39]||=N(`h2`,null,`Availability`,-1),N(`div`,OM,[(j(),M(Ri,null,Tr(s,e=>N(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":t[19]||=e=>f.value.days=e},null,8,kM),[[Co,f.value.days]]),F(` `+C(e),1)])),64))]),N(`div`,AM,[(j(),M(Ri,null,Tr(c,e=>N(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":t[20]||=e=>f.value.timeSlots=e},null,8,jM),[[Co,f.value.timeSlots]]),F(` `+C(e),1)])),64))]),N(`label`,MM,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":t[21]||=e=>f.value.emergency=e},null,512),[[Co,f.value.emergency]]),t[38]||=F(` Available for Emergency Calls `,-1)])]),N(`section`,null,[t[40]||=N(`h2`,null,`Payment Preferences (Optional)`,-1),A(N(`input`,{"onUpdate:modelValue":t[22]||=e=>f.value.bankName=e,placeholder:`Bank Name`},null,512),[[I,f.value.bankName]]),A(N(`input`,{"onUpdate:modelValue":t[23]||=e=>f.value.accountName=e,placeholder:`Account Name`},null,512),[[I,f.value.accountName]])]),N(`section`,null,[N(`label`,NM,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":t[24]||=e=>f.value.confirm=e,required:``},null,512),[[Co,f.value.confirm]]),t[41]||=F(` I confirm all information is correct `,-1)]),N(`label`,PM,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":t[25]||=e=>f.value.agree=e,required:``},null,512),[[Co,f.value.agree]]),t[42]||=F(` I agree to platform terms & professional conduct `,-1)])]),o.value?(j(),M(`p`,FM,C(o.value),1)):ra(``,!0),N(`button`,{type:`submit`,disabled:a.value},C(a.value?`Submitting...`:`Apply to Join`),9,IM)],32)]))}},[[`__scopeId`,`data-v-7c231a72`]]),RM={class:`manage-services`},zM={class:`container`},BM={class:`checkbox-group`},VM=[`value`],HM={class:`checkbox-group`},UM=[`value`],WM={class:`checkbox-group`},GM=[`value`],KM={class:`radio`},qM={key:0,class:`error`},JM=[`disabled`],YM=t_({__name:`Manage`,setup(e){let t=O(!1),n=O(``),r=[`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`],i=[`Morning`,`Afternoon`,`Evening`],a=[`Wound Care`,`Injections & Drips`,`Elderly Care`,`Postnatal Care`,`Home Monitoring`],o=Wt({services:[],days:[],timeSlots:[],emergency:!1,role:`Nurse`}),s=ja(()=>o.role===`Nurse`?a:[]);dr(()=>{Pf(Wm(),async e=>{if(e)try{let t=await yE(NT(HO,`providers`,e.uid));if(t.exists()){let e=t.data();o.services=e.services||[],o.days=e.days||[],o.timeSlots=e.timeSlots||[],o.emergency=e.emergency||!1}}catch(e){console.error(`Error fetching provider data:`,e),n.value=`Failed to load your data.`}})});async function c(){t.value=!0;try{let e=Wm().currentUser;if(!e)throw Error(`User not logged in`);await xE(NT(HO,`providers`,e.uid),{services:o.services,days:o.days,timeSlots:o.timeSlots,emergency:o.emergency,updatedAt:wE()},{merge:!0}),alert(`Services updated successfully `)}catch(e){console.error(e),n.value=e.message}finally{t.value=!1}}return(e,a)=>(j(),M(`div`,RM,[N(`div`,zM,[a[9]||=N(`h1`,null,`Manage Your Services & Availability`,-1),a[10]||=N(`p`,null,`Adjust the services you provide, working hours, and emergency availability`,-1),N(`form`,{onSubmit:Mo(c,[`prevent`])},[N(`section`,null,[a[4]||=N(`h2`,null,`Services You Provide`,-1),N(`div`,BM,[(j(!0),M(Ri,null,Tr(s.value,e=>(j(),M(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":a[0]||=e=>o.services=e},null,8,VM),[[Co,o.services]]),F(` `+C(e),1)]))),128))])]),N(`section`,null,[a[5]||=N(`h2`,null,`Working Days`,-1),N(`div`,HM,[(j(),M(Ri,null,Tr(r,e=>N(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":a[1]||=e=>o.days=e},null,8,UM),[[Co,o.days]]),F(` `+C(e),1)])),64))])]),N(`section`,null,[a[6]||=N(`h2`,null,`Available Time Slots`,-1),N(`div`,WM,[(j(),M(Ri,null,Tr(i,e=>N(`label`,{key:e},[A(N(`input`,{type:`checkbox`,value:e,"onUpdate:modelValue":a[2]||=e=>o.timeSlots=e},null,8,GM),[[Co,o.timeSlots]]),F(` `+C(e),1)])),64))])]),N(`section`,null,[a[8]||=N(`h2`,null,`Emergency Availability`,-1),N(`label`,KM,[A(N(`input`,{type:`checkbox`,"onUpdate:modelValue":a[3]||=e=>o.emergency=e},null,512),[[Co,o.emergency]]),a[7]||=F(` Available for Emergency Calls `,-1)])]),n.value?(j(),M(`p`,qM,C(n.value),1)):ra(``,!0),N(`button`,{type:`submit`,disabled:t.value},C(t.value?`Updating...`:`Save Changes`),9,JM)],32)])]))}},[[`__scopeId`,`data-v-25be5fb9`]]),XM=$g({history:vg(`/health/`),routes:[{path:`/`,name:`Landing`,component:u_},{path:`/editprovider`,name:`EditProviderProfile`,component:yA},{path:`/payment`,name:`Payment`,component:cA},{path:`/manage`,name:`Manage`,component:YM},{path:`/dashboard`,name:`ClientDashboard`,component:rk},{path:`/providerdashboard`,name:`ProviderDashboard`,component:Ok},{path:`/about`,name:`About`,component:Jk},{path:`/policy`,name:`Policy`,component:Hk},{path:`/providersignup`,name:`ProviderSignup`,component:LM},{path:`/book`,name:`BookingForm`,component:v_},{path:`/signup`,name:`Signup`,component:Mk},{path:`/login`,name:`Login`,component:Rk}]}),ZM=Io(Xm);ZM.use(es()),ZM.use(XM),ZM.mount(`#app`);